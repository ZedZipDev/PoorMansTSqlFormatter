/**
 * A simple free (AGPL) T-SQL formatting library for JS
 * @version 1.6.16.204
 * @copyright Copyright Â©  2011-2017 Tao Klerks
 * @compiler Bridge.NET 17.10.1
 */
Bridge.assembly("PoorMansTSqlFormatterJS", function ($asm, globals) {
    "use strict";

    Bridge.define("PoorMansTSqlFormatterLib._SqlFormattingManager", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.BaseFormatterState", {
        fields: {
            HtmlOutput: false,
            _outBuilder: null
        },
        ctors: {
            init: function () {
                this._outBuilder = new System.Text.StringBuilder();
            },
            ctor: function (htmlOutput) {
                this.$initialize();
                this.HtmlOutput = htmlOutput;
            }
        },
        methods: {
            AddOutputContent: function (content) {
                this.AddOutputContent$1(content, null);
            },
            AddOutputContent$1: function (content, htmlClassName) {
                if (this.HtmlOutput) {
                    if (!System.String.isNullOrEmpty(htmlClassName)) {
                        this._outBuilder.append("<span class=\"" + (htmlClassName || "") + "\">");
                    }
                    this._outBuilder.append(PoorMansTSqlFormatterLib.Utils.HtmlEncode(content));
                    if (!System.String.isNullOrEmpty(htmlClassName)) {
                        this._outBuilder.append("</span>");
                    }
                } else {
                    this._outBuilder.append(content);
                }
            },
            OpenClass: function (htmlClassName) {
                if (htmlClassName == null) {
                    throw new System.ArgumentNullException.$ctor1("htmlClassName");
                }

                if (this.HtmlOutput) {
                    this._outBuilder.append("<span class=\"" + (htmlClassName || "") + "\">");
                }
            },
            CloseClass: function () {
                if (this.HtmlOutput) {
                    this._outBuilder.append("</span>");
                }
            },
            AddOutputContentRaw: function (content) {
                this._outBuilder.append(content);
            },
            AddOutputLineBreak: function () {
                this._outBuilder.append("\n");
            },
            DumpOutput: function () {
                return this._outBuilder.toString();
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTokenFormatter", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType", {
        $kind: "nested enum",
        statics: {
            fields: {
                NoFormat: 1,
                Minify: 2
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions", {
        statics: {
            fields: {
                _defaultOptions: null
            },
            ctors: {
                init: function () {
                    this._defaultOptions = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor();
                }
            }
        },
        fields: {
            _indentString: null,
            SpacesPerTab: 0,
            MaxLineWidth: 0,
            ExpandCommaLists: false,
            TrailingCommas: false,
            SpaceAfterExpandedComma: false,
            ExpandBooleanExpressions: false,
            ExpandCaseStatements: false,
            ExpandBetweenConditions: false,
            UppercaseKeywords: false,
            BreakJoinOnSections: false,
            HTMLColoring: false,
            KeywordStandardization: false,
            ExpandInLists: false,
            NewClauseLineBreaks: 0,
            NewStatementLineBreaks: 0
        },
        props: {
            IndentString: {
                get: function () {
                    return this._indentString;
                },
                set: function (value) {
                    this._indentString = System.String.replaceAll(System.String.replaceAll(value, "\\t", "\t"), "\\s", " ");
                }
            }
        },
        ctors: {
            ctor: function () {
                this.$initialize();
                this.IndentString = "\t";
                this.SpacesPerTab = 4;
                this.MaxLineWidth = 999;
                this.ExpandCommaLists = true;
                this.TrailingCommas = false;
                this.SpaceAfterExpandedComma = false;
                this.ExpandBooleanExpressions = true;
                this.ExpandBetweenConditions = true;
                this.ExpandCaseStatements = true;
                this.UppercaseKeywords = true;
                this.BreakJoinOnSections = false;
                this.HTMLColoring = false;
                this.KeywordStandardization = false;
                this.ExpandInLists = true;
                this.NewClauseLineBreaks = 1;
                this.NewStatementLineBreaks = 2;
            },
            $ctor1: function (serializedString) {
                var $t;
                PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor.call(this);

                if (System.String.isNullOrEmpty(serializedString)) {
                    return;
                }

                $t = Bridge.getEnumerator(System.String.split(serializedString, [44].map(function (i) {{ return String.fromCharCode(i); }})));
                try {
                    while ($t.moveNext()) {
                        var kvp = $t.Current;
                        var splitPair = System.String.split(kvp, [61].map(function (i) {{ return String.fromCharCode(i); }}));
                        var key = splitPair[System.Array.index(0, splitPair)];
                        var value = splitPair[System.Array.index(1, splitPair)];

                        if (Bridge.referenceEquals(key, "IndentString")) {
                            this.IndentString = value;
                        } else {
                            if (Bridge.referenceEquals(key, "SpacesPerTab")) {
                                this.SpacesPerTab = System.Convert.toInt32(value);
                            } else {
                                if (Bridge.referenceEquals(key, "MaxLineWidth")) {
                                    this.MaxLineWidth = System.Convert.toInt32(value);
                                } else {
                                    if (Bridge.referenceEquals(key, "ExpandCommaLists")) {
                                        this.ExpandCommaLists = System.Convert.toBoolean(value);
                                    } else {
                                        if (Bridge.referenceEquals(key, "TrailingCommas")) {
                                            this.TrailingCommas = System.Convert.toBoolean(value);
                                        } else {
                                            if (Bridge.referenceEquals(key, "SpaceAfterExpandedComma")) {
                                                this.SpaceAfterExpandedComma = System.Convert.toBoolean(value);
                                            } else {
                                                if (Bridge.referenceEquals(key, "ExpandBooleanExpressions")) {
                                                    this.ExpandBooleanExpressions = System.Convert.toBoolean(value);
                                                } else {
                                                    if (Bridge.referenceEquals(key, "ExpandBetweenConditions")) {
                                                        this.ExpandBetweenConditions = System.Convert.toBoolean(value);
                                                    } else {
                                                        if (Bridge.referenceEquals(key, "ExpandCaseStatements")) {
                                                            this.ExpandCaseStatements = System.Convert.toBoolean(value);
                                                        } else {
                                                            if (Bridge.referenceEquals(key, "UppercaseKeywords")) {
                                                                this.UppercaseKeywords = System.Convert.toBoolean(value);
                                                            } else {
                                                                if (Bridge.referenceEquals(key, "BreakJoinOnSections")) {
                                                                    this.BreakJoinOnSections = System.Convert.toBoolean(value);
                                                                } else {
                                                                    if (Bridge.referenceEquals(key, "HTMLColoring")) {
                                                                        this.HTMLColoring = System.Convert.toBoolean(value);
                                                                    } else {
                                                                        if (Bridge.referenceEquals(key, "KeywordStandardization")) {
                                                                            this.KeywordStandardization = System.Convert.toBoolean(value);
                                                                        } else {
                                                                            if (Bridge.referenceEquals(key, "ExpandInLists")) {
                                                                                this.ExpandInLists = System.Convert.toBoolean(value);
                                                                            } else {
                                                                                if (Bridge.referenceEquals(key, "NewClauseLineBreaks")) {
                                                                                    this.NewClauseLineBreaks = System.Convert.toInt32(value);
                                                                                } else {
                                                                                    if (Bridge.referenceEquals(key, "NewStatementLineBreaks")) {
                                                                                        this.NewStatementLineBreaks = System.Convert.toInt32(value);
                                                                                    } else {
                                                                                        throw new System.ArgumentException.$ctor1("Unknown option: " + (key || ""));
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }

            }
        },
        methods: {
            ToSerializedString: function () {
                var overrides = new (System.Collections.Generic.Dictionary$2(System.String,System.String)).ctor();

                if (!Bridge.referenceEquals(this.IndentString, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.IndentString)) {
                    overrides.add("IndentString", this.IndentString);
                }
                if (this.SpacesPerTab !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.SpacesPerTab) {
                    overrides.add("SpacesPerTab", Bridge.toString(this.SpacesPerTab));
                }
                if (this.MaxLineWidth !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.MaxLineWidth) {
                    overrides.add("MaxLineWidth", Bridge.toString(this.MaxLineWidth));
                }
                if (this.ExpandCommaLists !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandCommaLists) {
                    overrides.add("ExpandCommaLists", System.Boolean.toString(this.ExpandCommaLists));
                }
                if (this.TrailingCommas !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.TrailingCommas) {
                    overrides.add("TrailingCommas", System.Boolean.toString(this.TrailingCommas));
                }
                if (this.SpaceAfterExpandedComma !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.SpaceAfterExpandedComma) {
                    overrides.add("SpaceAfterExpandedComma", System.Boolean.toString(this.SpaceAfterExpandedComma));
                }
                if (this.ExpandBooleanExpressions !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandBooleanExpressions) {
                    overrides.add("ExpandBooleanExpressions", System.Boolean.toString(this.ExpandBooleanExpressions));
                }
                if (this.ExpandBetweenConditions !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandBetweenConditions) {
                    overrides.add("ExpandBetweenConditions", System.Boolean.toString(this.ExpandBetweenConditions));
                }
                if (this.ExpandCaseStatements !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandCaseStatements) {
                    overrides.add("ExpandCaseStatements", System.Boolean.toString(this.ExpandCaseStatements));
                }
                if (this.UppercaseKeywords !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.UppercaseKeywords) {
                    overrides.add("UppercaseKeywords", System.Boolean.toString(this.UppercaseKeywords));
                }
                if (this.BreakJoinOnSections !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.BreakJoinOnSections) {
                    overrides.add("BreakJoinOnSections", System.Boolean.toString(this.BreakJoinOnSections));
                }
                if (this.HTMLColoring !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.HTMLColoring) {
                    overrides.add("HTMLColoring", System.Boolean.toString(this.HTMLColoring));
                }
                if (this.KeywordStandardization !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.KeywordStandardization) {
                    overrides.add("KeywordStandardization", System.Boolean.toString(this.KeywordStandardization));
                }
                if (this.ExpandInLists !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.ExpandInLists) {
                    overrides.add("ExpandInLists", System.Boolean.toString(this.ExpandInLists));
                }
                if (this.NewClauseLineBreaks !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.NewClauseLineBreaks) {
                    overrides.add("NewClauseLineBreaks", Bridge.toString(this.NewClauseLineBreaks));
                }
                if (this.NewStatementLineBreaks !== PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions._defaultOptions.NewStatementLineBreaks) {
                    overrides.add("NewStatementLineBreaks", Bridge.toString(this.NewStatementLineBreaks));
                }
                this.NewStatementLineBreaks = 2;

                if (overrides.Count === 0) {
                    return "";
                }
                return (System.Linq.Enumerable.from(overrides, System.Collections.Generic.KeyValuePair$2(System.String,System.String)).select(function (kvp) {
                        return (kvp.key || "") + "=" + (kvp.value || "");
                    }).ToArray(System.String)).join(",");

            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTokenizer", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ISqlTokenParser", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.IToken", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.MessagingConstants", {
        statics: {
            fields: {
                FormatErrorDefaultMessage: null
            },
            ctors: {
                init: function () {
                    this.FormatErrorDefaultMessage = "--WARNING! ERRORS ENCOUNTERED DURING SQL PARSING!";
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants", {
        statics: {
            fields: {
                CLASS_OPERATOR: null,
                CLASS_COMMENT: null,
                CLASS_STRING: null,
                CLASS_FUNCTION: null,
                CLASS_KEYWORD: null,
                CLASS_ERRORHIGHLIGHT: null
            },
            ctors: {
                init: function () {
                    this.CLASS_OPERATOR = "SQLOperator";
                    this.CLASS_COMMENT = "SQLComment";
                    this.CLASS_STRING = "SQLString";
                    this.CLASS_FUNCTION = "SQLFunction";
                    this.CLASS_KEYWORD = "SQLKeyword";
                    this.CLASS_ERRORHIGHLIGHT = "SQLErrorHighlight";
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants", {
        statics: {
            fields: {
                ENAME_SQL_ROOT: null,
                ENAME_SQL_STATEMENT: null,
                ENAME_SQL_CLAUSE: null,
                ENAME_SET_OPERATOR_CLAUSE: null,
                ENAME_INSERT_CLAUSE: null,
                ENAME_BEGIN_END_BLOCK: null,
                ENAME_TRY_BLOCK: null,
                ENAME_CATCH_BLOCK: null,
                ENAME_BATCH_SEPARATOR: null,
                ENAME_CASE_STATEMENT: null,
                ENAME_CASE_INPUT: null,
                ENAME_CASE_WHEN: null,
                ENAME_CASE_THEN: null,
                ENAME_CASE_ELSE: null,
                ENAME_IF_STATEMENT: null,
                ENAME_ELSE_CLAUSE: null,
                ENAME_BOOLEAN_EXPRESSION: null,
                ENAME_WHILE_LOOP: null,
                ENAME_CURSOR_DECLARATION: null,
                ENAME_CURSOR_FOR_BLOCK: null,
                ENAME_CURSOR_FOR_OPTIONS: null,
                ENAME_CTE_WITH_CLAUSE: null,
                ENAME_CTE_ALIAS: null,
                ENAME_CTE_AS_BLOCK: null,
                ENAME_BEGIN_TRANSACTION: null,
                ENAME_COMMIT_TRANSACTION: null,
                ENAME_ROLLBACK_TRANSACTION: null,
                ENAME_SAVE_TRANSACTION: null,
                ENAME_DDL_DECLARE_BLOCK: null,
                ENAME_DDL_PROCEDURAL_BLOCK: null,
                ENAME_DDL_OTHER_BLOCK: null,
                ENAME_DDL_AS_BLOCK: null,
                ENAME_DDL_PARENS: null,
                ENAME_DDL_SUBCLAUSE: null,
                ENAME_DDL_RETURNS: null,
                ENAME_DDLDETAIL_PARENS: null,
                ENAME_DDL_WITH_CLAUSE: null,
                ENAME_PERMISSIONS_BLOCK: null,
                ENAME_PERMISSIONS_DETAIL: null,
                ENAME_PERMISSIONS_TARGET: null,
                ENAME_PERMISSIONS_RECIPIENT: null,
                ENAME_TRIGGER_CONDITION: null,
                ENAME_SELECTIONTARGET_PARENS: null,
                ENAME_EXPRESSION_PARENS: null,
                ENAME_FUNCTION_PARENS: null,
                ENAME_IN_PARENS: null,
                ENAME_FUNCTION_KEYWORD: null,
                ENAME_DATATYPE_KEYWORD: null,
                ENAME_COMPOUNDKEYWORD: null,
                ENAME_OTHERKEYWORD: null,
                ENAME_LABEL: null,
                ENAME_CONTAINER_OPEN: null,
                ENAME_CONTAINER_MULTISTATEMENT: null,
                ENAME_CONTAINER_SINGLESTATEMENT: null,
                ENAME_CONTAINER_GENERALCONTENT: null,
                ENAME_CONTAINER_CLOSE: null,
                ENAME_SELECTIONTARGET: null,
                ENAME_MERGE_CLAUSE: null,
                ENAME_MERGE_TARGET: null,
                ENAME_MERGE_USING: null,
                ENAME_MERGE_CONDITION: null,
                ENAME_MERGE_WHEN: null,
                ENAME_MERGE_THEN: null,
                ENAME_MERGE_ACTION: null,
                ENAME_JOIN_ON_SECTION: null,
                ENAME_PSEUDONAME: null,
                ENAME_WHITESPACE: null,
                ENAME_OTHERNODE: null,
                ENAME_COMMENT_SINGLELINE: null,
                ENAME_COMMENT_SINGLELINE_CSTYLE: null,
                ENAME_COMMENT_MULTILINE: null,
                ENAME_STRING: null,
                ENAME_NSTRING: null,
                ENAME_QUOTED_STRING: null,
                ENAME_BRACKET_QUOTED_NAME: null,
                ENAME_COMMA: null,
                ENAME_PERIOD: null,
                ENAME_SEMICOLON: null,
                ENAME_SCOPERESOLUTIONOPERATOR: null,
                ENAME_ASTERISK: null,
                ENAME_EQUALSSIGN: null,
                ENAME_ALPHAOPERATOR: null,
                ENAME_OTHEROPERATOR: null,
                ENAME_AND_OPERATOR: null,
                ENAME_OR_OPERATOR: null,
                ENAME_BETWEEN_CONDITION: null,
                ENAME_BETWEEN_LOWERBOUND: null,
                ENAME_BETWEEN_UPPERBOUND: null,
                ENAME_NUMBER_VALUE: null,
                ENAME_MONETARY_VALUE: null,
                ENAME_BINARY_VALUE: null,
                ANAME_ERRORFOUND: null,
                ANAME_HASERROR: null,
                ANAME_DATALOSS: null,
                ANAME_SIMPLETEXT: null,
                ENAMELIST_COMMENT: null,
                ENAMELIST_NONCONTENT: null,
                ENAMELIST_NONSEMANTICCONTENT: null
            },
            ctors: {
                init: function () {
                    this.ENAME_SQL_ROOT = "SqlRoot";
                    this.ENAME_SQL_STATEMENT = "SqlStatement";
                    this.ENAME_SQL_CLAUSE = "Clause";
                    this.ENAME_SET_OPERATOR_CLAUSE = "SetOperatorClause";
                    this.ENAME_INSERT_CLAUSE = "InsertClause";
                    this.ENAME_BEGIN_END_BLOCK = "BeginEndBlock";
                    this.ENAME_TRY_BLOCK = "TryBlock";
                    this.ENAME_CATCH_BLOCK = "CatchBlock";
                    this.ENAME_BATCH_SEPARATOR = "BatchSeparator";
                    this.ENAME_CASE_STATEMENT = "CaseStatement";
                    this.ENAME_CASE_INPUT = "Input";
                    this.ENAME_CASE_WHEN = "When";
                    this.ENAME_CASE_THEN = "Then";
                    this.ENAME_CASE_ELSE = "CaseElse";
                    this.ENAME_IF_STATEMENT = "IfStatement";
                    this.ENAME_ELSE_CLAUSE = "ElseClause";
                    this.ENAME_BOOLEAN_EXPRESSION = "BooleanExpression";
                    this.ENAME_WHILE_LOOP = "WhileLoop";
                    this.ENAME_CURSOR_DECLARATION = "CursorDeclaration";
                    this.ENAME_CURSOR_FOR_BLOCK = "CursorForBlock";
                    this.ENAME_CURSOR_FOR_OPTIONS = "CursorForOptions";
                    this.ENAME_CTE_WITH_CLAUSE = "CTEWithClause";
                    this.ENAME_CTE_ALIAS = "CTEAlias";
                    this.ENAME_CTE_AS_BLOCK = "CTEAsBlock";
                    this.ENAME_BEGIN_TRANSACTION = "BeginTransaction";
                    this.ENAME_COMMIT_TRANSACTION = "CommitTransaction";
                    this.ENAME_ROLLBACK_TRANSACTION = "RollbackTransaction";
                    this.ENAME_SAVE_TRANSACTION = "SaveTransaction";
                    this.ENAME_DDL_DECLARE_BLOCK = "DDLDeclareBlock";
                    this.ENAME_DDL_PROCEDURAL_BLOCK = "DDLProceduralBlock";
                    this.ENAME_DDL_OTHER_BLOCK = "DDLOtherBlock";
                    this.ENAME_DDL_AS_BLOCK = "DDLAsBlock";
                    this.ENAME_DDL_PARENS = "DDLParens";
                    this.ENAME_DDL_SUBCLAUSE = "DDLSubClause";
                    this.ENAME_DDL_RETURNS = "DDLReturns";
                    this.ENAME_DDLDETAIL_PARENS = "DDLDetailParens";
                    this.ENAME_DDL_WITH_CLAUSE = "DDLWith";
                    this.ENAME_PERMISSIONS_BLOCK = "PermissionsBlock";
                    this.ENAME_PERMISSIONS_DETAIL = "PermissionsDetail";
                    this.ENAME_PERMISSIONS_TARGET = "PermissionsTarget";
                    this.ENAME_PERMISSIONS_RECIPIENT = "PermissionsRecipient";
                    this.ENAME_TRIGGER_CONDITION = "TriggerCondition";
                    this.ENAME_SELECTIONTARGET_PARENS = "SelectionTargetParens";
                    this.ENAME_EXPRESSION_PARENS = "ExpressionParens";
                    this.ENAME_FUNCTION_PARENS = "FunctionParens";
                    this.ENAME_IN_PARENS = "InParens";
                    this.ENAME_FUNCTION_KEYWORD = "FunctionKeyword";
                    this.ENAME_DATATYPE_KEYWORD = "DataTypeKeyword";
                    this.ENAME_COMPOUNDKEYWORD = "CompoundKeyword";
                    this.ENAME_OTHERKEYWORD = "OtherKeyword";
                    this.ENAME_LABEL = "Label";
                    this.ENAME_CONTAINER_OPEN = "ContainerOpen";
                    this.ENAME_CONTAINER_MULTISTATEMENT = "ContainerMultiStatementBody";
                    this.ENAME_CONTAINER_SINGLESTATEMENT = "ContainerSingleStatementBody";
                    this.ENAME_CONTAINER_GENERALCONTENT = "ContainerContentBody";
                    this.ENAME_CONTAINER_CLOSE = "ContainerClose";
                    this.ENAME_SELECTIONTARGET = "SelectionTarget";
                    this.ENAME_MERGE_CLAUSE = "MergeClause";
                    this.ENAME_MERGE_TARGET = "MergeTarget";
                    this.ENAME_MERGE_USING = "MergeUsing";
                    this.ENAME_MERGE_CONDITION = "MergeCondition";
                    this.ENAME_MERGE_WHEN = "MergeWhen";
                    this.ENAME_MERGE_THEN = "MergeThen";
                    this.ENAME_MERGE_ACTION = "MergeAction";
                    this.ENAME_JOIN_ON_SECTION = "JoinOn";
                    this.ENAME_PSEUDONAME = "PseudoName";
                    this.ENAME_WHITESPACE = "WhiteSpace";
                    this.ENAME_OTHERNODE = "Other";
                    this.ENAME_COMMENT_SINGLELINE = "SingleLineComment";
                    this.ENAME_COMMENT_SINGLELINE_CSTYLE = "SingleLineCommentCStyle";
                    this.ENAME_COMMENT_MULTILINE = "MultiLineComment";
                    this.ENAME_STRING = "String";
                    this.ENAME_NSTRING = "NationalString";
                    this.ENAME_QUOTED_STRING = "QuotedString";
                    this.ENAME_BRACKET_QUOTED_NAME = "BracketQuotedName";
                    this.ENAME_COMMA = "Comma";
                    this.ENAME_PERIOD = "Period";
                    this.ENAME_SEMICOLON = "Semicolon";
                    this.ENAME_SCOPERESOLUTIONOPERATOR = "ScopeResolutionOperator";
                    this.ENAME_ASTERISK = "Asterisk";
                    this.ENAME_EQUALSSIGN = "EqualsSign";
                    this.ENAME_ALPHAOPERATOR = "AlphaOperator";
                    this.ENAME_OTHEROPERATOR = "OtherOperator";
                    this.ENAME_AND_OPERATOR = "And";
                    this.ENAME_OR_OPERATOR = "Or";
                    this.ENAME_BETWEEN_CONDITION = "Between";
                    this.ENAME_BETWEEN_LOWERBOUND = "LowerBound";
                    this.ENAME_BETWEEN_UPPERBOUND = "UpperBound";
                    this.ENAME_NUMBER_VALUE = "NumberValue";
                    this.ENAME_MONETARY_VALUE = "MonetaryValue";
                    this.ENAME_BINARY_VALUE = "BinaryValue";
                    this.ANAME_ERRORFOUND = "errorFound";
                    this.ANAME_HASERROR = "hasError";
                    this.ANAME_DATALOSS = "dataLossLimitation";
                    this.ANAME_SIMPLETEXT = "simpleText";
                    this.ENAMELIST_COMMENT = System.Array.init([PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE], System.String);
                    this.ENAMELIST_NONCONTENT = System.Array.init([PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE], System.String);
                    this.ENAMELIST_NONSEMANTICCONTENT = System.Array.init([PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK], System.String);
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.SqlTokenType", {
        $kind: "enum",
        statics: {
            fields: {
                OpenParens: 0,
                CloseParens: 1,
                WhiteSpace: 2,
                OtherNode: 3,
                SingleLineComment: 4,
                SingleLineCommentCStyle: 5,
                MultiLineComment: 6,
                String: 7,
                NationalString: 8,
                BracketQuotedName: 9,
                QuotedString: 10,
                Comma: 11,
                Period: 12,
                Semicolon: 13,
                Colon: 14,
                Asterisk: 15,
                EqualsSign: 16,
                MonetaryValue: 17,
                Number: 18,
                BinaryValue: 19,
                OtherOperator: 20,
                PseudoName: 21
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping", {
        statics: {
            fields: {
                Instance: null
            },
            ctors: {
                ctor: function () {
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance = new (System.Collections.Generic.Dictionary$2(System.String,System.String)).ctor();

                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("PROCEDURE", "PROC");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("LEFT OUTER JOIN", "LEFT JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("RIGHT OUTER JOIN", "RIGHT JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("FULL OUTER JOIN", "FULL JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("INNER JOIN", "JOIN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("TRANSACTION", "TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("BEGIN TRANSACTION", "BEGIN TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("COMMIT TRANSACTION", "COMMIT TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("ROLLBACK TRANSACTION", "ROLLBACK TRAN");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("VARBINARY", "BINARY VARYING");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("VARCHAR", "CHARACTER VARYING");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("CHARACTER", "CHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("CHAR VARYING", "VARCHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("DECIMAL", "DEC");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("FLOAT", "DOUBLE PRECISION");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("INTEGER", "INT");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NCHAR", "NATIONAL CHARACTER");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NATIONAL CHAR", "NCHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NVARCHAR", "NATIONAL CHARACTER VARYING");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NATIONAL CHAR VARYING", "NVARCHAR");
                    PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance.add("NTEXT", "NATIONAL TEXT");
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType", {
        $kind: "nested enum",
        statics: {
            fields: {
                OperatorKeyword: 0,
                FunctionKeyword: 1,
                DataTypeKeyword: 2,
                OtherKeyword: 3
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.Node", {
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions", {
        statics: {
            methods: {
                FollowingChild: function (value, fromChild) {
                    var $t;
                    if (value == null) {
                        return null;
                    }

                    if (fromChild == null) {
                        throw new System.ArgumentNullException.$ctor1("fromChild");
                    }

                    var targetFound = false;
                    var sibling = null;

                    $t = Bridge.getEnumerator(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var child = $t.Current;
                            if (targetFound) {
                                sibling = child;
                                break;
                            }

                            if (Bridge.referenceEquals(child, fromChild)) {
                                targetFound = true;
                            }
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$Dispose();
                        }
                    }

                    return sibling;
                },
                PreviousChild: function (value, fromChild) {
                    var $t;
                    if (value == null) {
                        return null;
                    }

                    if (fromChild == null) {
                        throw new System.ArgumentNullException.$ctor1("fromChild");
                    }

                    var previousSibling = null;

                    $t = Bridge.getEnumerator(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var child = $t.Current;
                            if (Bridge.referenceEquals(child, fromChild)) {
                                return previousSibling;
                            }

                            previousSibling = child;
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$Dispose();
                        }
                    }

                    return null;
                },
                NextSibling: function (value) {
                    if (value == null || value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                        return null;
                    }

                    return PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.FollowingChild(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, value);
                },
                PreviousSibling: function (value) {
                    if (value == null || value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                        return null;
                    }

                    return PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousChild(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, value);
                },
                RootContainer: function (value) {
                    if (value == null) {
                        return null;
                    }

                    var currentParent = value;
                    while (currentParent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                        currentParent = currentParent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                    }
                    return currentParent;
                },
                ChildrenByName: function (value, name) {
                    if (value == null) {
                        return System.Linq.Enumerable.empty();
                    }

                    return System.Linq.Enumerable.from(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).where(function (p) {
                            return Bridge.referenceEquals(p.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, name);
                        });
                },
                ChildrenByNames: function (value, names) {
                    if (value == null) {
                        return System.Linq.Enumerable.empty();
                    }

                    return System.Linq.Enumerable.from(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).where(function (p) {
                            return System.Linq.Enumerable.from(names, System.String).contains(p.PoorMansTSqlFormatterLib$ParseStructure$Node$Name);
                        });
                },
                ChildrenExcludingNames: function (value, names) {
                    if (value == null) {
                        return System.Linq.Enumerable.empty();
                    }

                    return System.Linq.Enumerable.from(value.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).where(function (p) {
                            return !System.Linq.Enumerable.from(names, System.String).contains(p.PoorMansTSqlFormatterLib$ParseStructure$Node$Name);
                        });
                },
                ChildByName: function (value, name) {
                    return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(value, name), PoorMansTSqlFormatterLib.ParseStructure.Node).singleOrDefault(null, null);
                },
                ChildByNames: function (value, names) {
                    return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByNames(value, names), PoorMansTSqlFormatterLib.ParseStructure.Node).singleOrDefault(null, null);
                },
                ChildExcludingNames: function (value, names) {
                    return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(value, names), PoorMansTSqlFormatterLib.ParseStructure.Node).singleOrDefault(null, null);
                },
                ExtractStructureBetween: function (startingElement, endingElement) {
                    var $t;
                    var currentNode = startingElement;
                    var previousNode = null;
                    var remainder = null;
                    var remainderPosition = null;

                    while (currentNode != null) {
                        if (Bridge.equals(currentNode, endingElement)) {
                            break;
                        }

                        if (previousNode != null) {
                            var copyOfThisNode = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);

                            $t = Bridge.getEnumerator(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Attributes, System.Collections.Generic.KeyValuePair$2(System.String,System.String));
                            try {
                                while ($t.moveNext()) {
                                    var attribute = $t.Current;
                                    copyOfThisNode.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(attribute.key, attribute.value);
                                }
                            } finally {
                                if (Bridge.is($t, System.IDisposable)) {
                                    $t.System$IDisposable$Dispose();
                                }
                            }

                            if (remainderPosition == null) {
                                remainderPosition = copyOfThisNode;
                                remainder = copyOfThisNode;
                            } else if (Bridge.equals(currentNode, previousNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                                remainderPosition = remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            } else if (Bridge.equals(currentNode, previousNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                                copyOfThisNode.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(remainderPosition);
                                remainderPosition = copyOfThisNode;
                                remainder = copyOfThisNode;
                            } else if (Bridge.equals(currentNode, PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(previousNode)) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                                remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(copyOfThisNode);
                                remainderPosition = copyOfThisNode;
                            } else if (Bridge.equals(currentNode, PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(previousNode)) && remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent == null) {
                                var copyOfThisNodesParent = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                                remainder = copyOfThisNodesParent;
                                remainder.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(remainderPosition);
                                remainder.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(copyOfThisNode);
                                remainderPosition = copyOfThisNode;
                            } else {
                                remainderPosition.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(copyOfThisNode);
                                remainderPosition = copyOfThisNode;
                            }
                        }

                        var nextNode = null;
                        if (previousNode != null && System.Linq.Enumerable.from(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).any() && !(Bridge.equals(currentNode, previousNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent))) {
                            nextNode = System.Linq.Enumerable.from(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).firstOrDefault(null, null);
                        } else if (PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(currentNode) != null) {
                            nextNode = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(currentNode);
                        } else {
                            nextNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                        }

                        previousNode = currentNode;
                        currentNode = nextNode;
                    }

                    return remainder;
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.NodeFactory", {
        statics: {
            methods: {
                CreateNode: function (name, textValue) {
                    var $t;
                    return ($t = new PoorMansTSqlFormatterLib.ParseStructure.NodeImpl(), $t.Name = name, $t.TextValue = textValue, $t);
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.StandardKeywordRemapping", {
        statics: {
            fields: {
                Instance: null
            },
            ctors: {
                ctor: function () {
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance = new (System.Collections.Generic.Dictionary$2(System.String,System.String)).ctor();

                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("PROC", "PROCEDURE");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("LEFT OUTER JOIN", "LEFT JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("RIGHT OUTER JOIN", "RIGHT JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("FULL OUTER JOIN", "FULL JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("JOIN", "INNER JOIN");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("TRAN", "TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("BEGIN TRAN", "BEGIN TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("COMMIT TRAN", "COMMIT TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("ROLLBACK TRAN", "ROLLBACK TRANSACTION");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("BINARY VARYING", "VARBINARY");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("CHAR VARYING", "VARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("CHARACTER", "CHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("CHARACTER VARYING", "VARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("DEC", "DECIMAL");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("DOUBLE PRECISION", "FLOAT");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("INTEGER", "INT");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHARACTER", "NCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHAR", "NCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHARACTER VARYING", "NVARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL CHAR VARYING", "NVARCHAR");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("NATIONAL TEXT", "NTEXT");
                    PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance.add("OUT", "OUTPUT");
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.SimplifiedStringReader", {
        fields: {
            inputChars: null,
            nextCharIndex: 0
        },
        props: {
            LastCharacterPosition: {
                get: function () {
                    if (this.nextCharIndex <= this.inputChars.length) {
                        return System.Int64(this.nextCharIndex);
                    } else {
                        return System.Int64(this.inputChars.length);
                    }
                }
            }
        },
        ctors: {
            init: function () {
                this.nextCharIndex = 0;
            },
            ctor: function (inputString) {
                this.$initialize();
                this.inputChars = System.String.toCharArray(inputString, 0, inputString.length);
            }
        },
        methods: {
            Read: function () {
                var nextChar = this.Peek();
                this.nextCharIndex = (this.nextCharIndex + 1) | 0;
                return nextChar;
            },
            Peek: function () {
                if (this.nextCharIndex < this.inputChars.length) {
                    return this.inputChars[System.Array.index(this.nextCharIndex, this.inputChars)];
                } else {
                    return -1;
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType", {
        $kind: "nested enum",
        statics: {
            fields: {
                WhiteSpace: 0,
                OtherNode: 1,
                SingleLineComment: 2,
                SingleLineCommentCStyle: 3,
                BlockComment: 4,
                String: 5,
                NString: 6,
                QuotedString: 7,
                BracketQuotedName: 8,
                OtherOperator: 9,
                Number: 10,
                BinaryValue: 11,
                MonetaryValue: 12,
                DecimalValue: 13,
                FloatValue: 14,
                PseudoName: 15,
                SingleAsterisk: 16,
                SingleDollar: 17,
                SingleHyphen: 18,
                SingleSlash: 19,
                SingleN: 20,
                SingleLT: 21,
                SingleGT: 22,
                SingleExclamation: 23,
                SinglePeriod: 24,
                SingleZero: 25,
                SinglePipe: 26,
                SingleEquals: 27,
                SingleOtherCompoundableOperator: 28
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.TokenizationState", {
        $kind: "nested class",
        fields: {
            TokenContainer: null,
            InputReader: null,
            CurrentTokenizationType: null,
            CurrentTokenValue: null,
            CommentNesting: 0,
            CurrentCharInt: 0,
            RequestedMarkerPosition: null,
            HasUnprocessedCurrentCharacter: false
        },
        props: {
            CurrentChar: {
                get: function () {
                    if (this.CurrentCharInt < 0) {
                        throw new System.InvalidOperationException.$ctor1("No character has been read from the stream");
                    }

                    if (!this.HasUnprocessedCurrentCharacter) {
                        throw new System.InvalidOperationException.$ctor1("The current character has already been consumed");
                    }

                    return ((this.CurrentCharInt) & 65535);
                }
            }
        },
        ctors: {
            init: function () {
                this.TokenContainer = new PoorMansTSqlFormatterLib.TokenList();
                this.CurrentTokenValue = new System.Text.StringBuilder();
                this.CommentNesting = 0;
                this.CurrentCharInt = -1;
            },
            ctor: function (inputSQL, requestedMarkerPosition) {
                this.$initialize();
                if (System.Nullable.liftcmp("gt", requestedMarkerPosition, System.Int64.lift(inputSQL.length))) {
                    throw new System.ArgumentException.$ctor3("Requested marker position cannot be beyond the end of the input string", "requestedMarkerPosition");
                }

                this.InputReader = new PoorMansTSqlFormatterLib.Tokenizers.SimplifiedStringReader(inputSQL);
                this.RequestedMarkerPosition = requestedMarkerPosition;
            }
        },
        methods: {
            ReadNextCharacter: function () {
                if (this.HasUnprocessedCurrentCharacter) {
                    throw new System.Exception("Unprocessed character detected!");
                }

                this.CurrentCharInt = this.InputReader.Read();

                if (this.CurrentCharInt >= 0) {
                    this.HasUnprocessedCurrentCharacter = true;
                }
            },
            ConsumeCurrentCharacterIntoToken: function () {
                if (!this.HasUnprocessedCurrentCharacter) {
                    throw new System.Exception("No current character to consume!");
                }

                this.CurrentTokenValue.append(String.fromCharCode(this.CurrentChar));
                this.HasUnprocessedCurrentCharacter = false;
            },
            HasRemainingCharacters: function () {
                if (!this.HasUnprocessedCurrentCharacter) {
                    throw new System.Exception("No current character to consume!");
                }

                this.CurrentTokenValue.append(String.fromCharCode(this.CurrentChar));
                this.HasUnprocessedCurrentCharacter = false;
            },
            DiscardNextCharacter: function () {
                this.ReadNextCharacter();
                this.HasUnprocessedCurrentCharacter = false;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Utils", {
        statics: {
            methods: {
                HtmlEncode: function (raw) {
                    var $t;
                    /* 
                      This is a "Roll Your Own" implementation of HtmlEncode, which was necessary in the end because people want
                      to use the library with .Net 3.5 Client Profile and other restricted environments; the dependency on 
                      System.Web just for HtmlEncode was always a little disturbing anyway.
                      I've attempted to optimize the implementation towards strings that don't actually contain any special 
                      characters, and I've also skipped some of the more interesting stuff that I see in the MS implementation
                      (pointers, and some special handling in the WinAnsi special range of characters?), keeping it to the basic 
                      4 "known bad" characters.
                    */

                    if (raw == null) {
                        return null;
                    }

                    var outBuilder = null;
                    var latestCheckPos = 0;
                    var latestReplacementPos = 0;

                    $t = Bridge.getEnumerator(raw);
                    try {
                        while ($t.moveNext()) {
                            var c = $t.Current;
                            var replacementString = null;

                            switch (c) {
                                case 62: 
                                    replacementString = "&gt;";
                                    break;
                                case 60: 
                                    replacementString = "&lt;";
                                    break;
                                case 38: 
                                    replacementString = "&amp;";
                                    break;
                                case 34: 
                                    replacementString = "&quot;";
                                    break;
                            }

                            if (replacementString != null) {
                                if (outBuilder == null) {
                                    outBuilder = new System.Text.StringBuilder("", raw.length);
                                }

                                if (latestReplacementPos < latestCheckPos) {
                                    outBuilder.append(raw.substr(latestReplacementPos, ((latestCheckPos - latestReplacementPos) | 0)));
                                }

                                outBuilder.append(replacementString);

                                latestReplacementPos = (latestCheckPos + 1) | 0;
                            }

                            latestCheckPos = (latestCheckPos + 1) | 0;
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$Dispose();
                        }
                    }

                    if (outBuilder != null) {
                        if (latestReplacementPos < latestCheckPos) {
                            outBuilder.append(raw.substr(latestReplacementPos));
                        }

                        return outBuilder.toString();
                    } else {
                        return raw;
                    }
                },
                ToLowerInvariant$1: function (value) {
                    return value.toLowerCase();
                },
                ToLowerInvariant: function (value) {
                    return String.fromCharCode(value).toLowerCase().charCodeAt(0);
                },
                ToUpperInvariant$1: function (value) {
                    return value.toUpperCase();
                },
                ToUpperInvariant: function (value) {
                    return String.fromCharCode(value).toUpperCase().charCodeAt(0);
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.HtmlPageWrapper", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        statics: {
            fields: {
                HTML_OUTER_PAGE: null
            },
            ctors: {
                init: function () {
                    this.HTML_OUTER_PAGE = "<!DOCTYPE html >\r\n<html>\r\n<head>\r\n</head>\r\n<body>\r\n<style type=\"text/css\">\r\n.SQLCode {{\r\n\tfont-size: 13px;\r\n\tfont-weight: bold;\r\n\tfont-family: monospace;;\r\n\twhite-space: pre;\r\n    -o-tab-size: 4;\r\n    -moz-tab-size: 4;\r\n    -webkit-tab-size: 4;\r\n}}\r\n.SQLComment {{\r\n\tcolor: #00AA00;\r\n}}\r\n.SQLString {{\r\n\tcolor: #AA0000;\r\n}}\r\n.SQLFunction {{\r\n\tcolor: #AA00AA;\r\n}}\r\n.SQLKeyword {{\r\n\tcolor: #0000AA;\r\n}}\r\n.SQLOperator {{\r\n\tcolor: #777777;\r\n}}\r\n.SQLErrorHighlight {{\r\n\tbackground-color: #FFFF00;\r\n}}\r\n\r\n\r\n</style>\r\n<pre class=\"SQLCode\">{0}</pre>\r\n</body>\r\n</html>\r\n";
                }
            }
        },
        fields: {
            _underlyingFormatter: null
        },
        props: {
            HTMLFormatted: {
                get: function () {
                    return true;
                }
            },
            ErrorOutputPrefix: {
                get: function () {
                    return this._underlyingFormatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix;
                },
                set: function (value) {
                    throw new System.NotSupportedException.$ctor1("Error output prefix should be set on the underlying formatter - it cannot be set on the Html Page Wrapper.");
                }
            }
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree"
        ],
        ctors: {
            ctor: function (underlyingFormatter) {
                this.$initialize();
                if (underlyingFormatter == null) {
                    throw new System.ArgumentNullException.$ctor1("underlyingFormatter");
                }

                this._underlyingFormatter = underlyingFormatter;
            }
        },
        methods: {
            FormatSQLTree: function (sqlTree) {
                var formattedResult = this._underlyingFormatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree(sqlTree);
                if (this._underlyingFormatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted) {
                    return System.String.format(PoorMansTSqlFormatterLib.Formatters.HtmlPageWrapper.HTML_OUTER_PAGE, [formattedResult]);
                } else {
                    return System.String.format(PoorMansTSqlFormatterLib.Formatters.HtmlPageWrapper.HTML_OUTER_PAGE, [PoorMansTSqlFormatterLib.Utils.HtmlEncode(formattedResult)]);
                }
            }
        }
    });

    /** @namespace PoorMansTSqlFormatterLib.Formatters */

    /**
     * This formatter is intended to output *exactly the same content as initially parsed*, unless the 
     "HtmlColoring" option is enabled (then it should look the same in HTML, except for the coloring).
     *
     * @public
     * @class PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter
     * @implements  PoorMansTSqlFormatterLib.Interfaces.ISqlTokenFormatter
     * @implements  PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter
     */
    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTokenFormatter,PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        statics: {
            methods: {
                ProcessSqlNodeList: function (rootList, state) {
                    var $t;
                    $t = Bridge.getEnumerator(rootList, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var contentElement = $t.Current;
                            PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNode(state, contentElement);
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$Dispose();
                        }
                    }
                },
                ProcessSqlNode: function (state, contentElement) {
                    var $t;
                    if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                        state.OpenClass(PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_ERRORHIGHLIGHT);
                    }

                    switch (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name) {
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS: 
                            state.AddOutputContent("(");
                            PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                            state.AddOutputContent(")");
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS: 
                            $t = Bridge.getEnumerator(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                            try {
                                while ($t.moveNext()) {
                                    var childNode = $t.Current;
                                    PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNode(state, childNode);
                                }
                            } finally {
                                if (Bridge.is($t, System.IDisposable)) {
                                    $t.System$IDisposable$Dispose();
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE: 
                            state.AddOutputContent$1("/*" + (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue || "") + "*/", PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE: 
                            state.AddOutputContent$1("--" + (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue || ""), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE: 
                            state.AddOutputContent$1("//" + (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue || ""), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING: 
                            state.AddOutputContent$1("'" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''") || "") + "'", PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_STRING);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING: 
                            state.AddOutputContent$1("N'" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''") || "") + "'", PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_STRING);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING: 
                            state.AddOutputContent("\"" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\"", "\"\"") || "") + "\"");
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME: 
                            state.AddOutputContent("[" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "]", "]]") || "") + "]");
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR: 
                            state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR: 
                            state.AddOutputContent$1(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD).PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD: 
                            state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_FUNCTION);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME: 
                            state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL: 
                            state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                            break;
                        default: 
                            throw new System.Exception("Unrecognized element in SQL Xml!");
                    }

                    if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                        state.CloseClass();
                    }
                }
            }
        },
        fields: {
            HTMLColoring: false,
            ErrorOutputPrefix: null
        },
        props: {
            HTMLFormatted: {
                get: function () {
                    return this.HTMLColoring;
                }
            }
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree",
            "FormatSQLTokens", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenFormatter$FormatSQLTokens"
        ],
        ctors: {
            ctor: function () {
                PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1.call(this, false);
            },
            $ctor1: function (htmlColoring) {
                this.$initialize();
                this.HTMLColoring = htmlColoring;
                this.ErrorOutputPrefix = (PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage || "") + ("\n" || "");
            }
        },
        methods: {
            FormatSQLTree: function (sqlTreeDoc) {
                var state = new PoorMansTSqlFormatterLib.BaseFormatterState(this.HTMLColoring);

                if (Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) && Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1")) {
                    state.AddOutputContent(this.ErrorOutputPrefix);
                }

                PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.ProcessSqlNodeList(System.Array.init([sqlTreeDoc], PoorMansTSqlFormatterLib.ParseStructure.Node), state);
                return state.DumpOutput();
            },
            FormatSQLTokens: function (sqlTokenList) {
                var $t;
                var outString = new System.Text.StringBuilder();

                if (sqlTokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$HasUnfinishedToken) {
                    outString.append(this.ErrorOutputPrefix);
                }

                $t = Bridge.getEnumerator(sqlTokenList, PoorMansTSqlFormatterLib.Interfaces.IToken);
                try {
                    while ($t.moveNext()) {
                        var entry = $t.Current;
                        switch (entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Type) {
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment: 
                                outString.append("/*");
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                outString.append("*/");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment: 
                                outString.append("--");
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle: 
                                outString.append("//");
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String: 
                                outString.append("'");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "'", "''"));
                                outString.append("'");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString: 
                                outString.append("N'");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "'", "''"));
                                outString.append("'");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString: 
                                outString.append("\"");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "\"", "\"\""));
                                outString.append("\"");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName: 
                                outString.append("[");
                                outString.append(System.String.replaceAll(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "]", "]]"));
                                outString.append("]");
                                break;
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OpenParens: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.CloseParens: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Semicolon: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue: 
                            case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName: 
                                outString.append(entry.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                break;
                            default: 
                                throw new System.Exception("Unrecognized Token Type in Token List!");
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }

                return outString.toString();
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        statics: {
            fields: {
                MIN_CASE_WORD_LENGTH: 0,
                MAX_CASE_WORD_LENGTH: 0
            },
            ctors: {
                init: function () {
                    this.MIN_CASE_WORD_LENGTH = 2;
                    this.MAX_CASE_WORD_LENGTH = 8;
                }
            }
        },
        fields: {
            RandomizeCase: false,
            RandomizeColor: false,
            RandomizeLineLength: false,
            PreserveComments: false,
            KeywordMapping: null,
            ErrorOutputPrefix: null,
            _randomizer: null,
            _currentCaseLength: 0,
            _currentCaseLimit: 0,
            _currentlyUppercase: false
        },
        props: {
            HTMLFormatted: {
                get: function () {
                    return this.RandomizeColor;
                }
            }
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree"
        ],
        ctors: {
            init: function () {
                this.KeywordMapping = new (System.Collections.Generic.Dictionary$2(System.String,System.String)).ctor();
                this._randomizer = new System.Random.ctor();
                this._currentCaseLength = 0;
                this._currentCaseLimit = 8;
                this._currentlyUppercase = false;
            },
            ctor: function () {
                PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.$ctor1.call(this, false, false, false, false, false);
            },
            $ctor1: function (randomizeCase, randomizeColor, randomizeLineLength, preserveComments, subtituteKeywords) {
                this.$initialize();
                this.RandomizeCase = randomizeCase;
                this.RandomizeColor = randomizeColor;
                this.RandomizeLineLength = randomizeLineLength;
                this.PreserveComments = preserveComments;
                if (subtituteKeywords) {
                    this.KeywordMapping = PoorMansTSqlFormatterLib.ObfuscatingKeywordMapping.Instance;
                }

                this.ErrorOutputPrefix = (PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage || "") + ("\n" || "");

                if (this.RandomizeCase) {
                    this._currentCaseLimit = this._randomizer.Next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MIN_CASE_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MAX_CASE_WORD_LENGTH);
                    this._currentlyUppercase = this._randomizer.Next$2(0, 2) === 0;
                }
            }
        },
        methods: {
            FormatSQLTree: function (sqlTreeDoc) {
                var state = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState(this.RandomizeColor, this.RandomizeLineLength);

                if (Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) && Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1")) {
                    state.AddOutputContent(this.ErrorOutputPrefix);
                }

                this.ProcessSqlNodeList(System.Array.init([sqlTreeDoc], PoorMansTSqlFormatterLib.ParseStructure.Node), state);
                state.BreakIfExpected();
                return state.DumpOutput();
            },
            ProcessSqlNodeList: function (rootList, state) {
                var $t;
                $t = Bridge.getEnumerator(rootList, PoorMansTSqlFormatterLib.ParseStructure.Node);
                try {
                    while ($t.moveNext()) {
                        var contentElement = $t.Current;
                        this.ProcessSqlNode(contentElement, state);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
            },
            ProcessSqlNode: function (contentElement, state) {
                switch (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name) {
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR: 
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS: 
                        state.SpaceExpected = false;
                        state.AddOutputContent("(");
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        state.SpaceExpected = false;
                        state.SpaceExpectedForAnsiString = false;
                        state.AddOutputContent(")");
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE: 
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE: 
                        if (this.PreserveComments) {
                            state.SpaceExpected = false;
                            state.AddOutputContent("/*" + (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue || "") + "*/");
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE: 
                        if (this.PreserveComments) {
                            state.SpaceExpected = false;
                            state.AddOutputContent("--" + (System.String.replaceAll(System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\r", ""), "\n", "") || ""));
                            state.BreakExpected = true;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE: 
                        if (this.PreserveComments) {
                            state.SpaceExpected = false;
                            state.AddOutputContent("//" + (System.String.replaceAll(System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\r", ""), "\n", "") || ""));
                            state.BreakExpected = true;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR: 
                        state.BreakExpected = true;
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        state.BreakExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING: 
                        state.SpaceIfExpectedForAnsiString();
                        state.SpaceExpected = false;
                        state.AddOutputContent("'" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''") || "") + "'");
                        state.SpaceExpectedForAnsiString = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING: 
                        state.AddOutputContent("N'" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''") || "") + "'");
                        state.SpaceExpectedForAnsiString = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME: 
                        state.SpaceExpected = false;
                        state.AddOutputContent("[" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "]", "]]") || "") + "]");
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING: 
                        state.SpaceExpected = false;
                        state.AddOutputContent("\"" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\"", "\"\"") || "") + "\"");
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR: 
                        state.SpaceExpected = false;
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD: 
                        state.AddOutputContent(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT)));
                        state.SpaceExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL: 
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.BreakExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE: 
                        state.AddOutputContent(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue));
                        state.SpaceExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE: 
                        state.AddOutputContent(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue));
                        if (!System.String.contains(PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"e")) {
                            state.SpaceExpectedForE = true;
                            if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "0")) {
                                state.SpaceExpectedForX = true;
                            }
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE: 
                        if (!System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue.substr(0, 1), "$")) {
                            state.SpaceExpected = false;
                        }
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        if (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue.length === 1) {
                            state.SpaceExpectedForPlusMinus = true;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD: 
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.SpaceExpected = true;
                        break;
                    default: 
                        throw new System.Exception("Unrecognized element in SQL Xml!");
                }
            },
            FormatKeyword: function (keyword) {
                var outputKeyword = { };
                if (!this.KeywordMapping.System$Collections$Generic$IDictionary$2$System$String$System$String$tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(keyword), outputKeyword)) {
                    outputKeyword.v = keyword;
                }

                if (this.RandomizeCase) {
                    return this.GetCaseRandomized(outputKeyword.v);
                } else {
                    return outputKeyword.v;
                }
            },
            GetCaseRandomized: function (outputKeyword) {
                var keywordCharArray = System.String.toCharArray(outputKeyword, 0, outputKeyword.length);
                for (var i = 0; i < keywordCharArray.length; i = (i + 1) | 0) {
                    if (this._currentCaseLength === this._currentCaseLimit) {
                        this._currentCaseLimit = this._randomizer.Next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MIN_CASE_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.MAX_CASE_WORD_LENGTH);
                        this._currentlyUppercase = this._randomizer.Next$2(0, 2) === 0;
                        this._currentCaseLength = 0;
                    }

                    keywordCharArray[System.Array.index(i, keywordCharArray)] = this._currentlyUppercase ? PoorMansTSqlFormatterLib.Utils.ToUpperInvariant(keywordCharArray[System.Array.index(i, keywordCharArray)]) : PoorMansTSqlFormatterLib.Utils.ToLowerInvariant(keywordCharArray[System.Array.index(i, keywordCharArray)]);
                    this._currentCaseLength = (this._currentCaseLength + 1) | 0;
                }
                return System.String.fromCharArray(keywordCharArray);
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState", {
        inherits: [PoorMansTSqlFormatterLib.BaseFormatterState],
        $kind: "nested class",
        statics: {
            fields: {
                MIN_COLOR_WORD_LENGTH: 0,
                MAX_COLOR_WORD_LENGTH: 0,
                MIN_LINE_LENGTH: 0,
                MAX_LINE_LENGTH: 0
            },
            ctors: {
                init: function () {
                    this.MIN_COLOR_WORD_LENGTH = 3;
                    this.MAX_COLOR_WORD_LENGTH = 15;
                    this.MIN_LINE_LENGTH = 10;
                    this.MAX_LINE_LENGTH = 80;
                }
            }
        },
        fields: {
            RandomizeColor: false,
            RandomizeLineLength: false,
            BreakExpected: false,
            SpaceExpectedForAnsiString: false,
            SpaceExpectedForE: false,
            SpaceExpectedForX: false,
            SpaceExpectedForPlusMinus: false,
            SpaceExpected: false,
            _randomizer: null,
            _currentLineLength: 0,
            _thisLineLimit: 0,
            _currentColorLength: 0,
            _currentColorLimit: 0,
            _currentColor: null
        },
        ctors: {
            init: function () {
                this._randomizer = new System.Random.ctor();
                this._currentLineLength = 0;
                this._thisLineLimit = 80;
                this._currentColorLength = 0;
                this._currentColorLimit = 15;
            },
            ctor: function (randomizeColor, randomizeLineLength) {
                this.$initialize();
                PoorMansTSqlFormatterLib.BaseFormatterState.ctor.call(this, randomizeColor);
                this.RandomizeColor = randomizeColor;
                this.RandomizeLineLength = randomizeLineLength;

                if (this.RandomizeColor) {
                    this._currentColorLimit = this._randomizer.Next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MIN_COLOR_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_COLOR_WORD_LENGTH);
                    this._currentColor = System.String.format("#{0:x2}{1:x2}{2:x2}", Bridge.box(this._randomizer.Next$2(0, 127), System.Int32), Bridge.box(this._randomizer.Next$2(0, 127), System.Int32), Bridge.box(this._randomizer.Next$2(0, 127), System.Int32));
                }
                if (this.RandomizeLineLength) {
                    this._thisLineLimit = this._randomizer.Next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MIN_LINE_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_LINE_LENGTH);
                }
            }
        },
        methods: {
            BreakIfExpected: function () {
                if (this.BreakExpected) {
                    this.BreakExpected = false;
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputLineBreak.call(this);
                    this.SetSpaceNoLongerExpected();
                    this._currentLineLength = 0;

                    if (this.RandomizeLineLength) {
                        this._thisLineLimit = this._randomizer.Next$2(10, 80);
                    }
                }
            },
            SpaceIfExpectedForAnsiString: function () {
                if (this.SpaceExpectedForAnsiString) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, " ", null);
                    this.SetSpaceNoLongerExpected();
                }
            },
            SpaceIfExpected: function () {
                if (this.SpaceExpected) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, " ", null);
                    this.SetSpaceNoLongerExpected();
                }
            },
            AddOutputContent$1: function (content, htmlClassName) {
                if (htmlClassName != null) {
                    throw new System.NotSupportedException.$ctor1("Obfuscating formatter does not use html class names...");
                }

                this.BreakIfExpected();
                this.SpaceIfExpected();
                if (this._currentLineLength > 0 && ((this._currentLineLength + content.length) | 0) > this._thisLineLimit) {
                    this.BreakExpected = true;
                    this.BreakIfExpected();
                } else if ((this.SpaceExpectedForE && System.String.equals(content.substr(0, 1).toLowerCase(), "e")) || (this.SpaceExpectedForX && System.String.equals(content.substr(0, 1).toLowerCase(), "x")) || (this.SpaceExpectedForPlusMinus && System.String.equals(content.substr(0, 1), "+")) || (this.SpaceExpectedForPlusMinus && System.String.equals(content.substr(0, 1), "-"))) {
                    this.SpaceExpected = true;
                    this.SpaceIfExpected();
                }

                this._currentLineLength = (this._currentLineLength + content.length) | 0;
                if (this.RandomizeColor) {
                    var lengthWritten = 0;
                    while (lengthWritten < content.length) {
                        if (this._currentColorLength === this._currentColorLimit) {
                            this._currentColorLimit = this._randomizer.Next$2(PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MIN_COLOR_WORD_LENGTH, PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.TSqlObfuscatingFormattingState.MAX_COLOR_WORD_LENGTH);
                            this._currentColor = System.String.format("#{0:x2}{1:x2}{2:x2}", Bridge.box(this._randomizer.Next$2(0, 127), System.Int32), Bridge.box(this._randomizer.Next$2(0, 127), System.Int32), Bridge.box(this._randomizer.Next$2(0, 127), System.Int32));
                            this._currentColorLength = 0;
                        }

                        var writing;
                        if (((content.length - lengthWritten) | 0) < ((this._currentColorLimit - this._currentColorLength) | 0)) {
                            writing = (content.length - lengthWritten) | 0;
                        } else {
                            writing = (this._currentColorLimit - this._currentColorLength) | 0;
                        }

                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, "<span style=\"color: ");
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, this._currentColor);
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, ";\">");
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, PoorMansTSqlFormatterLib.Utils.HtmlEncode(content.substr(lengthWritten, writing)));
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContentRaw.call(this, "</span>");
                        lengthWritten = (lengthWritten + writing) | 0;
                        this._currentColorLength = (this._currentColorLength + writing) | 0;
                    }
                } else {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, content, null);
                }
                this.SetSpaceNoLongerExpected();
            },
            SetSpaceNoLongerExpected: function () {
                this.SpaceExpected = false;
                this.SpaceExpectedForAnsiString = false;
                this.SpaceExpectedForE = false;
                this.SpaceExpectedForX = false;
                this.SpaceExpectedForPlusMinus = false;
            },
            AddOutputLineBreak: function () {
                throw new System.NotSupportedException.ctor();
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTreeFormatter],
        fields: {
            Options: null,
            KeywordMapping: null,
            ErrorOutputPrefix: null
        },
        props: {
            IndentString: {
                get: function () {
                    return this.Options.IndentString;
                },
                set: function (value) {
                    this.Options.IndentString = value;
                }
            },
            SpacesPerTab: {
                get: function () {
                    return this.Options.SpacesPerTab;
                },
                set: function (value) {
                    this.Options.SpacesPerTab = value;
                }
            },
            MaxLineWidth: {
                get: function () {
                    return this.Options.MaxLineWidth;
                },
                set: function (value) {
                    this.Options.MaxLineWidth = value;
                }
            },
            ExpandCommaLists: {
                get: function () {
                    return this.Options.ExpandCommaLists;
                },
                set: function (value) {
                    this.Options.ExpandCommaLists = value;
                }
            },
            TrailingCommas: {
                get: function () {
                    return this.Options.TrailingCommas;
                },
                set: function (value) {
                    this.Options.TrailingCommas = value;
                }
            },
            SpaceAfterExpandedComma: {
                get: function () {
                    return this.Options.SpaceAfterExpandedComma;
                },
                set: function (value) {
                    this.Options.SpaceAfterExpandedComma = value;
                }
            },
            ExpandBooleanExpressions: {
                get: function () {
                    return this.Options.ExpandBooleanExpressions;
                },
                set: function (value) {
                    this.Options.ExpandBooleanExpressions = value;
                }
            },
            ExpandCaseStatements: {
                get: function () {
                    return this.Options.ExpandCaseStatements;
                },
                set: function (value) {
                    this.Options.ExpandCaseStatements = value;
                }
            },
            ExpandBetweenConditions: {
                get: function () {
                    return this.Options.ExpandBetweenConditions;
                },
                set: function (value) {
                    this.Options.ExpandBetweenConditions = value;
                }
            },
            UppercaseKeywords: {
                get: function () {
                    return this.Options.UppercaseKeywords;
                },
                set: function (value) {
                    this.Options.UppercaseKeywords = value;
                }
            },
            BreakJoinOnSections: {
                get: function () {
                    return this.Options.BreakJoinOnSections;
                },
                set: function (value) {
                    this.Options.BreakJoinOnSections = value;
                }
            },
            HTMLColoring: {
                get: function () {
                    return this.Options.HTMLColoring;
                },
                set: function (value) {
                    this.Options.HTMLColoring = value;
                }
            },
            HTMLFormatted: {
                get: function () {
                    return this.Options.HTMLColoring;
                }
            }
        },
        alias: [
            "HTMLFormatted", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$HTMLFormatted",
            "ErrorOutputPrefix", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$ErrorOutputPrefix",
            "FormatSQLTree", "PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree"
        ],
        ctors: {
            init: function () {
                this.KeywordMapping = new (System.Collections.Generic.Dictionary$2(System.String,System.String)).ctor();
            },
            ctor: function () {
                PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.$ctor1.call(this, new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor());
            },
            $ctor1: function (options) {
                this.$initialize();
                if (options == null) {
                    throw new System.ArgumentNullException.$ctor1("options");
                }

                this.Options = options;

                if (options.KeywordStandardization) {
                    this.KeywordMapping = PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance;
                }
                this.ErrorOutputPrefix = (PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage || "") + ("\n" || "");
            },
            $ctor2: function (indentString, spacesPerTab, maxLineWidth, expandCommaLists, trailingCommas, spaceAfterExpandedComma, expandBooleanExpressions, expandCaseStatements, expandBetweenConditions, breakJoinOnSections, uppercaseKeywords, htmlColoring, keywordStandardization) {
                var $t;
                this.$initialize();
                this.Options = ($t = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatterOptions.ctor(), $t.IndentString = indentString, $t.SpacesPerTab = spacesPerTab, $t.MaxLineWidth = maxLineWidth, $t.ExpandCommaLists = expandCommaLists, $t.TrailingCommas = trailingCommas, $t.SpaceAfterExpandedComma = spaceAfterExpandedComma, $t.ExpandBooleanExpressions = expandBooleanExpressions, $t.ExpandBetweenConditions = expandBetweenConditions, $t.ExpandCaseStatements = expandCaseStatements, $t.UppercaseKeywords = uppercaseKeywords, $t.BreakJoinOnSections = breakJoinOnSections, $t.HTMLColoring = htmlColoring, $t.KeywordStandardization = keywordStandardization, $t);

                if (keywordStandardization) {
                    this.KeywordMapping = PoorMansTSqlFormatterLib.StandardKeywordRemapping.Instance;
                }
                this.ErrorOutputPrefix = (PoorMansTSqlFormatterLib.Interfaces.MessagingConstants.FormatErrorDefaultMessage || "") + ("\n" || "");
            }
        },
        methods: {
            FormatSQLTree: function (sqlTreeDoc) {
                var state = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState.$ctor1(this.Options.HTMLColoring, this.Options.IndentString, this.Options.SpacesPerTab, this.Options.MaxLineWidth, 0);

                if (Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) && Bridge.referenceEquals(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1")) {
                    state.AddOutputContent(this.ErrorOutputPrefix);
                }

                this.ProcessSqlNodeList(sqlTreeDoc.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);

                this.WhiteSpace_BreakAsExpected(state);

                if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat)) {
                    var skippedXml = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, sqlTreeDoc);
                    var tempFormatter = new PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1(this.Options.HTMLColoring);
                    state.AddOutputContentRaw(tempFormatter.FormatSQLTree(skippedXml));
                } else if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify)) {
                    var skippedXml1 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, sqlTreeDoc);
                    var tempFormatter1 = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.ctor();
                    if (this.HTMLFormatted) {
                        state.AddOutputContentRaw(PoorMansTSqlFormatterLib.Utils.HtmlEncode(tempFormatter1.FormatSQLTree(skippedXml1)));
                    } else {
                        state.AddOutputContentRaw(tempFormatter1.FormatSQLTree(skippedXml1));
                    }
                }
                return state.DumpOutput();
            },
            ProcessSqlNodeList: function (rootList, state) {
                var $t;
                $t = Bridge.getEnumerator(rootList, PoorMansTSqlFormatterLib.ParseStructure.Node);
                try {
                    while ($t.moveNext()) {
                        var contentElement = $t.Current;
                        this.ProcessSqlNode(contentElement, state);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
            },
            ProcessSqlNode: function (contentElement, state) {
                var $t, $t1, $t2;
                var initialIndent = state.IndentLevel;

                if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                    state.OpenClass(PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_ERRORHIGHLIGHT);
                }

                switch (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name) {
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT: 
                        this.WhiteSpace_SeparateStatements(contentElement, state);
                        state.ResetKeywords();
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        state.StatementBreakExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE: 
                        state.UnIndentInitialBreak = true;
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                        state.DecrementIndent();
                        if (this.Options.NewClauseLineBreaks > 0) {
                            state.BreakExpected = true;
                        }
                        if (this.Options.NewClauseLineBreaks > 1) {
                            state.AdditionalBreaksExpected = (this.Options.NewClauseLineBreaks - 1) | 0;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE: 
                        state.DecrementIndent();
                        state.WhiteSpace_BreakToNextLine();
                        state.WhiteSpace_BreakToNextLine();
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                        state.BreakExpected = true;
                        state.AdditionalBreaksExpected = 1;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR: 
                        state.WhiteSpace_BreakToNextLine();
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        state.BreakExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET: 
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND: 
                        this.WhiteSpace_SeparateWords(state);
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION: 
                        var singleStatementIsIf = false;
                        $t = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT), PoorMansTSqlFormatterLib.ParseStructure.Node);
                        try {
                            while ($t.moveNext()) {
                                var statement = $t.Current;
                                $t1 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(statement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                try {
                                    while ($t1.moveNext()) {
                                        var clause = $t1.Current;
                                        $t2 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(clause, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t2.moveNext()) {
                                                var ifStatement = $t2.Current;
                                                singleStatementIsIf = true;
                                            }
                                        } finally {
                                            if (Bridge.is($t2, System.IDisposable)) {
                                                $t2.System$IDisposable$Dispose();
                                            }
                                        }
                                    }
                                } finally {
                                    if (Bridge.is($t1, System.IDisposable)) {
                                        $t1.System$IDisposable$Dispose();
                                    }
                                }
                            }
                        } finally {
                            if (Bridge.is($t, System.IDisposable)) {
                                $t.System$IDisposable$Dispose();
                            }
                        }
                        if (singleStatementIsIf && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                            state.DecrementIndent();
                        } else {
                            state.BreakExpected = true;
                        }
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        if (singleStatementIsIf && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                            state.IncrementIndent();
                        }
                        state.StatementBreakExpected = false;
                        state.UnIndentInitialBreak = false;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN: 
                        state.BreakExpected = true;
                        state.UnIndentInitialBreak = true;
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                        state.DecrementIndent();
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION: 
                        if (this.Options.BreakJoinOnSections) {
                            state.BreakExpected = true;
                        }
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                        if (this.Options.BreakJoinOnSections) {
                            state.IncrementIndent();
                        }
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state);
                        if (this.Options.BreakJoinOnSections) {
                            state.DecrementIndent();
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS: 
                        state.UnIndentInitialBreak = true;
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE: 
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state.DecrementIndent());
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT), state.IncrementIndent());
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK: 
                        state.BreakExpected = true;
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state.DecrementIndent());
                        state.BreakExpected = true;
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state);
                        state.IncrementIndent();
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION: 
                        state.DecrementIndent();
                        state.WhiteSpace_BreakToNextLine();
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK: 
                        state.BreakExpected = true;
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state.DecrementIndent());
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state.IncrementIndent());
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN: 
                        state.BreakExpected = true;
                        state.UnIndentInitialBreak = true;
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION: 
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                        state.IncrementIndent();
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND), state.IncrementIndent());
                        if (this.Options.ExpandBetweenConditions) {
                            state.BreakExpected = true;
                        }
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE), state.DecrementIndent());
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND), state.IncrementIndent());
                        state.DecrementIndent();
                        state.DecrementIndent();
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS: 
                        state.WordSeparatorExpected = false;
                        this.WhiteSpace_BreakAsExpected(state);
                        state.AddOutputContent$1(this.FormatOperator("("), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, state.IncrementIndent());
                        state.DecrementIndent();
                        this.WhiteSpace_BreakAsExpected(state);
                        state.AddOutputContent$1(this.FormatOperator(")"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS: 
                        this.WhiteSpace_SeparateWords(state);
                        if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS)) {
                            state.IncrementIndent();
                        }
                        state.AddOutputContent$1(this.FormatOperator("("), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                        var innerState = new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState.ctor(state);
                        this.ProcessSqlNodeList(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, innerState);
                        if (innerState.BreakExpected || innerState.OutputContainsLineBreak) {
                            if (!innerState.StartsWithBreak) {
                                state.WhiteSpace_BreakToNextLine();
                            }
                            state.Assimilate(innerState);
                            state.WhiteSpace_BreakToNextLine();
                        } else {
                            state.Assimilate(innerState);
                        }
                        state.AddOutputContent$1(this.FormatOperator(")"), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                        if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS)) {
                            state.DecrementIndent();
                        }
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK: 
                        if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                            state.DecrementIndent();
                        }
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT), state);
                        state.DecrementIndent();
                        state.BreakExpected = true;
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE), state);
                        state.IncrementIndent();
                        if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                            state.IncrementIndent();
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT: 
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                        state.IncrementIndent();
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT), state);
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN), state);
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE), state);
                        if (this.Options.ExpandCaseStatements) {
                            state.BreakExpected = true;
                        }
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE), state);
                        state.DecrementIndent();
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE: 
                        if (this.Options.ExpandCaseStatements) {
                            state.BreakExpected = true;
                        }
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN), state);
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT), state.IncrementIndent());
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN), state);
                        state.DecrementIndent();
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR: 
                        if (this.Options.ExpandBooleanExpressions) {
                            state.BreakExpected = true;
                        }
                        this.ProcessSqlNode(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildByName(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD), state);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE: 
                        if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/NOFORMAT]")) {
                            var skippedXml = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                            if (skippedXml != null) {
                                var tempFormatter = new PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1(this.Options.HTMLColoring);
                                state.AddOutputContentRaw(tempFormatter.FormatSQLTree(skippedXml));
                                state.WordSeparatorExpected = false;
                                state.BreakExpected = false;
                            }
                            state.SpecialRegionActive = null;
                            state.RegionStartNode = null;
                        } else if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/MINIFY]")) {
                            var skippedXml1 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                            if (skippedXml1 != null) {
                                var tempFormatter1 = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.ctor();
                                if (this.HTMLFormatted) {
                                    state.AddOutputContentRaw(PoorMansTSqlFormatterLib.Utils.HtmlEncode(tempFormatter1.FormatSQLTree(skippedXml1)));
                                } else {
                                    state.AddOutputContentRaw(tempFormatter1.FormatSQLTree(skippedXml1));
                                }
                                state.WordSeparatorExpected = false;
                                state.BreakExpected = false;
                            }
                            state.SpecialRegionActive = null;
                            state.RegionStartNode = null;
                        }
                        this.WhiteSpace_SeparateComment(contentElement, state);
                        state.AddOutputContent$1("/*" + (contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue || "") + "*/", PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                        if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) || (PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(contentElement) != null && System.String.equals(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(contentElement).PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE) && System.Text.RegularExpressions.Regex.isMatch(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.NextSibling(contentElement).PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+"))) {
                            state.BreakExpected = true;
                        } else {
                            state.WordSeparatorExpected = true;
                        }
                        if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[NOFORMAT]")) {
                            state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat;
                            state.RegionStartNode = contentElement;
                        } else if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[MINIFY]")) {
                            state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify;
                            state.RegionStartNode = contentElement;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE: 
                        if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/NOFORMAT]")) {
                            var skippedXml2 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                            if (skippedXml2 != null) {
                                var tempFormatter2 = new PoorMansTSqlFormatterLib.Formatters.TSqlIdentityFormatter.$ctor1(this.Options.HTMLColoring);
                                state.AddOutputContentRaw(tempFormatter2.FormatSQLTree(skippedXml2));
                                state.WordSeparatorExpected = false;
                                state.BreakExpected = false;
                            }
                            state.SpecialRegionActive = null;
                            state.RegionStartNode = null;
                        } else if (System.Nullable.eq(state.SpecialRegionActive, PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify) && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[/MINIFY]")) {
                            var skippedXml3 = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ExtractStructureBetween(state.RegionStartNode, contentElement);
                            if (skippedXml3 != null) {
                                var tempFormatter3 = new PoorMansTSqlFormatterLib.Formatters.TSqlObfuscatingFormatter.ctor();
                                if (this.HTMLFormatted) {
                                    state.AddOutputContentRaw(PoorMansTSqlFormatterLib.Utils.HtmlEncode(tempFormatter3.FormatSQLTree(skippedXml3)));
                                } else {
                                    state.AddOutputContentRaw(tempFormatter3.FormatSQLTree(skippedXml3));
                                }
                                state.WordSeparatorExpected = false;
                                state.BreakExpected = false;
                            }
                            state.SpecialRegionActive = null;
                            state.RegionStartNode = null;
                        }
                        this.WhiteSpace_SeparateComment(contentElement, state);
                        state.AddOutputContent$1(((Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE) ? "--" : "//") || "") + (System.String.replaceAll(System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\r", ""), "\n", "") || ""), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_COMMENT);
                        state.BreakExpected = true;
                        state.SourceBreakPending = true;
                        if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[NOFORMAT]")) {
                            state.AddOutputLineBreak();
                            state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.NoFormat;
                            state.RegionStartNode = contentElement;
                        } else if (state.SpecialRegionActive == null && System.String.contains(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue),"[MINIFY]")) {
                            state.AddOutputLineBreak();
                            state.SpecialRegionActive = PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.SpecialRegionType.Minify;
                            state.RegionStartNode = contentElement;
                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING: 
                        this.WhiteSpace_SeparateWords(state);
                        var outValue = null;
                        if (System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING)) {
                            outValue = "N'" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''") || "") + "'";
                        } else {
                            outValue = "'" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "'", "''") || "") + "'";
                        }
                        state.AddOutputContent$1(outValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_STRING);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent("[" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "]", "]]") || "") + "]");
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent("\"" + (System.String.replaceAll(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "\"", "\"\"") || "") + "\"");
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA: 
                        if (this.Options.TrailingCommas) {
                            this.WhiteSpace_BreakAsExpected(state);
                            state.AddOutputContent$1(this.FormatOperator(","), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);

                            if ((this.Options.ExpandCommaLists && !(System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) || (this.Options.ExpandInLists && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) {
                                state.BreakExpected = true;
                            } else {
                                state.WordSeparatorExpected = true;
                            }
                        } else {
                            if ((this.Options.ExpandCommaLists && !(System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS) || System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) || (this.Options.ExpandInLists && System.String.equals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS))) {
                                state.WhiteSpace_BreakToNextLine();
                                state.AddOutputContent$1(this.FormatOperator(","), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                                if (this.Options.SpaceAfterExpandedComma) {
                                    state.WordSeparatorExpected = true;
                                }
                            } else {
                                this.WhiteSpace_BreakAsExpected(state);
                                state.AddOutputContent$1(this.FormatOperator(","), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                                state.WordSeparatorExpected = true;
                            }

                        }
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR: 
                        state.WordSeparatorExpected = false;
                        this.WhiteSpace_BreakAsExpected(state);
                        state.AddOutputContent$1(this.FormatOperator(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent$1(this.FormatOperator(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_OPERATOR);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD: 
                        this.WhiteSpace_SeparateWords(state);
                        state.SetRecentKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT));
                        state.AddOutputContent$1(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT)), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                        state.WordSeparatorExpected = true;
                        this.ProcessSqlNodeList(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByNames(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_COMMENT), state.IncrementIndent());
                        state.DecrementIndent();
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD: 
                        this.WhiteSpace_SeparateWords(state);
                        state.SetRecentKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.AddOutputContent$1(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent$1(this.FormatKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_KEYWORD);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD: 
                        this.WhiteSpace_SeparateWords(state);
                        state.SetRecentKeyword(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.AddOutputContent$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, PoorMansTSqlFormatterLib.Interfaces.SqlHtmlConstants.CLASS_FUNCTION);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE: 
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent(PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue));
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE: 
                        this.WhiteSpace_SeparateWords(state);
                        state.AddOutputContent("0x");
                        state.AddOutputContent(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue.substr(2)));
                        state.WordSeparatorExpected = true;
                        break;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE: 
                        if (System.Text.RegularExpressions.Regex.isMatch(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+")) {
                            state.SourceBreakPending = true;
                        }
                        break;
                    default: 
                        throw new System.Exception("Unrecognized element in SQL Xml!");
                }

                if (Bridge.referenceEquals(contentElement.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR), "1")) {
                    state.CloseClass();
                }

                if (initialIndent !== state.IndentLevel) {
                    throw new System.Exception("Messed up the indenting!! Check code/stack or panic!");
                }
            },
            FormatKeyword: function (keyword) {
                var outputKeyword = { };
                if (!this.KeywordMapping.System$Collections$Generic$IDictionary$2$System$String$System$String$tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(keyword), outputKeyword)) {
                    outputKeyword.v = keyword;
                }

                if (this.Options.UppercaseKeywords) {
                    return PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(outputKeyword.v);
                } else {
                    return PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(outputKeyword.v);
                }
            },
            FormatOperator: function (operatorValue) {
                if (this.Options.UppercaseKeywords) {
                    return PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(operatorValue);
                } else {
                    return PoorMansTSqlFormatterLib.Utils.ToLowerInvariant$1(operatorValue);
                }
            },
            WhiteSpace_SeparateStatements: function (contentElement, state) {
                if (state.StatementBreakExpected) {
                    var thisClauseStarter = this.FirstSemanticElementChild(contentElement);
                    if (!(thisClauseStarter != null && System.String.equals(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && state.GetRecentKeyword() != null && ((System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "SET") && System.String.equals(state.GetRecentKeyword(), "SET")) || (System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "DECLARE") && System.String.equals(state.GetRecentKeyword(), "DECLARE")) || (System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(thisClauseStarter.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "PRINT") && System.String.equals(state.GetRecentKeyword(), "PRINT"))))) {
                        for (var i = this.Options.NewStatementLineBreaks; i > 0; i = (i - 1) | 0) {
                            state.AddOutputLineBreak();
                        }
                    } else {
                        for (var i1 = this.Options.NewClauseLineBreaks; i1 > 0; i1 = (i1 - 1) | 0) {
                            state.AddOutputLineBreak();
                        }
                    }

                    state.Indent(state.IndentLevel);
                    state.BreakExpected = false;
                    state.AdditionalBreaksExpected = 0;
                    state.SourceBreakPending = false;
                    state.StatementBreakExpected = false;
                    state.WordSeparatorExpected = false;
                }
            },
            FirstSemanticElementChild: function (contentElement) {
                var target = null;
                while (contentElement != null) {
                    target = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(contentElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).firstOrDefault(null, null);

                    if (target != null && System.Array.contains(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONSEMANTICCONTENT, target.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, System.String)) {
                        contentElement = target;
                    } else {
                        contentElement = null;
                    }
                }

                return target;
            },
            WhiteSpace_SeparateWords: function (state) {
                if (state.BreakExpected || state.AdditionalBreaksExpected > 0) {
                    var wasUnIndent = state.UnIndentInitialBreak;
                    if (wasUnIndent) {
                        state.DecrementIndent();
                    }
                    this.WhiteSpace_BreakAsExpected(state);
                    if (wasUnIndent) {
                        state.IncrementIndent();
                    }
                } else if (state.WordSeparatorExpected) {
                    state.AddOutputSpace();
                }
                state.UnIndentInitialBreak = false;
                state.SourceBreakPending = false;
                state.WordSeparatorExpected = false;
            },
            WhiteSpace_SeparateComment: function (contentElement, state) {
                if (state.CurrentLineHasContent && state.SourceBreakPending) {
                    state.BreakExpected = true;
                    this.WhiteSpace_BreakAsExpected(state);
                } else if (state.WordSeparatorExpected) {
                    state.AddOutputSpace();
                }
                state.SourceBreakPending = false;
                state.WordSeparatorExpected = false;
            },
            WhiteSpace_BreakAsExpected: function (state) {
                if (state.BreakExpected) {
                    state.WhiteSpace_BreakToNextLine();
                }
                while (state.AdditionalBreaksExpected > 0) {
                    state.WhiteSpace_BreakToNextLine();
                    state.AdditionalBreaksExpected = (state.AdditionalBreaksExpected - 1) | 0;
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState", {
        inherits: [PoorMansTSqlFormatterLib.BaseFormatterState],
        $kind: "nested class",
        statics: {
            fields: {
                _startsWithBreakChecker: null,
                _lineBreakMatcher: null
            },
            ctors: {
                init: function () {
                    this._startsWithBreakChecker = new System.Text.RegularExpressions.Regex.ctor("^\\s*(\\r|\\n)", 0);
                    this._lineBreakMatcher = new System.Text.RegularExpressions.Regex.ctor("(\\r|\\n)+");
                }
            }
        },
        fields: {
            IndentString: null,
            IndentLength: 0,
            MaxLineWidth: 0,
            StatementBreakExpected: false,
            BreakExpected: false,
            WordSeparatorExpected: false,
            SourceBreakPending: false,
            AdditionalBreaksExpected: 0,
            UnIndentInitialBreak: false,
            IndentLevel: 0,
            CurrentLineLength: 0,
            CurrentLineHasContent: false,
            SpecialRegionActive: null,
            RegionStartNode: null,
            _mostRecentKeywordsAtEachLevel: null
        },
        props: {
            StartsWithBreak: {
                get: function () {
                    return PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState._startsWithBreakChecker.isMatch(this._outBuilder.toString());
                }
            },
            OutputContainsLineBreak: {
                get: function () {
                    return PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.TSqlStandardFormattingState._lineBreakMatcher.isMatch(this._outBuilder.toString());
                }
            }
        },
        ctors: {
            init: function () {
                this._mostRecentKeywordsAtEachLevel = new (System.Collections.Generic.Dictionary$2(System.Int32,System.String)).ctor();
            },
            $ctor1: function (htmlOutput, indentString, spacesPerTab, maxLineWidth, initialIndentLevel) {
                this.$initialize();
                PoorMansTSqlFormatterLib.BaseFormatterState.ctor.call(this, htmlOutput);
                this.IndentLevel = initialIndentLevel;
                this.HtmlOutput = htmlOutput;
                this.IndentString = indentString;
                this.MaxLineWidth = maxLineWidth;

                var tabCount = (System.String.split(indentString, [9].map(function (i) {{ return String.fromCharCode(i); }})).length - 1) | 0;
                var tabExtraCharacters = Bridge.Int.mul(tabCount, (((spacesPerTab - 1) | 0)));
                this.IndentLength = (indentString.length + tabExtraCharacters) | 0;
            },
            ctor: function (sourceState) {
                this.$initialize();
                PoorMansTSqlFormatterLib.BaseFormatterState.ctor.call(this, sourceState.HtmlOutput);
                this.IndentLevel = sourceState.IndentLevel;
                this.HtmlOutput = sourceState.HtmlOutput;
                this.IndentString = sourceState.IndentString;
                this.IndentLength = sourceState.IndentLength;
                this.MaxLineWidth = sourceState.MaxLineWidth;
                this.CurrentLineLength = Bridge.Int.mul(this.IndentLevel, this.IndentLength);
                this.CurrentLineHasContent = sourceState.CurrentLineHasContent;
            }
        },
        methods: {
            AddOutputContent: function (content) {
                if (this.SpecialRegionActive == null) {
                    this.AddOutputContent$1(content, null);
                }
            },
            AddOutputContent$1: function (content, htmlClassName) {
                if (this.CurrentLineHasContent && (((content.length + this.CurrentLineLength) | 0) > this.MaxLineWidth)) {
                    this.WhiteSpace_BreakToNextLine();
                }

                if (this.SpecialRegionActive == null) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, content, htmlClassName);
                }

                this.CurrentLineHasContent = true;
                this.CurrentLineLength = (this.CurrentLineLength + content.length) | 0;
            },
            AddOutputLineBreak: function () {

                if (this.SpecialRegionActive == null) {
                    PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputLineBreak.call(this);
                }
                this.CurrentLineLength = 0;
                this.CurrentLineHasContent = false;
            },
            AddOutputSpace: function () {
                if (this.SpecialRegionActive == null) {
                    this._outBuilder.append(" ");
                }
            },
            Indent: function (indentLevel) {
                for (var i = 0; i < indentLevel; i = (i + 1) | 0) {
                    if (this.SpecialRegionActive == null) {
                        PoorMansTSqlFormatterLib.BaseFormatterState.prototype.AddOutputContent$1.call(this, this.IndentString, "");
                    }
                    this.CurrentLineLength = (this.CurrentLineLength + this.IndentLength) | 0;
                }
            },
            WhiteSpace_BreakToNextLine: function () {
                this.AddOutputLineBreak();
                this.Indent(this.IndentLevel);
                this.BreakExpected = false;
                this.SourceBreakPending = false;
                this.WordSeparatorExpected = false;
            },
            Assimilate: function (partialState) {
                this.CurrentLineLength = (this.CurrentLineLength + partialState.CurrentLineLength) | 0;
                this.CurrentLineHasContent = this.CurrentLineHasContent || partialState.CurrentLineHasContent;
                if (this.SpecialRegionActive == null) {
                    this._outBuilder.append(partialState.DumpOutput());
                }
            },
            IncrementIndent: function () {
                this.IndentLevel = (this.IndentLevel + 1) | 0;
                return this;
            },
            DecrementIndent: function () {
                this.IndentLevel = (this.IndentLevel - 1) | 0;
                return this;
            },
            SetRecentKeyword: function (ElementName) {
                if (!this._mostRecentKeywordsAtEachLevel.containsKey(this.IndentLevel)) {
                    this._mostRecentKeywordsAtEachLevel.add(this.IndentLevel, PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(ElementName));
                }
            },
            GetRecentKeyword: function () {
                var $t;
                var keywordFound = null;
                var keywordFoundAt = null;
                $t = Bridge.getEnumerator(this._mostRecentKeywordsAtEachLevel.Keys);
                try {
                    while ($t.moveNext()) {
                        var key = $t.Current;
                        if ((keywordFoundAt == null || System.Nullable.getValue(keywordFoundAt) > key) && key >= this.IndentLevel) {
                            keywordFoundAt = key;
                            keywordFound = this._mostRecentKeywordsAtEachLevel.getItem(key);
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
                return keywordFound;
            },
            ResetKeywords: function () {
                var $t, $t1;
                var descendentLevelKeys = new (System.Collections.Generic.List$1(System.Int32)).ctor();
                $t = Bridge.getEnumerator(this._mostRecentKeywordsAtEachLevel.Keys);
                try {
                    while ($t.moveNext()) {
                        var key = $t.Current;
                        if (key >= this.IndentLevel) {
                            descendentLevelKeys.add(key);
                        }
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
                $t1 = Bridge.getEnumerator(descendentLevelKeys);
                try {
                    while ($t1.moveNext()) {
                        var key1 = $t1.Current;
                        this._mostRecentKeywordsAtEachLevel.remove(key1);
                    }
                } finally {
                    if (Bridge.is($t1, System.IDisposable)) {
                        $t1.System$IDisposable$Dispose();
                    }
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Interfaces.ITokenList", {
        inherits: [System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.Interfaces.IToken)],
        $kind: "interface"
    });

    Bridge.define("PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTokenParser],
        statics: {
            fields: {
                KeywordList: null,
                _JoinDetector: null,
                _CursorDetector: null,
                _TriggerConditionDetector: null
            },
            ctors: {
                init: function () {
                    this._JoinDetector = new System.Text.RegularExpressions.Regex.ctor("^((RIGHT|INNER|LEFT|CROSS|FULL) )?(OUTER )?((HASH|LOOP|MERGE|REMOTE) )?(JOIN|APPLY) ");
                    this._CursorDetector = new System.Text.RegularExpressions.Regex.ctor("^DECLARE (?:[#\\$0-9@-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D])+ ((INSENSITIVE|SCROLL) ){0,2}CURSOR ");
                    this._TriggerConditionDetector = new System.Text.RegularExpressions.Regex.ctor("^(FOR|AFTER|INSTEAD OF)( (INSERT|UPDATE|DELETE) (, (INSERT|UPDATE|DELETE) )?(, (INSERT|UPDATE|DELETE) )?)");
                },
                ctor: function () {
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.InitializeKeywordList();
                    System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList, System.Collections.Generic.KeyValuePair$2(System.String,PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType)).take(3);
                }
            },
            methods: {
                ContentStartsWithKeyword: function (providedContainer, contentToMatch) {
                    var firstEntryOfProvidedContainer = Bridge.cast(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.RootContainer(providedContainer), PoorMansTSqlFormatterLib.ParseTree).GetFirstNonWhitespaceNonCommentChildElement(providedContainer);
                    var targetFound = false;
                    var keywordUpperValue = null;

                    if (firstEntryOfProvidedContainer != null && System.String.equals(firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue != null) {
                        keywordUpperValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    }

                    if (firstEntryOfProvidedContainer != null && System.String.equals(firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD)) {
                        keywordUpperValue = firstEntryOfProvidedContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT);
                    }

                    if (keywordUpperValue != null) {
                        targetFound = System.String.equals(keywordUpperValue, contentToMatch) || System.String.startsWith(keywordUpperValue, (contentToMatch || "") + " ");
                    } else {
                        targetFound = contentToMatch == null;
                    }

                    return targetFound;
                },
                IsStatementStarter: function (token) {
                    var uppercaseValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                    return (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode && (System.String.equals(uppercaseValue, "ALTER") || System.String.equals(uppercaseValue, "BACKUP") || System.String.equals(uppercaseValue, "BREAK") || System.String.equals(uppercaseValue, "CLOSE") || System.String.equals(uppercaseValue, "CHECKPOINT") || System.String.equals(uppercaseValue, "COMMIT") || System.String.equals(uppercaseValue, "CONTINUE") || System.String.equals(uppercaseValue, "CREATE") || System.String.equals(uppercaseValue, "DBCC") || System.String.equals(uppercaseValue, "DEALLOCATE") || System.String.equals(uppercaseValue, "DELETE") || System.String.equals(uppercaseValue, "DECLARE") || System.String.equals(uppercaseValue, "DENY") || System.String.equals(uppercaseValue, "DROP") || System.String.equals(uppercaseValue, "EXEC") || System.String.equals(uppercaseValue, "EXECUTE") || System.String.equals(uppercaseValue, "FETCH") || System.String.equals(uppercaseValue, "GOTO") || System.String.equals(uppercaseValue, "GRANT") || System.String.equals(uppercaseValue, "IF") || System.String.equals(uppercaseValue, "INSERT") || System.String.equals(uppercaseValue, "KILL") || System.String.equals(uppercaseValue, "MERGE") || System.String.equals(uppercaseValue, "OPEN") || System.String.equals(uppercaseValue, "PRINT") || System.String.equals(uppercaseValue, "RAISERROR") || System.String.equals(uppercaseValue, "RECONFIGURE") || System.String.equals(uppercaseValue, "RESTORE") || System.String.equals(uppercaseValue, "RETURN") || System.String.equals(uppercaseValue, "REVERT") || System.String.equals(uppercaseValue, "REVOKE") || System.String.equals(uppercaseValue, "SELECT") || System.String.equals(uppercaseValue, "SET") || System.String.equals(uppercaseValue, "SETUSER") || System.String.equals(uppercaseValue, "SHUTDOWN") || System.String.equals(uppercaseValue, "TRUNCATE") || System.String.equals(uppercaseValue, "UPDATE") || System.String.equals(uppercaseValue, "USE") || System.String.equals(uppercaseValue, "WAITFOR") || System.String.equals(uppercaseValue, "WHILE")));
                },
                IsClauseStarter: function (token) {
                    var uppercaseValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                    return (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode && (System.String.equals(uppercaseValue, "DELETE") || System.String.equals(uppercaseValue, "EXCEPT") || System.String.equals(uppercaseValue, "FOR") || System.String.equals(uppercaseValue, "FROM") || System.String.equals(uppercaseValue, "GROUP") || System.String.equals(uppercaseValue, "HAVING") || System.String.equals(uppercaseValue, "INNER") || System.String.equals(uppercaseValue, "INTERSECT") || System.String.equals(uppercaseValue, "INTO") || System.String.equals(uppercaseValue, "INSERT") || System.String.equals(uppercaseValue, "MERGE") || System.String.equals(uppercaseValue, "ORDER") || System.String.equals(uppercaseValue, "OUTPUT") || System.String.equals(uppercaseValue, "PIVOT") || System.String.equals(uppercaseValue, "RETURNS") || System.String.equals(uppercaseValue, "SELECT") || System.String.equals(uppercaseValue, "UNION") || System.String.equals(uppercaseValue, "UNPIVOT") || System.String.equals(uppercaseValue, "UPDATE") || System.String.equals(uppercaseValue, "USING") || System.String.equals(uppercaseValue, "VALUES") || System.String.equals(uppercaseValue, "WHERE") || System.String.equals(uppercaseValue, "WITH")));
                },
                IsLineBreakingWhiteSpaceOrComment: function (token) {
                    return (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace && System.Text.RegularExpressions.Regex.isMatch(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "(\\r|\\n)+")) || token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment;
                },
                InitializeKeywordList: function () {
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList = new (System.Collections.Generic.Dictionary$2(System.String,PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType)).ctor();
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@CONNECTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@CPU_BUSY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@CURSOR_ROWS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@DATEFIRST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@DBTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@ERROR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@FETCH_STATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@IDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@IDLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@IO_BUSY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@LANGID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@LANGUAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@LOCK_TIMEOUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@MAX_CONNECTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@MAX_PRECISION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@NESTLEVEL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@OPTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PACKET_ERRORS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PACK_RECEIVED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PACK_SENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@PROCID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@REMSERVER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@ROWCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@SERVERNAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@SERVICENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@SPID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TEXTSIZE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TIMETICKS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TOTAL_ERRORS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TOTAL_READ", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TOTAL_WRITE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@TRANCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("@@VERSION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ABS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ACOS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ACTIVATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ADD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ALL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ALTER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_DEFAULTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_NULLS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_NULL_DFLT_OFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_NULL_DFLT_ON", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_PADDING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANSI_WARNINGS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ANY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("APP_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ARITHABORT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ARITHIGNORE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ASC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ASCII", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ASIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ATAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ATN2", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AUTHORIZATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("AVG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BACKUP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BEGIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BETWEEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BIGINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BINARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BREAK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BROWSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BULK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("BY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CALLER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CASCADE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CASE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CAST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CATALOG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CEILING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHARACTER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHARINDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKALLOC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKCATALOG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKCONSTRAINTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKDB", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKFILEGROUP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKIDENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKPOINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKSUM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKSUM_AGG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CHECKTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CLEANTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CLOSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CLUSTERED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COALESCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLLATIONPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLLECTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLUMN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COLUMNPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COL_LENGTH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COL_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COMMIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COMPUTE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONCAT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONCAT_NULL_YIELDS_NULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONCURRENCYVIOLATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONFIRM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONSTRAINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTAINS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTAINSTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTINUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTROL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONTROLROW", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CONVERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("COUNT_BIG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CREATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CROSS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_DATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_TIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_TIMESTAMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURRENT_USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURSOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURSOR_CLOSE_ON_COMMIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("CURSOR_STATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATABASE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATABASEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATABASEPROPERTYEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATALENGTH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEADD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEDIFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEFIRST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEFORMAT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATEPART", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATETIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATETIME2", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DATETIMEOFFSET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DAY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DBCC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DBREINDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DBREPAIR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DB_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DB_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEADLOCK_PRIORITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEALLOCATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DECIMAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DECLARE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEFAULT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEFINITION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DEGREES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DELAY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DELETE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DENY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DESC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DIFFERENCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISABLE_DEF_CNST_CHK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISTINCT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DISTRIBUTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DOUBLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DROP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DROPCLEANBUFFERS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DUMMY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DUMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("DYNAMIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ELSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ENCRYPTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ERRLVL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ERROREXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ESCAPE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXCEPT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXEC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXECUTE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXISTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXPAND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("EXTERNAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FAST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FAST_FORWARD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FASTFIRSTROW", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FETCH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEGROUPPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEGROUP_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEGROUP_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE_IDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILE_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FILLFACTOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FIPS_FLAGGER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FLOAT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FLOOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FLOPPY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FMTONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORCED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORCEPLAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FOREIGN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORMATMESSAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FORWARD_ONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREEPROCCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREESESSIONCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREESYSTEMCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREETEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FREETEXTTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FROM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULLTEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULLTEXTCATALOGPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FULLTEXTSERVICEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("FUNCTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GEOGRAPHY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETANCESTOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETANSINULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETDATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETDESCENDANT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETLEVEL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETREPARENTEDVALUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GETROOT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GLOBAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GOTO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GRANT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GROUP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("GROUPING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HASH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HAVING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HELP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HIERARCHYID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HOLDLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HOST_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("HOST_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENTITYCOL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENTITY_INSERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENT_CURRENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENT_INCR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IDENT_SEED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IGNORE_CONSTRAINTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IGNORE_TRIGGERS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IMAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IMPLICIT_TRANSACTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEXDEFRAG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEXKEY_PROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEXPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INDEX_COL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INNER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INPUTBUFFER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INSENSITIVE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INSERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INTEGER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INTERSECT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("INTO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISDATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISDESCENDANTOF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISNULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISNUMERIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ISOLATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IS_MEMBER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("IS_SRVROLEMEMBER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("JOIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEPDEFAULTS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEPFIXED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEEPIDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KEYSET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("KILL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LANGUAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LEFT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LEVEL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LIKE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LINENO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOAD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOCAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOCK_TIMEOUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOG10", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOGIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOOP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LOWER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("LTRIM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MATCHED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAX_QUEUE_READERS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAXDOP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MAXRECURSION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MERGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MIRROREXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MODIFY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MONEY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MONTH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("MOVE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NAMES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NATIONAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NCHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NEWID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOCHECK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NODES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOEXEC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOEXPAND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NONCLUSTERED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NOWAIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NTEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NTILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NULL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NULLIF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NUMERIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NUMERIC_ROUNDABORT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("NVARCHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECTPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECTPROPERTYEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECT_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OBJECT_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OFFSETS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ON", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ONCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENDATASOURCE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENQUERY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENROWSET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPENTRAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPTIMIZE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPTIMISTIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OPTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ORDER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUTER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUTPUT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OUTPUTBUFFER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OVER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("OWNER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PAGLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARAMETERIZATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARSENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARSEONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PARTITION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PATINDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERCENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERMANENT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PERMISSIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PI", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PINTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PIPE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PLAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("POWER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PREPARE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PRIMARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PRINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PRIVILEGES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCCACHE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCEDURE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCEDURE_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCESSEXIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROCID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PROFILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("PUBLIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUERY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUERY_GOVERNOR_COST_LIMIT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUEUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUOTED_IDENTIFIER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("QUOTENAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RADIANS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RAISERROR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RAND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READ", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READCOMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READCOMMITTEDLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READPAST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READTEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READUNCOMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("READ_ONLY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RECOMPILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RECONFIGURE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REFERENCES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REMOTE_PROC_TRANSACTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPEATABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPEATABLEREAD", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPLACE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPLICATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REPLICATION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RESTORE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RESTRICT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RETURN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RETURNS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REVERSE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REVERT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("REVOKE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RIGHT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROBUST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROLLBACK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROUND", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWCOUNT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWGUIDCOL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("ROWVERSION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RTRIM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("RULE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SAVE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCHEMA", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCHEMA_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCHEMA_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCOPE_IDENTITY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCROLL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SCROLL_LOCKS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SELECT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SELF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SERIALIZABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SERVER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SERVERPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SESSIONPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SESSION_USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SET", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SETUSER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOWCONTIG", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOWPLAN_ALL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOWPLAN_TEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHOW_STATISTICS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHRINKDATABASE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHRINKFILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SHUTDOWN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SIGN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SIMPLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SIN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SMALLDATETIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SMALLINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SMALLMONEY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SOME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SOUNDEX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SPACE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQLPERF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQL_VARIANT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQL_VARIANT_PROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQRT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SQUARE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATISTICS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATIC", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATS_DATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STDEV", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STDEVP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STOPLIST", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("STUFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUBSTRING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_SID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SUSER_SNAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SYNONYM", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SYSNAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("SYSTEM_USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TABLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TABLOCKX", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TAPE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEMPORARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXTPTR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXTSIZE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TEXTVALID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("THEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TIME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TIMESTAMP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TINYINT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TO", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TOP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TOSTRING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRACEOFF", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRACEON", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRACESTATUS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRAN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRANSACTION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRIGGER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TRUNCATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TSEQUAL", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPEPROPERTY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPE_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPE_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("TYPE_WARNING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNCOMMITTED", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNICODE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNION", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNIQUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNIQUEIDENTIFIER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNKNOWN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UNPINTABLE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDATE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDATETEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDATEUSAGE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPDLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("UPPER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USER", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USEROPTIONS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USER_ID", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USER_NAME", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("USING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VALUE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VALUES", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARBINARY", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARCHAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARP", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VARYING", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VIEW", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("VIEWS", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WAITFOR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WHEN", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WHERE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WHILE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WITH", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WORK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WRITE", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("WRITETEXT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("XACT_ABORT", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("XLOCK", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("XML", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword);
                    PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.add("YEAR", PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword);
                }
            }
        },
        alias: ["ParseSQL", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenParser$ParseSQL"],
        methods: {
            ParseSQL: function (tokenList) {
                var $t, $t1, $t2, $t3;
                var sqlTree = new PoorMansTSqlFormatterLib.ParseTree(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT);
                sqlTree.StartNewStatement();

                var tokenCount = System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken);
                var tokenID = { v : 0 };
                while (tokenID.v < tokenCount) {
                    var token = System.Array.getItem(tokenList, tokenID.v, PoorMansTSqlFormatterLib.Interfaces.IToken);

                    switch (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type) {
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OpenParens: 
                            var firstNonCommentParensSibling = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                            var lastNonCommentParensSibling = sqlTree.GetLastNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                            var isInsertOrValuesClause = (firstNonCommentParensSibling != null && ((System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "INSERT")) || (System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT)), "INSERT ")) || (System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "VALUES"))));
                            if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE)) {
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS, "");
                            } else {
                                if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK)) {
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS, "");
                                } else {
                                    if (firstNonCommentParensSibling == null && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET)) {
                                        sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS, "");
                                    } else {
                                        if (firstNonCommentParensSibling != null && System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE)) {
                                            sqlTree.ConsiderStartingNewClause();
                                            sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS, "");
                                        } else if (this.IsLatestTokenADDLDetailValue(sqlTree)) {
                                            sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS, "");
                                        } else {
                                            if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK) || (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && (firstNonCommentParensSibling != null && System.String.equals(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "OPTION"))) || isInsertOrValuesClause) {
                                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS, "");
                                            } else {
                                                if ((lastNonCommentParensSibling != null && System.String.equals(lastNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR) && System.String.equals(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(lastNonCommentParensSibling.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "IN"))) {
                                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS, "");
                                                } else {
                                                    if (this.IsLatestTokenAMiscName(sqlTree)) {
                                                        sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS, "");
                                                    } else {
                                                        sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS, "");
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.CloseParens: 
                            sqlTree.EscapeAnySingleOrPartialStatementContainers();
                            if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDLDETAIL_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS)) {
                                sqlTree.MoveToAncestorContainer(1);
                            } else if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK)) {
                                sqlTree.MoveToAncestorContainer$1(4, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT, "");
                            } else if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS) || System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS))) {
                                sqlTree.MoveToAncestorContainer(2);
                            } else {
                                sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, ")");
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode: 
                            var significantTokenPositions = this.GetSignificantTokenPositions(tokenList, tokenID.v, 7);
                            var significantTokensString = this.ExtractTokensString(tokenList, significantTokenPositions);
                            if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL)) {
                                if (System.String.startsWith(significantTokensString, "ON ")) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (System.String.startsWith(significantTokensString, "TO ") || System.String.startsWith(significantTokensString, "FROM ")) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "CREATE PROC") || System.String.startsWith(significantTokensString, "CREATE FUNC") || System.String.startsWith(significantTokensString, "CREATE TRIGGER ") || System.String.startsWith(significantTokensString, "CREATE VIEW ") || System.String.startsWith(significantTokensString, "ALTER PROC") || System.String.startsWith(significantTokensString, "ALTER FUNC") || System.String.startsWith(significantTokensString, "ALTER TRIGGER ") || System.String.startsWith(significantTokensString, "ALTER VIEW ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._CursorDetector.isMatch(significantTokensString)) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) && PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._TriggerConditionDetector.isMatch(significantTokensString)) {
                                var triggerConditions = PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._TriggerConditionDetector.match(significantTokensString);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRIGGER_CONDITION, "");
                                var triggerConditionType = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD, "");

                                var triggerConditionTypeSimpleText = triggerConditions.getGroups().get(1).getValue();
                                triggerConditionType.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT, triggerConditionTypeSimpleText);
                                var triggerConditionTypeNodeCount = System.String.split(triggerConditionTypeSimpleText, System.Array.init([32], System.Char).map(function (i) {{ return String.fromCharCode(i); }})).length;
                                this.AppendNodesWithMapping(sqlTree, tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex(significantTokenPositions.getItem(0), significantTokenPositions.getItem(((triggerConditionTypeNodeCount - 1) | 0))), PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, triggerConditionType);

                                var triggerConditionNodeCount = (System.String.split(triggerConditions.getGroups().get(2).getValue(), System.Array.init([32], System.Char).map(function (i) {{ return String.fromCharCode(i); }})).length - 2) | 0;
                                this.AppendNodesWithMapping(sqlTree, tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex(((significantTokenPositions.getItem(((triggerConditionTypeNodeCount - 1) | 0)) + 1) | 0), significantTokenPositions.getItem(((((triggerConditionTypeNodeCount + triggerConditionNodeCount) | 0) - 1) | 0))), PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, sqlTree.CurrentContainer);
                                tokenID.v = significantTokenPositions.getItem(((((triggerConditionTypeNodeCount + triggerConditionNodeCount) | 0) - 1) | 0));
                                sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK);
                            } else if (System.String.startsWith(significantTokensString, "FOR ")) {
                                sqlTree.EscapeAnyBetweenConditions();
                                sqlTree.EscapeAnySelectionTarget();
                                sqlTree.EscapeJoinCondition();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION)) {
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                    sqlTree.StartNewStatement();
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK)) {
                                    sqlTree.MoveToAncestorContainer$1(4, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_DECLARATION);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.ConsiderStartingNewClause();

                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "DECLARE ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "CREATE ") || System.String.startsWith(significantTokensString, "ALTER ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK, "");
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "GRANT ") || System.String.startsWith(significantTokensString, "DENY ") || System.String.startsWith(significantTokensString, "REVOKE ")) {
                                if (System.String.startsWith(significantTokensString, "GRANT ") && sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK) && sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer) == null) {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                } else {
                                    sqlTree.ConsiderStartingNewStatement();
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_DETAIL);
                                }
                            } else if (System.String.equals(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) && System.String.startsWith(significantTokensString, "RETURNS ")) {
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_RETURNS, ""));
                            } else if (System.String.startsWith(significantTokensString, "AS ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK)) {
                                    var nextKeywordType = { v : new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType() };
                                    var isDataTypeDefinition = false;
                                    if (significantTokenPositions.Count > 1 && PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(System.Array.getItem(tokenList, significantTokenPositions.getItem(1), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value), nextKeywordType)) {
                                        if (nextKeywordType.v === PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword) {
                                            isDataTypeDefinition = true;
                                        }
                                    }

                                    if (isDataTypeDefinition) {
                                        sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    } else {
                                        sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                        sqlTree.StartNewStatement();
                                    }
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                    sqlTree.StartNewStatement();
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_AS_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "BEGIN DISTRIBUTED TRANSACTION ") || System.String.startsWith(significantTokensString, "BEGIN DISTRIBUTED TRAN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION, ""), tokenID, significantTokenPositions, 3);
                            } else if (System.String.startsWith(significantTokensString, "BEGIN TRANSACTION ") || System.String.startsWith(significantTokensString, "BEGIN TRAN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "SAVE TRANSACTION ") || System.String.startsWith(significantTokensString, "SAVE TRAN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SAVE_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "COMMIT TRANSACTION ") || System.String.startsWith(significantTokensString, "COMMIT TRAN ") || System.String.startsWith(significantTokensString, "COMMIT WORK ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "COMMIT ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMIT_TRANSACTION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                            } else if (System.String.startsWith(significantTokensString, "ROLLBACK TRANSACTION ") || System.String.startsWith(significantTokensString, "ROLLBACK TRAN ") || System.String.startsWith(significantTokensString, "ROLLBACK WORK ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "ROLLBACK ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ROLLBACK_TRANSACTION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                            } else if (System.String.startsWith(significantTokensString, "BEGIN TRY ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                var newTryBlock = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK, "");
                                var tryContainerOpen = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "", newTryBlock);
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, tryContainerOpen, tokenID, significantTokenPositions, 2);
                                var tryMultiContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT, "", newTryBlock);
                                sqlTree.StartNewStatement$1(tryMultiContainer);
                            } else if (System.String.startsWith(significantTokensString, "BEGIN CATCH ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                var newCatchBlock = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK, "");
                                var catchContainerOpen = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "", newCatchBlock);
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, catchContainerOpen, tokenID, significantTokenPositions, 2);
                                var catchMultiContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT, "", newCatchBlock);
                                sqlTree.StartNewStatement$1(catchMultiContainer);
                            } else if (System.String.startsWith(significantTokensString, "BEGIN ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT);
                                sqlTree.StartNewStatement();
                            } else if (System.String.startsWith(significantTokensString, "MERGE ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET);
                            } else if (System.String.startsWith(significantTokensString, "USING ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_TARGET)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET);
                                } else {
                                    sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "ON ")) {
                                sqlTree.EscapeAnySelectionTarget();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_USING)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (!sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) && !sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) && !sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && !sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) && !PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "SET")) {
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "CASE ")) {
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT);
                            } else if (System.String.startsWith(significantTokensString, "WHEN ")) {
                                sqlTree.EscapeMergeAction();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT) || (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN))) {
                                    if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_INPUT)) {
                                        sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    } else {
                                        sqlTree.MoveToAncestorContainer$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    }

                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if ((sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION)) || sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN)) {
                                    if (sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CONDITION)) {
                                        sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    } else {
                                        sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_CLAUSE);
                                    }

                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "THEN ")) {
                                sqlTree.EscapeAnyBetweenConditions();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_WHEN);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_THEN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION);
                                    sqlTree.StartNewStatement();
                                } else {
                                    sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "OUTPUT ")) {
                                var isSprocArgument = false;

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "EXEC") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "EXECUTE") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, null))) {
                                    isSprocArgument = true;
                                }

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK)) {
                                    isSprocArgument = true;
                                }

                                if (!isSprocArgument) {
                                    sqlTree.EscapeMergeAction();
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "OPTION ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE)) {
                                } else {
                                    sqlTree.EscapeMergeAction();
                                    sqlTree.ConsiderStartingNewClause();
                                }
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "END TRY ")) {
                                sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_TRY_BLOCK)) {
                                    var tryBlock = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                    var tryContainerClose = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, "", tryBlock);
                                    this.ProcessCompoundKeyword$1(tokenList, sqlTree, tryContainerClose, tokenID, significantTokenPositions, 2);
                                    sqlTree.CurrentContainer = tryBlock.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                } else {
                                    this.ProcessCompoundKeywordWithError(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                                }
                            } else if (System.String.startsWith(significantTokensString, "END CATCH ")) {
                                sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CATCH_BLOCK)) {
                                    var catchBlock = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                    var catchContainerClose = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, "", catchBlock);
                                    this.ProcessCompoundKeyword$1(tokenList, sqlTree, catchContainerClose, tokenID, significantTokenPositions, 2);
                                    sqlTree.CurrentContainer = catchBlock.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                } else {
                                    this.ProcessCompoundKeywordWithError(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                                }
                            } else if (System.String.startsWith(significantTokensString, "END ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN)) {
                                    sqlTree.MoveToAncestorContainer$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, ""));
                                    sqlTree.MoveToAncestorContainer(1);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, ""));
                                    sqlTree.MoveToAncestorContainer(1);
                                } else {
                                    sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                    if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_MULTISTATEMENT) && sqlTree.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BEGIN_END_BLOCK)) {
                                        var beginBlock = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                        var beginContainerClose = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, "", beginBlock);
                                        sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, beginContainerClose);
                                        sqlTree.CurrentContainer = beginBlock.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                    } else {
                                        sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    }
                                }
                            } else if (System.String.startsWith(significantTokensString, "GO ")) {
                                sqlTree.EscapeAnySingleOrPartialStatementContainers();

                                if ((tokenID.v === 0 || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.IsLineBreakingWhiteSpaceOrComment(System.Array.getItem(tokenList, ((tokenID.v - 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken))) && this.IsFollowedByLineBreakingWhiteSpaceOrSingleLineCommentOrEnd(tokenList, tokenID.v)) {
                                    if (sqlTree.FindValidBatchEnd()) {
                                        var sqlRoot = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.RootContainer(sqlTree);
                                        var batchSeparator = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BATCH_SEPARATOR, "", sqlRoot);
                                        sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, batchSeparator);
                                        sqlTree.StartNewStatement$1(sqlRoot);
                                    } else {
                                        sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    }
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "EXECUTE AS ")) {
                                var executeAsInWithOptions = false;
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && (this.IsLatestTokenAComma(sqlTree) || !sqlTree.HasNonWhiteSpaceNonCommentContent(sqlTree.CurrentContainer))) {
                                    executeAsInWithOptions = true;
                                }

                                if (!executeAsInWithOptions) {
                                    sqlTree.ConsiderStartingNewStatement();
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "EXEC ") || System.String.startsWith(significantTokensString, "EXECUTE ")) {
                                var execShouldntTryToStartNewStatement = false;

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "INSERT") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(sqlTree.CurrentContainer, "INSERT INTO"))) {
                                    var existingClauseCount = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null ? System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node).count() : 0;
                                    if (existingClauseCount === 1) {
                                        execShouldntTryToStartNewStatement = true;
                                    }
                                }

                                if (!execShouldntTryToStartNewStatement) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                sqlTree.ConsiderStartingNewClause();

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._JoinDetector.isMatch(significantTokensString)) {
                                sqlTree.ConsiderStartingNewClause();
                                var joinText = PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser._JoinDetector.match(significantTokensString).getValue();
                                var targetKeywordCount = System.String.split(joinText, System.Array.init([32], System.Char).map(function (i) {{ return String.fromCharCode(i); }}), null, 1).length;
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, targetKeywordCount);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET, "");
                            } else if (System.String.startsWith(significantTokensString, "UNION ALL ")) {
                                sqlTree.ConsiderStartingNewClause();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE, ""), tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "UNION ") || System.String.startsWith(significantTokensString, "INTERSECT ") || System.String.startsWith(significantTokensString, "EXCEPT ")) {
                                sqlTree.ConsiderStartingNewClause();
                                var unionClause = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE, "");
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, unionClause);
                            } else if (System.String.startsWith(significantTokensString, "WHILE ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                var newWhileLoop = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP, "");
                                var whileContainerOpen = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "", newWhileLoop);
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, whileContainerOpen);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION, "", newWhileLoop);
                            } else if (System.String.startsWith(significantTokensString, "IF ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION);
                            } else if (System.String.startsWith(significantTokensString, "ELSE ")) {
                                sqlTree.EscapeAnyBetweenConditions();
                                sqlTree.EscapeAnySelectionTarget();
                                sqlTree.EscapeJoinCondition();

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_THEN)) {
                                    sqlTree.MoveToAncestorContainer$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_STATEMENT);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CASE_ELSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.EscapePartialStatementContainers();

                                    if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && sqlTree.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                                        var currentNode = sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                        var stopSearching = false;
                                        while (!stopSearching) {
                                            if (sqlTree.PathNameMatches(currentNode, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT)) {
                                                sqlTree.CurrentContainer = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                                sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT);
                                                sqlTree.StartNewStatement();
                                                stopSearching = true;
                                            } else if (sqlTree.PathNameMatches(currentNode, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                                                currentNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                            } else if (sqlTree.PathNameMatches(currentNode, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP)) {
                                                currentNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                                            } else {
                                                sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                                stopSearching = true;
                                            }
                                        }
                                    } else {
                                        sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    }
                                }
                            } else if (System.String.startsWith(significantTokensString, "INSERT INTO ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHARACTER VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 3);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHAR VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 3);
                            } else if (System.String.startsWith(significantTokensString, "BINARY VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "CHAR VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "CHARACTER VARYING ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "DOUBLE PRECISION ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHARACTER ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL CHAR ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "NATIONAL TEXT ")) {
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "INSERT ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "BULK INSERT ")) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.ConsiderStartingNewClause();
                                this.ProcessCompoundKeyword$1(tokenList, sqlTree, sqlTree.CurrentContainer, tokenID, significantTokenPositions, 2);
                            } else if (System.String.startsWith(significantTokensString, "SELECT ")) {
                                if (sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                var selectShouldntTryToStartNewStatement = false;

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE)) {
                                    var firstStatementClause = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent);

                                    var isPrecededByInsertStatement = false;
                                    $t = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                    try {
                                        while ($t.moveNext()) {
                                            var clause = $t.Current;
                                            if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause, "INSERT")) {
                                                isPrecededByInsertStatement = true;
                                            }
                                        }
                                    } finally {
                                        if (Bridge.is($t, System.IDisposable)) {
                                            $t.System$IDisposable$Dispose();
                                        }
                                    }

                                    if (isPrecededByInsertStatement) {
                                        var existingSelectClauseFound = false;
                                        $t1 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t1.moveNext()) {
                                                var clause1 = $t1.Current;
                                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause1, "SELECT")) {
                                                    existingSelectClauseFound = true;
                                                }
                                            }
                                        } finally {
                                            if (Bridge.is($t1, System.IDisposable)) {
                                                $t1.System$IDisposable$Dispose();
                                            }
                                        }

                                        var existingValuesClauseFound = false;
                                        $t2 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t2.moveNext()) {
                                                var clause2 = $t2.Current;
                                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause2, "VALUES")) {
                                                    existingValuesClauseFound = true;
                                                }
                                            }
                                        } finally {
                                            if (Bridge.is($t2, System.IDisposable)) {
                                                $t2.System$IDisposable$Dispose();
                                            }
                                        }

                                        var existingExecClauseFound = false;
                                        $t3 = Bridge.getEnumerator(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenByName(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE), PoorMansTSqlFormatterLib.ParseStructure.Node);
                                        try {
                                            while ($t3.moveNext()) {
                                                var clause3 = $t3.Current;
                                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause3, "EXEC") || PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.ContentStartsWithKeyword(clause3, "EXECUTE")) {
                                                    existingExecClauseFound = true;
                                                }
                                            }
                                        } finally {
                                            if (Bridge.is($t3, System.IDisposable)) {
                                                $t3.System$IDisposable$Dispose();
                                            }
                                        }

                                        if (!existingSelectClauseFound && !existingValuesClauseFound && !existingExecClauseFound) {
                                            selectShouldntTryToStartNewStatement = true;
                                        }
                                    }

                                    var firstEntryOfThisClause = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                                    if (firstEntryOfThisClause != null && System.String.equals(firstEntryOfThisClause.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SET_OPERATOR_CLAUSE)) {
                                        selectShouldntTryToStartNewStatement = true;
                                    }
                                }

                                if (!selectShouldntTryToStartNewStatement) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                sqlTree.ConsiderStartingNewClause();

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "UPDATE ")) {
                                if (sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                if (!(sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS))) {
                                    sqlTree.ConsiderStartingNewStatement();
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "TO ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.String.startsWith(significantTokensString, "FROM ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_TARGET)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else {
                                    sqlTree.ConsiderStartingNewClause();
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET, "");
                                }
                            } else if (System.String.startsWith(significantTokensString, "CASCADE ") && sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT)) {
                                sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT, "", sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE, ""));
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "SET ")) {
                                var firstNonCommentSibling2 = sqlTree.GetFirstNonWhitespaceNonCommentChildElement(sqlTree.CurrentContainer);
                                if (!(firstNonCommentSibling2 != null && System.String.equals(firstNonCommentSibling2.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) && System.String.startsWith(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(firstNonCommentSibling2.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue), "UPDATE"))) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                sqlTree.ConsiderStartingNewClause();
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            } else if (System.String.startsWith(significantTokensString, "BETWEEN ")) {
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION, "");
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, ""));
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND, "");
                            } else if (System.String.startsWith(significantTokensString, "AND ")) {
                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_LOWERBOUND)) {
                                    sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION);
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_CLOSE, ""));
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND, "");
                                } else {
                                    sqlTree.EscapeAnyBetweenConditions();
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_AND_OPERATOR, ""));
                                }
                            } else if (System.String.startsWith(significantTokensString, "OR ")) {
                                sqlTree.EscapeAnyBetweenConditions();
                                sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OR_OPERATOR, ""));
                            } else if (System.String.startsWith(significantTokensString, "WITH ")) {
                                if (sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && !sqlTree.HasNonWhiteSpaceNonCommentContent(sqlTree.CurrentContainer)) {
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE, "");
                                    sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, ""));
                                    sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS, "");
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT)) {
                                    sqlTree.MoveToAncestorContainer$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK);
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK)) {
                                    sqlTree.StartNewContainer(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT);
                                } else if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET)) {
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                } else {
                                    sqlTree.ConsiderStartingNewClause();
                                    sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                                }
                            } else if (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 1) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon && !(System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 2) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 2) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon)) {
                                sqlTree.ConsiderStartingNewStatement();
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_LABEL, (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value || "") + (System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value || ""));
                                tokenID.v = (tokenID.v + 1) | 0;
                            } else {

                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.IsStatementStarter(token) || sqlTree.NewStatementDue) {
                                    sqlTree.ConsiderStartingNewStatement();
                                }

                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.IsClauseStarter(token)) {
                                    sqlTree.ConsiderStartingNewClause();
                                }

                                var newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE;
                                var matchedKeywordType = { v : new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType() };
                                if (PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordList.tryGetValue(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value), matchedKeywordType)) {
                                    switch (matchedKeywordType.v) {
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OperatorKeyword: 
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ALPHAOPERATOR;
                                            break;
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.FunctionKeyword: 
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD;
                                            break;
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.DataTypeKeyword: 
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD;
                                            break;
                                        case PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser.KeywordType.OtherKeyword: 
                                            sqlTree.EscapeAnySelectionTarget();
                                            newNodeName = PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD;
                                            break;
                                        default: 
                                            throw new System.Exception("Unrecognized Keyword Type!");
                                    }
                                }

                                sqlTree.SaveNewElement(newNodeName, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Semicolon: 
                            sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SEMICOLON, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            sqlTree.NewStatementDue = true;
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon: 
                            if (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 1) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon) {
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SCOPERESOLUTIONOPERATOR, (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value || "") + (System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value || ""));
                                tokenID.v = (tokenID.v + 1) | 0;
                            } else if (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) > ((tokenID.v + 1) | 0) && System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode) {
                                sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE, (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value || "") + (System.Array.getItem(tokenList, ((tokenID.v + 1) | 0), PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value || ""));
                                tokenID.v = (tokenID.v + 1) | 0;
                            } else {
                                sqlTree.SaveNewElementWithError(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma: 
                            var isCTESplitter = (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE));
                            sqlTree.SaveNewElement(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            if (isCTESplitter) {
                                sqlTree.MoveToAncestorContainer$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE);
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_ALIAS, "");
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign: 
                            sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK)) {
                                sqlTree.CurrentContainer = sqlTree.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT, "");
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace: 
                            if (sqlTree.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && sqlTree.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && !System.Linq.Enumerable.from(sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).any()) {
                                sqlTree.SaveNewElementAsPriorSibling(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, sqlTree.CurrentContainer);
                            } else {
                                sqlTree.SaveNewElement(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue: 
                        case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName: 
                            sqlTree.SaveNewElement(this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type), token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                            break;
                        default: 
                            throw new System.Exception("Unrecognized element encountered!");
                    }

                    tokenID.v = (tokenID.v + 1) | 0;
                }

                if (tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$HasUnfinishedToken) {
                    sqlTree.SetError();
                }

                if (!sqlTree.FindValidBatchEnd()) {
                    sqlTree.SetError();
                }

                return sqlTree;
            },
            ProcessCompoundKeywordWithError: function (tokenList, sqlTree, currentContainerElement, tokenID, significantTokenPositions, keywordCount) {
                this.ProcessCompoundKeyword$1(tokenList, sqlTree, currentContainerElement, tokenID, significantTokenPositions, keywordCount);
                sqlTree.SetError();
            },
            ProcessCompoundKeyword$1: function (tokenList, sqlTree, targetContainer, tokenID, significantTokenPositions, keywordCount) {
                var compoundKeyword = sqlTree.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD, "", targetContainer);
                var targetText = System.String.trimEnd(this.ExtractTokensString(tokenList, significantTokenPositions.GetRange(0, keywordCount)));
                compoundKeyword.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT, targetText);
                this.AppendNodesWithMapping(sqlTree, tokenList.PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex(significantTokenPositions.getItem(0), significantTokenPositions.getItem(((keywordCount - 1) | 0))), PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, compoundKeyword);
                tokenID.v = significantTokenPositions.getItem(((keywordCount - 1) | 0));
            },
            ProcessCompoundKeyword: function (sqlTree, newElementName, tokenID, currentContainerElement, compoundKeywordCount, compoundKeywordTokenCounts, compoundKeywordRawStrings) {
                var newElement = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(newElementName, this.GetCompoundKeyword(tokenID, compoundKeywordCount, compoundKeywordTokenCounts, compoundKeywordRawStrings));
                sqlTree.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(newElement);
                return newElement;
            },
            AppendNodesWithMapping: function (sqlTree, tokens, otherTokenMappingName, targetContainer) {
                var $t;
                $t = Bridge.getEnumerator(tokens, PoorMansTSqlFormatterLib.Interfaces.IToken);
                try {
                    while ($t.moveNext()) {
                        var token = $t.Current;
                        var elementName;
                        if (token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode) {
                            elementName = otherTokenMappingName;
                        } else {
                            elementName = this.GetEquivalentSqlNodeName(token.PoorMansTSqlFormatterLib$Interfaces$IToken$Type);
                        }

                        sqlTree.SaveNewElement$1(elementName, token.PoorMansTSqlFormatterLib$Interfaces$IToken$Value, targetContainer);
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
            },
            ExtractTokensString: function (tokenList, significantTokenPositions) {
                var $t;
                var keywordSB = new System.Text.StringBuilder();
                $t = Bridge.getEnumerator(significantTokenPositions, System.Int32);
                try {
                    while ($t.moveNext()) {
                        var tokenPos = $t.Current;
                        if (System.Array.getItem(tokenList, tokenPos, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma) {
                            keywordSB.append(",");
                        } else {
                            keywordSB.append(PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(System.Array.getItem(tokenList, tokenPos, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value));
                        }
                        keywordSB.append(" ");
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
                return keywordSB.toString();
            },
            GetEquivalentSqlNodeName: function (tokenType) {
                switch (tokenType) {
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ASTERISK;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EQUALSSIGN;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERIOD;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NSTRING;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_STRING;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_QUOTED_STRING;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHEROPERATOR;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_NUMBER_VALUE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MONETARY_VALUE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BINARY_VALUE;
                    case PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName: 
                        return PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PSEUDONAME;
                    default: 
                        throw new System.Exception("Mapping not found for provided Token Type");
                }
            },
            GetKeywordMatchPhrase: function (tokenList, tokenID, rawKeywordParts, tokenCounts, overflowNodes) {
                var phrase = "";
                var phraseComponentsFound = 0;
                rawKeywordParts.v = new (System.Collections.Generic.List$1(System.String)).ctor();
                overflowNodes.v = new (System.Collections.Generic.List$1(System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.Interfaces.IToken))).ctor();
                tokenCounts.v = new (System.Collections.Generic.List$1(System.Int32)).ctor();
                var precedingWhitespace = "";
                var originalTokenID = tokenID;

                while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && phraseComponentsFound < 7) {
                    if (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma) {
                        phrase = (phrase || "") + (((PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value) || "") + " ") || "");
                        phraseComponentsFound = (phraseComponentsFound + 1) | 0;
                        rawKeywordParts.v.add((precedingWhitespace || "") + (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value || ""));

                        tokenID = (tokenID + 1) | 0;
                        tokenCounts.v.add(((tokenID - originalTokenID) | 0));

                        overflowNodes.v.add(new (System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.Interfaces.IToken)).ctor());
                        precedingWhitespace = "";
                        while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment)) {
                            if (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace) {
                                precedingWhitespace = (precedingWhitespace || "") + (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value || "");
                            } else {
                                overflowNodes.v.getItem(((phraseComponentsFound - 1) | 0)).add(System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken));
                            }

                            tokenID = (tokenID + 1) | 0;
                        }
                    } else {
                        break;
                    }
                }

                return phrase;
            },
            GetSignificantTokenPositions: function (tokenList, tokenID, searchDistance) {
                var significantTokenPositions = new (System.Collections.Generic.List$1(System.Int32)).ctor();
                var originalTokenID = tokenID;

                while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && significantTokenPositions.Count < searchDistance) {
                    if (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma) {
                        significantTokenPositions.add(tokenID);
                        tokenID = (tokenID + 1) | 0;

                        while (tokenID < System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) && (System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment || System.Array.getItem(tokenList, tokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment)) {
                            tokenID = (tokenID + 1) | 0;
                        }
                    } else {
                        break;
                    }
                }

                return significantTokenPositions;
            },
            GetCompoundKeyword: function (tokenID, compoundKeywordCount, compoundKeywordTokenCounts, compoundKeywordRawStrings) {
                tokenID.v = (tokenID.v + (((compoundKeywordTokenCounts.getItem(((compoundKeywordCount - 1) | 0)) - 1) | 0))) | 0;
                var outString = "";
                for (var i = 0; i < compoundKeywordCount; i = (i + 1) | 0) {
                    outString = (outString || "") + (compoundKeywordRawStrings.getItem(i) || "");
                }
                return outString;
            },
            IsLatestTokenADDLDetailValue: function (sqlTree) {
                var latestContentNode = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(sqlTree.CurrentContainer, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).lastOrDefault(null, null);
                if (latestContentNode != null && (System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD) || System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DATATYPE_KEYWORD) || System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD))) {
                    var uppercaseText = null;
                    if (System.String.equals(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMPOUNDKEYWORD)) {
                        uppercaseText = latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_SIMPLETEXT);
                    } else {
                        uppercaseText = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(latestContentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);
                    }

                    return (System.String.equals(uppercaseText, "NVARCHAR") || System.String.equals(uppercaseText, "VARCHAR") || System.String.equals(uppercaseText, "DECIMAL") || System.String.equals(uppercaseText, "DEC") || System.String.equals(uppercaseText, "NUMERIC") || System.String.equals(uppercaseText, "VARBINARY") || System.String.equals(uppercaseText, "DEFAULT") || System.String.equals(uppercaseText, "IDENTITY") || System.String.equals(uppercaseText, "XML") || System.String.endsWith(uppercaseText, "VARYING") || System.String.endsWith(uppercaseText, "CHAR") || System.String.endsWith(uppercaseText, "CHARACTER") || System.String.equals(uppercaseText, "FLOAT") || System.String.equals(uppercaseText, "DATETIMEOFFSET") || System.String.equals(uppercaseText, "DATETIME2") || System.String.equals(uppercaseText, "TIME"));
                }
                return false;
            },
            IsLatestTokenAComma: function (sqlTree) {
                var latestContent = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(sqlTree.CurrentContainer, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).lastOrDefault(null, null);
                return latestContent != null && System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMA);
            },
            IsLatestTokenAMiscName: function (sqlTree) {
                var latestContent = System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(sqlTree.CurrentContainer, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).lastOrDefault(null, null);

                if (latestContent != null) {
                    var testValue = PoorMansTSqlFormatterLib.Utils.ToUpperInvariant$1(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue);

                    if (System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BRACKET_QUOTED_NAME)) {
                        return true;
                    }

                    if ((System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERNODE) || System.String.equals(latestContent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_FUNCTION_KEYWORD)) && !(System.String.equals(testValue, "AND") || System.String.equals(testValue, "OR") || System.String.equals(testValue, "NOT") || System.String.equals(testValue, "BETWEEN") || System.String.equals(testValue, "LIKE") || System.String.equals(testValue, "CONTAINS") || System.String.equals(testValue, "EXISTS") || System.String.equals(testValue, "FREETEXT") || System.String.equals(testValue, "IN") || System.String.equals(testValue, "ALL") || System.String.equals(testValue, "SOME") || System.String.equals(testValue, "ANY") || System.String.equals(testValue, "FROM") || System.String.equals(testValue, "JOIN") || System.String.endsWith(testValue, " JOIN") || System.String.equals(testValue, "UNION") || System.String.equals(testValue, "UNION ALL") || System.String.equals(testValue, "USING") || System.String.equals(testValue, "AS") || System.String.endsWith(testValue, " APPLY"))) {
                        return true;
                    }
                }

                return false;
            },
            IsFollowedByLineBreakingWhiteSpaceOrSingleLineCommentOrEnd: function (tokenList, tokenID) {
                var currTokenID = (tokenID + 1) | 0;
                while (System.Array.getCount(tokenList, PoorMansTSqlFormatterLib.Interfaces.IToken) >= ((currTokenID + 1) | 0)) {
                    if (System.Array.getItem(tokenList, currTokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment) {
                        return true;
                    } else {
                        if (System.Array.getItem(tokenList, currTokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Type === PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace) {
                            if (System.Text.RegularExpressions.Regex.isMatch(System.Array.getItem(tokenList, currTokenID, PoorMansTSqlFormatterLib.Interfaces.IToken).PoorMansTSqlFormatterLib$Interfaces$IToken$Value, "(\\r|\\n)+")) {
                                return true;
                            } else {
                                currTokenID = (currTokenID + 1) | 0;
                            }
                        } else {
                            return false;
                        }
                    }
                }
                return true;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseStructure.NodeImpl", {
        inherits: [PoorMansTSqlFormatterLib.ParseStructure.Node],
        fields: {
            Name: null,
            TextValue: null,
            Parent: null,
            Attributes: null,
            Children: null
        },
        alias: [
            "Name", "PoorMansTSqlFormatterLib$ParseStructure$Node$Name",
            "TextValue", "PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue",
            "Parent", "PoorMansTSqlFormatterLib$ParseStructure$Node$Parent",
            "Attributes", "PoorMansTSqlFormatterLib$ParseStructure$Node$Attributes",
            "Children", "PoorMansTSqlFormatterLib$ParseStructure$Node$Children",
            "AddChild", "PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild",
            "InsertChildBefore", "PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore",
            "RemoveChild", "PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveChild",
            "GetAttributeValue", "PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue",
            "SetAttribute", "PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute",
            "RemoveAttribute", "PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveAttribute"
        ],
        ctors: {
            ctor: function () {
                this.$initialize();
                this.Attributes = new (System.Collections.Generic.Dictionary$2(System.String,System.String)).ctor();
                this.Children = new (System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.ParseStructure.Node)).ctor();
            }
        },
        methods: {
            AddChild: function (child) {
                this.SetParentOnChild(child);
                System.Array.add(Bridge.cast(this.Children, System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.ParseStructure.Node)), child, PoorMansTSqlFormatterLib.ParseStructure.Node);
            },
            InsertChildBefore: function (newChild, existingChild) {
                this.SetParentOnChild(newChild);
                var childList = Bridge.as(this.Children, System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.ParseStructure.Node));
                System.Array.insert(childList, System.Array.indexOf(childList, existingChild, 0, null, PoorMansTSqlFormatterLib.ParseStructure.Node), newChild, PoorMansTSqlFormatterLib.ParseStructure.Node);
            },
            SetParentOnChild: function (child) {
                if (child.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent != null) {
                    throw new System.ArgumentException.$ctor1("Child cannot already have a parent!");
                }
                Bridge.cast(child, PoorMansTSqlFormatterLib.ParseStructure.NodeImpl).Parent = this;
            },
            RemoveChild: function (child) {
                System.Array.remove(Bridge.cast(this.Children, System.Collections.Generic.IList$1(PoorMansTSqlFormatterLib.ParseStructure.Node)), child, PoorMansTSqlFormatterLib.ParseStructure.Node);
                Bridge.cast(child, PoorMansTSqlFormatterLib.ParseStructure.NodeImpl).Parent = null;
            },
            GetAttributeValue: function (aName) {
                var outVal = { v : null };
                this.Attributes.System$Collections$Generic$IDictionary$2$System$String$System$String$tryGetValue(aName, outVal);
                return outVal.v;
            },
            SetAttribute: function (name, value) {
                this.Attributes.System$Collections$Generic$IDictionary$2$System$String$System$String$setItem(name, value);
            },
            RemoveAttribute: function (name) {
                this.Attributes.System$Collections$Generic$IDictionary$2$System$String$System$String$remove(name);
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.SqlFormattingManager", {
        inherits: [PoorMansTSqlFormatterLib._SqlFormattingManager],
        statics: {
            methods: {
                DefaultFormat: function (inputSQL) {
                    return new PoorMansTSqlFormatterLib.SqlFormattingManager.ctor().Format(inputSQL);
                },
                DefaultFormat$1: function (inputSQL, errorsEncountered) {
                    return new PoorMansTSqlFormatterLib.SqlFormattingManager.ctor().Format$1(inputSQL, errorsEncountered);
                }
            }
        },
        fields: {
            Tokenizer: null,
            Parser: null,
            Formatter: null
        },
        alias: ["Format", "PoorMansTSqlFormatterLib$_SqlFormattingManager$Format"],
        ctors: {
            ctor: function () {
                PoorMansTSqlFormatterLib.SqlFormattingManager.$ctor1.call(this, new PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer(), new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser(), new PoorMansTSqlFormatterLib.Formatters.TSqlStandardFormatter.ctor());
            },
            $ctor2: function (formatter) {
                PoorMansTSqlFormatterLib.SqlFormattingManager.$ctor1.call(this, new PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer(), new PoorMansTSqlFormatterLib.Parsers.TSqlStandardParser(), formatter);
            },
            $ctor1: function (tokenizer, parser, formatter) {
                this.$initialize();
                this.Tokenizer = tokenizer;
                this.Parser = parser;
                this.Formatter = formatter;
            }
        },
        methods: {
            Format: function (inputSQL) {
                var error = { v : false };
                return this.Format$1(inputSQL, error);
            },
            Format$1: function (inputSQL, errorEncountered) {
                var sqlTree = this.Parser.PoorMansTSqlFormatterLib$Interfaces$ISqlTokenParser$ParseSQL(this.Tokenizer.PoorMansTSqlFormatterLib$Interfaces$ISqlTokenizer$TokenizeSQL(inputSQL));
                errorEncountered.v = (Bridge.referenceEquals(sqlTree.PoorMansTSqlFormatterLib$ParseStructure$Node$GetAttributeValue(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND), "1"));
                return this.Formatter.PoorMansTSqlFormatterLib$Interfaces$ISqlTreeFormatter$FormatSQLTree(sqlTree);
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Token", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.IToken],
        fields: {
            Type: 0,
            Value: null
        },
        alias: [
            "Type", "PoorMansTSqlFormatterLib$Interfaces$IToken$Type",
            "Value", "PoorMansTSqlFormatterLib$Interfaces$IToken$Value"
        ],
        ctors: {
            ctor: function (type, value) {
                this.$initialize();
                this.Type = type;
                this.Value = value;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer", {
        inherits: [PoorMansTSqlFormatterLib.Interfaces.ISqlTokenizer],
        statics: {
            methods: {
                IsWhitespace: function (targetCharacter) {
                    return (targetCharacter === 32 || targetCharacter === 9 || targetCharacter === 10 || targetCharacter === 13);
                },
                IsNonWordCharacter: function (currentCharacter) {
                    return (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsWhitespace(currentCharacter) || PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsOperatorCharacter(currentCharacter) || (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsCurrencyPrefix(currentCharacter) && currentCharacter !== 36) || currentCharacter === 39 || currentCharacter === 34 || currentCharacter === 44 || currentCharacter === 46 || currentCharacter === 91 || currentCharacter === 40 || currentCharacter === 41 || currentCharacter === 33 || currentCharacter === 59 || currentCharacter === 58);
                },
                IsCompoundableOperatorCharacter: function (currentCharacter) {
                    return (currentCharacter === 47 || currentCharacter === 45 || currentCharacter === 43 || currentCharacter === 42 || currentCharacter === 37 || currentCharacter === 38 || currentCharacter === 94 || currentCharacter === 60 || currentCharacter === 62 || currentCharacter === 124);
                },
                IsOperatorCharacter: function (currentCharacter) {
                    return (currentCharacter === 47 || currentCharacter === 45 || currentCharacter === 43 || currentCharacter === 37 || currentCharacter === 42 || currentCharacter === 38 || currentCharacter === 124 || currentCharacter === 94 || currentCharacter === 61 || currentCharacter === 60 || currentCharacter === 62 || currentCharacter === 126);
                },
                IsCurrencyPrefix: function (currentCharacter) {
                    return (currentCharacter === 36 || currentCharacter === 162 || currentCharacter === 163 || currentCharacter === 164 || currentCharacter === 165 || currentCharacter === 2546 || currentCharacter === 2547 || currentCharacter === 3647 || currentCharacter === 6107 || currentCharacter === 8352 || currentCharacter === 8353 || currentCharacter === 8354 || currentCharacter === 8355 || currentCharacter === 8356 || currentCharacter === 8357 || currentCharacter === 8358 || currentCharacter === 8359 || currentCharacter === 8360 || currentCharacter === 8361 || currentCharacter === 8362 || currentCharacter === 8363 || currentCharacter === 8364 || currentCharacter === 8365 || currentCharacter === 8366 || currentCharacter === 8367 || currentCharacter === 8368 || currentCharacter === 8369 || currentCharacter === 65020 || currentCharacter === 65129 || currentCharacter === 65284 || currentCharacter === 65504 || currentCharacter === 65505 || currentCharacter === 65509 || currentCharacter === 65510);
                },
                CompleteTokenAndProcessNext: function (state) {
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteToken(state, true);
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.ProcessOrOpenToken(state);
                },
                AppendCharAndCompleteToken: function (state) {
                    state.ConsumeCurrentCharacterIntoToken();
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteToken(state, false);
                },
                SwallowOutstandingCharacterAndCompleteToken: function (state) {
                    state.HasUnprocessedCurrentCharacter = false;
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteToken(state, false);
                },
                ProcessOrOpenToken: function (state) {
                    if (state.CurrentTokenizationType != null) {
                        throw new System.Exception("Cannot start a new Token: existing Tokenization Type is not null");
                    }

                    if (!state.HasUnprocessedCurrentCharacter) {
                        throw new System.Exception("Cannot start a new Token: no (outstanding) current character specified!");
                    }

                    state.CurrentTokenValue.setLength(0);

                    if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsWhitespace(state.CurrentChar)) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.WhiteSpace;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (state.CurrentChar === 45) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleHyphen;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 36) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleDollar;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 47) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleSlash;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 78) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleN;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 39) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 34) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 91) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 40) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OpenParens);
                    } else if (state.CurrentChar === 41) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.CloseParens);
                    } else if (state.CurrentChar === 44) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Comma);
                    } else if (state.CurrentChar === 46) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePeriod;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 48) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleZero;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar >= 49 && state.CurrentChar <= 57) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsCurrencyPrefix(state.CurrentChar)) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (state.CurrentChar === 59) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Semicolon);
                    } else if (state.CurrentChar === 58) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Colon);
                    } else if (state.CurrentChar === 42) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleAsterisk;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 61) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleEquals;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 60) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLT;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 62) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleGT;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 33) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleExclamation;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (state.CurrentChar === 124) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePipe;
                        state.HasUnprocessedCurrentCharacter = false;
                    } else if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsCompoundableOperatorCharacter(state.CurrentChar)) {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleOtherCompoundableOperator;
                        state.ConsumeCurrentCharacterIntoToken();
                    } else if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsOperatorCharacter(state.CurrentChar)) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveCurrentCharToNewToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator);
                    } else {
                        state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode;
                        state.ConsumeCurrentCharacterIntoToken();
                    }
                },
                CompleteToken: function (state, nextCharRead) {
                    if (state.CurrentTokenizationType == null) {
                        throw new System.Exception("Cannot complete Token, as there is no current Tokenization Type");
                    }

                    switch (state.CurrentTokenizationType) {
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MultiLineComment, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.PseudoName: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.PseudoName, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineComment: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineComment, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineCommentCStyle: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.SingleLineCommentCStyle, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleHyphen: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, "-");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleDollar: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue, "$");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleSlash: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, "/");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.WhiteSpace: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.WhiteSpace, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleN: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, "N");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleExclamation: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, "!");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePipe: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherNode, "|");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleGT: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, ">");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLT: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, "<");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.NationalString, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.String, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.QuotedString, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BracketQuotedName, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleOtherCompoundableOperator: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.OtherOperator, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleZero: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number, "0");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePeriod: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Period, ".");
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleAsterisk: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Asterisk, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleEquals: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.EqualsSign, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.Number, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BinaryValue: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.BinaryValue, state.CurrentTokenValue.toString());
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue: 
                            PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, PoorMansTSqlFormatterLib.Interfaces.SqlTokenType.MonetaryValue, state.CurrentTokenValue.toString());
                            break;
                        default: 
                            throw new System.Exception("Unrecognized SQL Node Type");
                    }

                    state.CurrentTokenizationType = null;
                },
                SaveCurrentCharToNewToken: function (state, tokenType) {
                    var charToSave = state.CurrentChar;
                    state.HasUnprocessedCurrentCharacter = false;
                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SaveToken(state, tokenType, String.fromCharCode(charToSave));
                },
                SaveToken: function (state, tokenType, tokenValue) {
                    var foundToken = new PoorMansTSqlFormatterLib.Token(tokenType, tokenValue);
                    state.TokenContainer.add(foundToken);

                    var positionOfLastCharacterInToken = state.InputReader.LastCharacterPosition.sub(System.Int64((state.HasUnprocessedCurrentCharacter ? 1 : 0)));
                    if (System.Nullable.liftne("ne", state.RequestedMarkerPosition, System.Int64.lift(null)) && state.TokenContainer.MarkerToken == null && System.Nullable.liftcmp("lte", state.RequestedMarkerPosition, positionOfLastCharacterInToken)) {
                        state.TokenContainer.MarkerToken = foundToken;
                        var rawPositionInToken = System.Nullable.lift2("sub", System.Int64.lift(foundToken.Value.length), (System.Nullable.lift2("sub", positionOfLastCharacterInToken, state.RequestedMarkerPosition)));
                        state.TokenContainer.MarkerPosition = System.Nullable.liftcmp("gt", rawPositionInToken, System.Int64.lift(foundToken.Value.length)) ? System.Int64.lift(foundToken.Value.length) : rawPositionInToken;
                    }
                }
            }
        },
        alias: [
            "TokenizeSQL", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenizer$TokenizeSQL",
            "TokenizeSQL$1", "PoorMansTSqlFormatterLib$Interfaces$ISqlTokenizer$TokenizeSQL$1"
        ],
        methods: {
            TokenizeSQL: function (inputSQL) {
                return this.TokenizeSQL$1(inputSQL, System.Int64.lift(null));
            },
            TokenizeSQL$1: function (inputSQL, requestedMarkerPosition) {
                var state = new PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.TokenizationState(inputSQL, requestedMarkerPosition);

                state.ReadNextCharacter();
                while (state.HasUnprocessedCurrentCharacter) {
                    if (state.CurrentTokenizationType == null) {
                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.ProcessOrOpenToken(state);
                        state.ReadNextCharacter();
                        continue;
                    }

                    switch (System.Nullable.getValue(state.CurrentTokenizationType)) {
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.WhiteSpace: 
                            if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsWhitespace(state.CurrentChar)) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePeriod: 
                            if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue;
                                state.CurrentTokenValue.append(String.fromCharCode(46));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                state.CurrentTokenValue.append(String.fromCharCode(46));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleZero: 
                            if (state.CurrentChar === 120 || state.CurrentChar === 88) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BinaryValue;
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number;
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 46) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue;
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                state.CurrentTokenValue.append(String.fromCharCode(48));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.Number: 
                            if (state.CurrentChar === 101 || state.CurrentChar === 69) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue;
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 46) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue;
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.DecimalValue: 
                            if (state.CurrentChar === 101 || state.CurrentChar === 69) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue;
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.FloatValue: 
                            if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if ((state.CurrentChar === 45 || state.CurrentChar === 43) && System.String.endsWith(state.CurrentTokenValue.toString().toUpperCase(), "E")) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BinaryValue: 
                            if ((state.CurrentChar >= 48 && state.CurrentChar <= 57) || (state.CurrentChar >= 65 && state.CurrentChar <= 70) || (state.CurrentChar >= 97 && state.CurrentChar <= 102)) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleDollar: 
                            state.CurrentTokenValue.append(String.fromCharCode(36));
                            if ((state.CurrentChar >= 65 && state.CurrentChar <= 90) || (state.CurrentChar >= 97 && state.CurrentChar <= 122)) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.PseudoName;
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue;
                            }
                            state.ConsumeCurrentCharacterIntoToken();
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.MonetaryValue: 
                            if (state.CurrentChar >= 48 && state.CurrentChar <= 57) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 45 && state.CurrentTokenValue.getLength() === 1) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else if (state.CurrentChar === 46 && !System.String.contains(state.CurrentTokenValue.toString(),".")) {
                                state.ConsumeCurrentCharacterIntoToken();
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleHyphen: 
                            if (state.CurrentChar === 45) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineComment;
                                state.HasUnprocessedCurrentCharacter = false;
                            } else if (state.CurrentChar === 61) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(45));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(45));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleSlash: 
                            if (state.CurrentChar === 42) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment;
                                state.HasUnprocessedCurrentCharacter = false;
                                state.CommentNesting = (state.CommentNesting + 1) | 0;
                            } else if (state.CurrentChar === 47) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineCommentCStyle;
                                state.HasUnprocessedCurrentCharacter = false;
                            } else if (state.CurrentChar === 61) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(47));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                state.CurrentTokenValue.append(String.fromCharCode(47));
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineComment: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLineCommentCStyle: 
                            if (state.CurrentChar === 13 || state.CurrentChar === 10) {
                                var nextCharInt = state.InputReader.Peek();
                                if (state.CurrentChar === 13 && nextCharInt === 10) {
                                    state.ConsumeCurrentCharacterIntoToken();
                                    state.ReadNextCharacter();
                                }
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment: 
                            if (state.CurrentChar === 42) {
                                if (state.InputReader.Peek() === 47) {
                                    state.CommentNesting = (state.CommentNesting - 1) | 0;
                                    if (state.CommentNesting > 0) {
                                        state.ConsumeCurrentCharacterIntoToken();
                                        state.ReadNextCharacter();
                                        state.ConsumeCurrentCharacterIntoToken();
                                    } else {
                                        state.HasUnprocessedCurrentCharacter = false;
                                        state.ReadNextCharacter();
                                        PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                    }
                                } else {
                                    state.ConsumeCurrentCharacterIntoToken();
                                }
                            } else {
                                if (state.CurrentChar === 47 && state.InputReader.Peek() === 42) {
                                    state.ConsumeCurrentCharacterIntoToken();
                                    state.ReadNextCharacter();
                                    state.ConsumeCurrentCharacterIntoToken();
                                    state.CommentNesting = (state.CommentNesting + 1) | 0;
                                } else {
                                    state.ConsumeCurrentCharacterIntoToken();
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.PseudoName: 
                            if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsNonWordCharacter(state.CurrentChar)) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleN: 
                            if (state.CurrentChar === 39) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString;
                                state.HasUnprocessedCurrentCharacter = false;
                            } else {
                                if (PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.IsNonWordCharacter(state.CurrentChar)) {
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                                } else {
                                    state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode;
                                    state.CurrentTokenValue.append(String.fromCharCode(78));
                                    state.ConsumeCurrentCharacterIntoToken();
                                }
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString: 
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String: 
                            if (state.CurrentChar === 39) {
                                if (state.InputReader.Peek() === 39) {
                                    state.ConsumeCurrentCharacterIntoToken();

                                    state.DiscardNextCharacter();
                                } else {
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                }
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString: 
                            if (state.CurrentChar === 34) {
                                if (state.InputReader.Peek() === 34) {
                                    state.ConsumeCurrentCharacterIntoToken();

                                    state.DiscardNextCharacter();
                                } else {
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                }
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName: 
                            if (state.CurrentChar === 93) {
                                if (state.InputReader.Peek() === 93) {
                                    state.ConsumeCurrentCharacterIntoToken();

                                    state.DiscardNextCharacter();
                                } else {
                                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                                }
                            } else {
                                state.ConsumeCurrentCharacterIntoToken();
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleLT: 
                            state.CurrentTokenValue.append(String.fromCharCode(60));
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            if (state.CurrentChar === 61 || state.CurrentChar === 62 || state.CurrentChar === 60) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleGT: 
                            state.CurrentTokenValue.append(String.fromCharCode(62));
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            if (state.CurrentChar === 61 || state.CurrentChar === 62) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleAsterisk: 
                            state.CurrentTokenValue.append(String.fromCharCode(42));
                            if (state.CurrentChar === 61) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleOtherCompoundableOperator: 
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            if (state.CurrentChar === 61) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SinglePipe: 
                            state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                            state.CurrentTokenValue.append(String.fromCharCode(124));
                            if (state.CurrentChar === 61 || state.CurrentChar === 124) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleEquals: 
                            state.CurrentTokenValue.append(String.fromCharCode(61));
                            if (state.CurrentChar === 61) {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        case PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.SingleExclamation: 
                            state.CurrentTokenValue.append(String.fromCharCode(33));
                            if (state.CurrentChar === 61 || state.CurrentChar === 60 || state.CurrentChar === 62) {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherOperator;
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.AppendCharAndCompleteToken(state);
                            } else {
                                state.CurrentTokenizationType = PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.OtherNode;
                                PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.CompleteTokenAndProcessNext(state);
                            }
                            break;
                        default: 
                            throw new System.Exception("In-progress node unrecognized!");
                    }

                    state.ReadNextCharacter();
                }


                if (state.CurrentTokenizationType != null) {
                    if (System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BlockComment || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.String || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.NString || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.QuotedString || System.Nullable.getValue(state.CurrentTokenizationType) === PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SqlTokenizationType.BracketQuotedName) {
                        state.TokenContainer.HasUnfinishedToken = true;
                    }

                    PoorMansTSqlFormatterLib.Tokenizers.TSqlStandardTokenizer.SwallowOutstandingCharacterAndCompleteToken(state);
                }

                return state.TokenContainer;
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.ParseTree", {
        inherits: [PoorMansTSqlFormatterLib.ParseStructure.NodeImpl,PoorMansTSqlFormatterLib.ParseStructure.Node],
        statics: {
            methods: {
                HasNonWhiteSpaceNonSingleCommentContent: function (containerNode) {
                    var $t;
                    $t = Bridge.getEnumerator(containerNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node);
                    try {
                        while ($t.moveNext()) {
                            var testElement = $t.Current;
                            if (!System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE) && !System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE) && !System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_SINGLELINE_CSTYLE) && (!System.String.equals(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_COMMENT_MULTILINE) || System.Text.RegularExpressions.Regex.isMatch(testElement.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+"))) {
                                return true;
                            }
                        }
                    } finally {
                        if (Bridge.is($t, System.IDisposable)) {
                            $t.System$IDisposable$Dispose();
                        }
                    }

                    return false;
                }
            }
        },
        fields: {
            _currentContainer: null,
            _newStatementDue: false
        },
        props: {
            CurrentContainer: {
                get: function () {
                    return this._currentContainer;
                },
                set: function (value) {
                    if (value == null) {
                        throw new System.ArgumentNullException.$ctor1("CurrentContainer");
                    }

                    if (!Bridge.equals(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.RootContainer(value), this)) {
                        throw new System.Exception("Current Container node can only be set to an element in the current document.");
                    }

                    this._currentContainer = value;
                }
            },
            NewStatementDue: {
                get: function () {
                    return this._newStatementDue;
                },
                set: function (value) {
                    this._newStatementDue = value;
                }
            },
            ErrorFound: {
                get: function () {
                    return this._newStatementDue;
                },
                set: function (value) {
                    if (value) {
                        this.SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND, "1");
                    } else {
                        this.RemoveAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_ERRORFOUND);
                    }
                }
            }
        },
        ctors: {
            ctor: function (rootName) {
                this.$initialize();
                PoorMansTSqlFormatterLib.ParseStructure.NodeImpl.ctor.call(this);
                this.Name = rootName;
                this.CurrentContainer = this;
            }
        },
        methods: {
            SetError: function () {
                this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$SetAttribute(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ANAME_HASERROR, "1");
                this.ErrorFound = true;
            },
            SaveNewElement: function (newElementName, newElementValue) {
                return this.SaveNewElement$1(newElementName, newElementValue, this.CurrentContainer);
            },
            SaveNewElement$1: function (newElementName, newElementValue, targetNode) {
                var newElement = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(newElementName, newElementValue);
                targetNode.PoorMansTSqlFormatterLib$ParseStructure$Node$AddChild(newElement);
                return newElement;
            },
            SaveNewElementWithError: function (newElementName, newElementValue) {
                var newElement = this.SaveNewElement(newElementName, newElementValue);
                this.SetError();
                return newElement;
            },
            SaveNewElementAsPriorSibling: function (newElementName, newElementValue, nodeToSaveBefore) {
                var newElement = PoorMansTSqlFormatterLib.ParseStructure.NodeFactory.CreateNode(newElementName, newElementValue);
                nodeToSaveBefore.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore(newElement, nodeToSaveBefore);
                return newElement;
            },
            StartNewContainer: function (newElementName, containerOpenValue, containerType) {
                this.CurrentContainer = this.SaveNewElement(newElementName, "");
                var containerOpen = this.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_OPEN, "");
                this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_OTHERKEYWORD, containerOpenValue, containerOpen);
                this.CurrentContainer = this.SaveNewElement(containerType, "");
            },
            StartNewStatement: function () {
                this.StartNewStatement$1(this.CurrentContainer);
            },
            StartNewStatement$1: function (targetNode) {
                this.NewStatementDue = false;
                var newStatement = this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT, "", targetNode);
                this.CurrentContainer = this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, "", newStatement);
            },
            EscapeAnyBetweenConditions: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_UPPERBOUND) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BETWEEN_CONDITION)) {
                    this.MoveToAncestorContainer(2);
                }
            },
            EscapeMergeAction: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_ACTION) && this.HasNonWhiteSpaceNonCommentContent(this.CurrentContainer)) {
                    this.MoveToAncestorContainer(4);
                }
            },
            EscapePartialStatementContainers: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) || this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK)) {
                    this.MoveToAncestorContainer(1);
                } else {
                    if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_OPTIONS)) {
                        this.MoveToAncestorContainer(3);
                    } else {
                        if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_RECIPIENT)) {
                            this.MoveToAncestorContainer(3);
                        } else {
                            if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_WITH_CLAUSE) && (this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_PERMISSIONS_BLOCK) || this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_PROCEDURAL_BLOCK) || this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_OTHER_BLOCK) || this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK))) {
                                this.MoveToAncestorContainer(3);
                            } else {
                                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_MERGE_WHEN)) {
                                    this.MoveToAncestorContainer(2);
                                } else {
                                    if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && (this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CTE_WITH_CLAUSE) || this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_DECLARE_BLOCK))) {
                                        this.MoveToAncestorContainer(2);
                                    }
                                }
                            }
                        }
                    }
                }
            },
            EscapeAnySingleOrPartialStatementContainers: function () {
                this.EscapeAnyBetweenConditions();
                this.EscapeAnySelectionTarget();
                this.EscapeJoinCondition();

                if (this.HasNonWhiteSpaceNonCommentContent(this.CurrentContainer)) {
                    this.EscapeCursorForBlock();
                    this.EscapeMergeAction();
                    this.EscapePartialStatementContainers();

                    while (true) {
                        if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT)) {
                            var currentSingleContainer = this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            if (this.PathNameMatches(currentSingleContainer, 1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_ELSE_CLAUSE)) {
                                this.CurrentContainer = currentSingleContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            } else {
                                this.CurrentContainer = currentSingleContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                            }
                        } else {
                            break;
                        }
                    }
                }
            },
            EscapeCursorForBlock: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && this.PathNameMatches$1(2, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(3, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CURSOR_FOR_BLOCK) && this.HasNonWhiteSpaceNonCommentContent(this.CurrentContainer)) {
                    this.MoveToAncestorContainer(5);
                }
            },
            EscapeAndLocateNextStatementContainer: function (escapeEmptyContainer) {
                this.EscapeAnySingleOrPartialStatementContainers();

                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_BOOLEAN_EXPRESSION) && (this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IF_STATEMENT) || this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHILE_LOOP))) {
                    return this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_SINGLESTATEMENT, "", this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent);
                } else if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT) && (escapeEmptyContainer || PoorMansTSqlFormatterLib.ParseTree.HasNonWhiteSpaceNonSingleCommentContent(this.CurrentContainer))) {
                    return this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                } else {
                    return null;
                }
            },
            MigrateApplicableCommentsFromContainer: function (previousContainerElement) {
                var migrationContext = previousContainerElement;
                var migrationCandidate = System.Linq.Enumerable.from(previousContainerElement.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).last();

                var insertBeforeNode = this.CurrentContainer;

                while (migrationCandidate != null) {
                    if (System.String.equals(migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE)) {
                        migrationCandidate = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate);
                        continue;
                    } else if (PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate) != null && System.Array.contains(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_COMMENT, migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, System.String) && System.Array.contains(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT, PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate).PoorMansTSqlFormatterLib$ParseStructure$Node$Name, System.String)) {
                        if (System.String.equals(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate).PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_WHITESPACE) && System.Text.RegularExpressions.Regex.isMatch(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate).PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue, "(\\r|\\n)+")) {
                            while (!Bridge.equals(System.Linq.Enumerable.from(migrationContext.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).last(), migrationCandidate)) {
                                var movingNode = System.Linq.Enumerable.from(migrationContext.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).last();
                                movingNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveChild(movingNode);
                                this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore(movingNode, insertBeforeNode);
                                insertBeforeNode = movingNode;
                            }
                            migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$RemoveChild(migrationCandidate);
                            this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$InsertChildBefore(migrationCandidate, insertBeforeNode);
                            insertBeforeNode = migrationCandidate;

                            migrationCandidate = System.Linq.Enumerable.from(migrationContext.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).last();
                        } else {
                            migrationCandidate = PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.PreviousSibling(migrationCandidate);
                        }
                    } else if (!System.String.isNullOrEmpty(migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$TextValue)) {
                        migrationCandidate = null;
                    } else {
                        migrationContext = migrationCandidate;
                        migrationCandidate = System.Linq.Enumerable.from(migrationCandidate.PoorMansTSqlFormatterLib$ParseStructure$Node$Children, PoorMansTSqlFormatterLib.ParseStructure.Node).lastOrDefault(null, null);
                    }
                }
            },
            ConsiderStartingNewStatement: function () {
                this.EscapeAnyBetweenConditions();
                this.EscapeAnySelectionTarget();
                this.EscapeJoinCondition();

                var previousContainerElement = this.CurrentContainer;

                var nextStatementContainer = this.EscapeAndLocateNextStatementContainer(false);

                if (nextStatementContainer != null) {
                    var inBetweenContainerElement = this.CurrentContainer;
                    this.StartNewStatement$1(nextStatementContainer);
                    if (!Bridge.equals(inBetweenContainerElement, previousContainerElement)) {
                        this.MigrateApplicableCommentsFromContainer(inBetweenContainerElement);
                    }
                    this.MigrateApplicableCommentsFromContainer(previousContainerElement);
                }
            },
            ConsiderStartingNewClause: function () {
                this.EscapeAnySelectionTarget();
                this.EscapeAnyBetweenConditions();
                this.EscapePartialStatementContainers();
                this.EscapeJoinCondition();

                if (System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE) && PoorMansTSqlFormatterLib.ParseTree.HasNonWhiteSpaceNonSingleCommentContent(this.CurrentContainer)) {
                    var previousContainerElement = this.CurrentContainer;
                    this.CurrentContainer = this.SaveNewElement$1(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, "", this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent);
                    this.MigrateApplicableCommentsFromContainer(previousContainerElement);
                } else if (System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_EXPRESSION_PARENS) || System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_IN_PARENS) || System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET_PARENS) || System.String.equals(this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_STATEMENT)) {
                    this.CurrentContainer = this.SaveNewElement(PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_CLAUSE, "");
                }
            },
            EscapeAnySelectionTarget: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SELECTIONTARGET)) {
                    this.CurrentContainer = this.CurrentContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                }
            },
            EscapeJoinCondition: function () {
                if (this.PathNameMatches$1(0, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && this.PathNameMatches$1(1, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_JOIN_ON_SECTION)) {
                    this.MoveToAncestorContainer(2);
                }
            },
            FindValidBatchEnd: function () {
                var nextStatementContainer = this.EscapeAndLocateNextStatementContainer(true);
                return nextStatementContainer != null && (System.String.equals(nextStatementContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_SQL_ROOT) || (System.String.equals(nextStatementContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_CONTAINER_GENERALCONTENT) && System.String.equals(nextStatementContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAME_DDL_AS_BLOCK)));
            },
            PathNameMatches$1: function (levelsUp, nameToMatch) {
                return this.PathNameMatches(this.CurrentContainer, levelsUp, nameToMatch);
            },
            PathNameMatches: function (targetNode, levelsUp, nameToMatch) {
                var currentNode = targetNode;
                while (levelsUp > 0) {
                    currentNode = currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                    levelsUp = (levelsUp - 1) | 0;
                }
                return currentNode != null && System.String.equals(currentNode.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, nameToMatch);
            },
            HasNonWhiteSpaceNonCommentContent: function (containerNode) {
                return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(containerNode, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).any();
            },
            GetFirstNonWhitespaceNonCommentChildElement: function (targetElement) {
                return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(targetElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).firstOrDefault(null, null);
            },
            GetLastNonWhitespaceNonCommentChildElement: function (targetElement) {
                return System.Linq.Enumerable.from(PoorMansTSqlFormatterLib.ParseStructure.NodeExtensions.ChildrenExcludingNames(targetElement, PoorMansTSqlFormatterLib.Interfaces.SqlStructureConstants.ENAMELIST_NONCONTENT), PoorMansTSqlFormatterLib.ParseStructure.Node).lastOrDefault(null, null);
            },
            MoveToAncestorContainer: function (levelsUp) {
                this.MoveToAncestorContainer$1(levelsUp, null);
            },
            MoveToAncestorContainer$1: function (levelsUp, targetContainerName) {
                var candidateContainer = this.CurrentContainer;
                while (levelsUp > 0) {
                    candidateContainer = candidateContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Parent;
                    levelsUp = (levelsUp - 1) | 0;
                }
                if (System.String.isNullOrEmpty(targetContainerName) || System.String.equals(candidateContainer.PoorMansTSqlFormatterLib$ParseStructure$Node$Name, targetContainerName)) {
                    this.CurrentContainer = candidateContainer;
                } else {
                    throw new System.Exception("Ancestor node does not match expected name!");
                }
            }
        }
    });

    Bridge.define("PoorMansTSqlFormatterLib.TokenList", {
        inherits: [System.Collections.Generic.List$1(PoorMansTSqlFormatterLib.Interfaces.IToken),PoorMansTSqlFormatterLib.Interfaces.ITokenList],
        fields: {
            HasUnfinishedToken: false,
            MarkerToken: null,
            MarkerPosition: null
        },
        alias: [
            "HasUnfinishedToken", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$HasUnfinishedToken",
            "prettyPrint", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$prettyPrint",
            "getRange", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRange",
            "getRangeByIndex", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$getRangeByIndex",
            "MarkerToken", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$MarkerToken",
            "MarkerPosition", "PoorMansTSqlFormatterLib$Interfaces$ITokenList$MarkerPosition"
        ],
        methods: {
            prettyPrint: function () {
                var $t;
                var outString = new System.Text.StringBuilder();
                $t = Bridge.getEnumerator(this);
                try {
                    while ($t.moveNext()) {
                        var contentToken = $t.Current;
                        var tokenType = System.Enum.toString(PoorMansTSqlFormatterLib.Interfaces.SqlTokenType, contentToken.PoorMansTSqlFormatterLib$Interfaces$IToken$Type);
                        outString.append(System.String.alignString(tokenType, -20));
                        outString.append(": ");
                        outString.append(contentToken.PoorMansTSqlFormatterLib$Interfaces$IToken$Value);
                        if (Bridge.equals(contentToken, this.MarkerToken)) {
                            outString.append(" (MARKER - pos ");
                            outString.append(System.Nullable.toString(this.MarkerPosition, null));
                            outString.append(")");
                        }
                        outString.appendLine();
                    }
                } finally {
                    if (Bridge.is($t, System.IDisposable)) {
                        $t.System$IDisposable$Dispose();
                    }
                }
                return outString.toString();
            },
            getRange: function (index, count) {
                return this.GetRange(index, count);
            },
            getRangeByIndex: function (fromIndex, toIndex) {
                return this.getRange(fromIndex, ((((toIndex - fromIndex) | 0) + 1) | 0));
            }
        }
    });
});

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJQb29yTWFuc1RTcWxGb3JtYXR0ZXJKUy5qcyIsCiAgInNvdXJjZVJvb3QiOiAiIiwKICAic291cmNlcyI6IFsiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Jhc2VGb3JtYXR0ZXJTdGF0ZS5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9Gb3JtYXR0ZXJzL1RTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMuY3MiLCIuLi9Qb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJTaGFyZWQvSW50ZXJmYWNlcy9TcWxTdHJ1Y3R1cmVDb25zdGFudHMuY3MiLCIuLi9Qb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJTaGFyZWQvT2JmdXNjYXRpbmdLZXl3b3JkTWFwcGluZy5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9QYXJzZVN0cnVjdHVyZS9Ob2RlRXh0ZW5zaW9ucy5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9QYXJzZVN0cnVjdHVyZS9Ob2RlRmFjdG9yeS5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9TdGFuZGFyZEtleXdvcmRSZW1hcHBpbmcuY3MiLCIuLi9Qb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJTaGFyZWQvVG9rZW5pemVycy9TaW1wbGlmaWVkU3RyaW5nUmVhZGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1Rva2VuaXplcnMvVFNxbFN0YW5kYXJkVG9rZW5pemVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1V0aWxzLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvSHRtbFBhZ2VXcmFwcGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvVFNxbElkZW50aXR5Rm9ybWF0dGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL0Zvcm1hdHRlcnMvVFNxbFN0YW5kYXJkRm9ybWF0dGVyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1BhcnNlcnMvVFNxbFN0YW5kYXJkUGFyc2VyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1BhcnNlU3RydWN0dXJlL05vZGVJbXBsLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1NxbEZvcm1hdHRpbmdNYW5hZ2VyLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1Rva2VuLmNzIiwiLi4vUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliU2hhcmVkL1BhcnNlVHJlZS5jcyIsIi4uL1Bvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlNoYXJlZC9Ub2tlbkxpc3QuY3MiXSwKICAibmFtZXMiOiBbIiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21DQWtDOENBLElBQUlBOzs0QkFOaEJBOztnQkFFdEJBLGtCQUFhQTs7Ozt3Q0FNb0JBO2dCQUVqQ0Esd0JBQWlCQSxTQUFTQTs7MENBR09BLFNBQWdCQTtnQkFFakRBLElBQUlBO29CQUVBQSxJQUFJQSxDQUFDQSw0QkFBcUJBO3dCQUN0QkEsd0JBQW1CQSxvQkFBb0JBOztvQkFDM0NBLHdCQUFtQkEsMENBQWlCQTtvQkFDcENBLElBQUlBLENBQUNBLDRCQUFxQkE7d0JBQ3RCQTs7O29CQUdKQSx3QkFBbUJBOzs7aUNBR0dBO2dCQUUxQkEsSUFBSUEsaUJBQWlCQTtvQkFDakJBLE1BQU1BLElBQUlBOzs7Z0JBRWRBLElBQUlBO29CQUNBQSx3QkFBbUJBLG9CQUFvQkE7Ozs7Z0JBSzNDQSxJQUFJQTtvQkFDQUE7OzsyQ0FHZ0NBO2dCQUVwQ0Esd0JBQW1CQTs7O2dC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QTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ0xBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7d0JBRURBLHdCQUFtQkEsc0VBQXlCQTt3QkFDNUNBO29CQUVKQSxLQUFLQTtvQkFDakJBLEtBQUtBO29CQUNMQSxLQUFLQTtvQkFDTEEsS0FBS0E7b0JBQ09BLEtBQUtBO29CQUNMQSxLQUFLQTt3QkFDREE7d0JBQ0FBO3dCQUNBQSx3QkFBbUJBLHNFQUF5QkE7d0JBQzVDQTt3QkFDQUE7d0JBQ0FBO3dCQUNBQTtvQkFFSkEsS0FBS0E7d0JBRURBO29CQUVKQSxLQUFLQTt3QkFDREEsSUFBSUE7NEJBRUFBOzRCQUNBQSx1QkFBdUJBLFFBQU9BOzt3QkFFbENBO29CQUNKQSxLQUFLQTt3QkFDREEsSUFBSUE7NEJBRUFBOzRCQUNBQSx1QkFBdUJBLFFBQU9BOzRCQUM5QkE7O3dCQUVKQTtvQkFFSkEsS0FBS0E7d0JBQ0RBLElBQUlBOzRCQUVBQTs0QkFDQUEsdUJBQXVCQSxRQUFPQTs0QkFDOUJBOzt3QkFFSkE7b0JBRUpBLEtBQUtBO3dCQUVE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Ozs7Z0JBRUpBLE9BQU9BOztnQ0FHdUJBLE9BQVdBO2dCQUV6Q0EsT0FBT0EsY0FBY0EsT0FBT0E7O3VDQUdLQSxXQUFlQTtnQkFFaERBLE9BQU9BLGNBQWNBLFdBQVdBLGNBQVVBIiwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlxyXG57XHJcbiAgICBpbnRlcm5hbCBjbGFzcyBCYXNlRm9ybWF0dGVyU3RhdGVcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgQmFzZUZvcm1hdHRlclN0YXRlKGJvb2wgaHRtbE91dHB1dClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEh0bWxPdXRwdXQgPSBodG1sT3V0cHV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGJvb2wgSHRtbE91dHB1dCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIFN0cmluZ0J1aWxkZXIgX291dEJ1aWxkZXIgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xyXG5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCB2b2lkIEFkZE91dHB1dENvbnRlbnQoc3RyaW5nIGNvbnRlbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBBZGRPdXRwdXRDb250ZW50KGNvbnRlbnQsIG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgdm9pZCBBZGRPdXRwdXRDb250ZW50KHN0cmluZyBjb250ZW50LCBzdHJpbmcgaHRtbENsYXNzTmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChIdG1sT3V0cHV0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0cmluZy5Jc051bGxPckVtcHR5KGh0bWxDbGFzc05hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChAXCI8c3BhbiBjbGFzcz1cIlwiXCIgKyBodG1sQ2xhc3NOYW1lICsgQFwiXCJcIj5cIik7XHJcbiAgICAgICAgICAgICAgICBfb3V0QnVpbGRlci5BcHBlbmQoVXRpbHMuSHRtbEVuY29kZShjb250ZW50KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0cmluZy5Jc051bGxPckVtcHR5KGh0bWxDbGFzc05hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChcIjwvc3Bhbj5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgX291dEJ1aWxkZXIuQXBwZW5kKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHZpcnR1YWwgdm9pZCBPcGVuQ2xhc3Moc3RyaW5nIGh0bWxDbGFzc05hbWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoaHRtbENsYXNzTmFtZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50TnVsbEV4Y2VwdGlvbihcImh0bWxDbGFzc05hbWVcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoSHRtbE91dHB1dClcclxuICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChAXCI8c3BhbiBjbGFzcz1cIlwiXCIgKyBodG1sQ2xhc3NOYW1lICsgQFwiXCJcIj5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdmlydHVhbCB2b2lkIENsb3NlQ2xhc3MoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKEh0bWxPdXRwdXQpXHJcbiAgICAgICAgICAgICAgICBfb3V0QnVpbGRlci5BcHBlbmQoQFwiPC9zcGFuPlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHZvaWQgQWRkT3V0cHV0Q29udGVudFJhdyhzdHJpbmcgY29udGVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChjb250ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2aXJ0dWFsIHZvaWQgQWRkT3V0cHV0TGluZUJyZWFrKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChFbnZpcm9ubWVudC5OZXdMaW5lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRHVtcE91dHB1dCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gX291dEJ1aWxkZXIuVG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxMyBUYW8gS2xlcmtzXHJcblxyXG5BZGRpdGlvbmFsIENvbnRyaWJ1dG9yczpcclxuICogVGltb3RoeSBLbGVua2UsIDIwMTJcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgU3lzdGVtLkxpbnE7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkZvcm1hdHRlcnNcclxue1xyXG4gICAgcHVibGljIGNsYXNzIFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGVyT3B0aW9ucygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBJbmRlbnRTdHJpbmcgPSBcIlxcdFwiO1xyXG4gICAgICAgICAgICBTcGFjZXNQZXJUYWIgPSA0O1xyXG4gICAgICAgICAgICBNYXhMaW5lV2lkdGggPSA5OTk7XHJcbiAgICAgICAgICAgIEV4cGFuZENvbW1hTGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBUcmFpbGluZ0NvbW1hcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBTcGFjZUFmdGVyRXhwYW5kZWRDb21tYSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICBFeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgIEV4cGFuZENhc2VTdGF0ZW1lbnRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgVXBwZXJjYXNlS2V5d29yZHMgPSB0cnVlO1xyXG4gICAgICAgICAgICBCcmVha0pvaW5PblNlY3Rpb25zID0gZmFsc2U7XHJcbiAgICAgICAgICAgIEhUTUxDb2xvcmluZyA9IGZhbHNlO1xyXG5cdFx0XHRLZXl3b3JkU3RhbmRhcmRpemF0aW9uID0gZmFsc2U7XHJcblx0XHRcdEV4cGFuZEluTGlzdHMgPSB0cnVlO1xyXG5cdFx0XHROZXdDbGF1c2VMaW5lQnJlYWtzID0gMTtcclxuXHRcdFx0TmV3U3RhdGVtZW50TGluZUJyZWFrcyA9IDI7XHJcblx0XHR9XHJcblxyXG4gICAgICAgIC8vRG9lc24ndCBwYXJ0aWN1bGFybHkgbmVlZCB0byBiZSBsYXp5LWxvYWRlZCwgYW5kIGRvZXNuJ3QgbmVlZCB0byBiZSB0aHJlYWRzYWZlLlxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMgX2RlZmF1bHRPcHRpb25zID0gbmV3IFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgcHVibGljIFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMoc3RyaW5nIHNlcmlhbGl6ZWRTdHJpbmcpIDogdGhpcygpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdHJpbmcuSXNOdWxsT3JFbXB0eShzZXJpYWxpemVkU3RyaW5nKSkgXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vUExFQVNFIE5PVEU6IFRoaXMgaXMgbm90IHJldXNhYmxlL2dlbmVyYWwtcHVycG9zZSBrZXktdmFsdWUgc2VyaWFsaXphdGlvbjogaXQgZG9lcyBub3QgaGFuZGxlIGNvbW1hcyBpbiBkYXRhLlxyXG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBlbmhhbmNlZCBpZiB3ZSBldmVyIG5lZWQgdG8gc3RvcmUgZm9ybWF0dGVyIG9wdGlvbnMgdGhhdCBtaWdodCBjb250YWluIGVxdWFscyBzaWducyBvciBcclxuXHRcdFx0Ly8gY29tbWFzLlxyXG4gICAgICAgICAgICBmb3JlYWNoIChzdHJpbmcga3ZwIGluIHNlcmlhbGl6ZWRTdHJpbmcuU3BsaXQoJywnKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nW10gc3BsaXRQYWlyID0ga3ZwLlNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcga2V5ID0gc3BsaXRQYWlyWzBdO1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nIHZhbHVlID0gc3BsaXRQYWlyWzFdO1xyXG5cclxuXHRcdFx0XHRpZiAoa2V5ID09IFwiSW5kZW50U3RyaW5nXCIpIEluZGVudFN0cmluZyA9IHZhbHVlO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIlNwYWNlc1BlclRhYlwiKSBTcGFjZXNQZXJUYWIgPSBDb252ZXJ0LlRvSW50MzIodmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIk1heExpbmVXaWR0aFwiKSBNYXhMaW5lV2lkdGggPSBDb252ZXJ0LlRvSW50MzIodmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkV4cGFuZENvbW1hTGlzdHNcIikgRXhwYW5kQ29tbWFMaXN0cyA9IENvbnZlcnQuVG9Cb29sZWFuKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJUcmFpbGluZ0NvbW1hc1wiKSBUcmFpbGluZ0NvbW1hcyA9IENvbnZlcnQuVG9Cb29sZWFuKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJTcGFjZUFmdGVyRXhwYW5kZWRDb21tYVwiKSBTcGFjZUFmdGVyRXhwYW5kZWRDb21tYSA9IENvbnZlcnQuVG9Cb29sZWFuKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnNcIikgRXhwYW5kQm9vbGVhbkV4cHJlc3Npb25zID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkV4cGFuZEJldHdlZW5Db25kaXRpb25zXCIpIEV4cGFuZEJldHdlZW5Db25kaXRpb25zID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkV4cGFuZENhc2VTdGF0ZW1lbnRzXCIpIEV4cGFuZENhc2VTdGF0ZW1lbnRzID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIlVwcGVyY2FzZUtleXdvcmRzXCIpIFVwcGVyY2FzZUtleXdvcmRzID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIkJyZWFrSm9pbk9uU2VjdGlvbnNcIikgQnJlYWtKb2luT25TZWN0aW9ucyA9IENvbnZlcnQuVG9Cb29sZWFuKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJIVE1MQ29sb3JpbmdcIikgSFRNTENvbG9yaW5nID0gQ29udmVydC5Ub0Jvb2xlYW4odmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgaWYgKGtleSA9PSBcIktleXdvcmRTdGFuZGFyZGl6YXRpb25cIikgS2V5d29yZFN0YW5kYXJkaXphdGlvbiA9IENvbnZlcnQuVG9Cb29sZWFuKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJFeHBhbmRJbkxpc3RzXCIpIEV4cGFuZEluTGlzdHMgPSBDb252ZXJ0LlRvQm9vbGVhbih2YWx1ZSk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoa2V5ID09IFwiTmV3Q2xhdXNlTGluZUJyZWFrc1wiKSBOZXdDbGF1c2VMaW5lQnJlYWtzID0gQ29udmVydC5Ub0ludDMyKHZhbHVlKTtcclxuXHRcdFx0XHRlbHNlIGlmIChrZXkgPT0gXCJOZXdTdGF0ZW1lbnRMaW5lQnJlYWtzXCIpIE5ld1N0YXRlbWVudExpbmVCcmVha3MgPSBDb252ZXJ0LlRvSW50MzIodmFsdWUpO1xyXG5cdFx0XHRcdGVsc2UgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5rbm93biBvcHRpb246IFwiICsga2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cdFx0Ly9QTEVBU0UgTk9URTogVGhpcyBpcyBub3QgcmV1c2FibGUvZ2VuZXJhbC1wdXJwb3NlIGtleS12YWx1ZSBzZXJpYWxpemF0aW9uOiBpdCBkb2VzIG5vdCBoYW5kbGUgY29tbWFzIGluIGRhdGEuXHJcblx0XHQvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBlbmhhbmNlZCBpZiB3ZSBldmVyIG5lZWQgdG8gc3RvcmUgZm9ybWF0dGVyIG9wdGlvbnMgdGhhdCBtaWdodCBjb250YWluIGVxdWFscyBzaWducyBvciBcclxuXHRcdC8vIGNvbW1hcy5cclxuXHRcdHB1YmxpYyBzdHJpbmcgVG9TZXJpYWxpemVkU3RyaW5nKClcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICB2YXIgb3ZlcnJpZGVzID0gbmV3IERpY3Rpb25hcnk8c3RyaW5nLCBzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoSW5kZW50U3RyaW5nICE9IF9kZWZhdWx0T3B0aW9ucy5JbmRlbnRTdHJpbmcpIG92ZXJyaWRlcy5BZGQoXCJJbmRlbnRTdHJpbmdcIiwgSW5kZW50U3RyaW5nKTtcclxuICAgICAgICAgICAgaWYgKFNwYWNlc1BlclRhYiAhPSBfZGVmYXVsdE9wdGlvbnMuU3BhY2VzUGVyVGFiKSBvdmVycmlkZXMuQWRkKFwiU3BhY2VzUGVyVGFiXCIsIFNwYWNlc1BlclRhYi5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKE1heExpbmVXaWR0aCAhPSBfZGVmYXVsdE9wdGlvbnMuTWF4TGluZVdpZHRoKSBvdmVycmlkZXMuQWRkKFwiTWF4TGluZVdpZHRoXCIsIE1heExpbmVXaWR0aC5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKEV4cGFuZENvbW1hTGlzdHMgIT0gX2RlZmF1bHRPcHRpb25zLkV4cGFuZENvbW1hTGlzdHMpIG92ZXJyaWRlcy5BZGQoXCJFeHBhbmRDb21tYUxpc3RzXCIsIEV4cGFuZENvbW1hTGlzdHMuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChUcmFpbGluZ0NvbW1hcyAhPSBfZGVmYXVsdE9wdGlvbnMuVHJhaWxpbmdDb21tYXMpIG92ZXJyaWRlcy5BZGQoXCJUcmFpbGluZ0NvbW1hc1wiLCBUcmFpbGluZ0NvbW1hcy5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKFNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hICE9IF9kZWZhdWx0T3B0aW9ucy5TcGFjZUFmdGVyRXhwYW5kZWRDb21tYSkgb3ZlcnJpZGVzLkFkZChcIlNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hXCIsIFNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoRXhwYW5kQm9vbGVhbkV4cHJlc3Npb25zICE9IF9kZWZhdWx0T3B0aW9ucy5FeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMpIG92ZXJyaWRlcy5BZGQoXCJFeHBhbmRCb29sZWFuRXhwcmVzc2lvbnNcIiwgRXhwYW5kQm9vbGVhbkV4cHJlc3Npb25zLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMgIT0gX2RlZmF1bHRPcHRpb25zLkV4cGFuZEJldHdlZW5Db25kaXRpb25zKSBvdmVycmlkZXMuQWRkKFwiRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnNcIiwgRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChFeHBhbmRDYXNlU3RhdGVtZW50cyAhPSBfZGVmYXVsdE9wdGlvbnMuRXhwYW5kQ2FzZVN0YXRlbWVudHMpIG92ZXJyaWRlcy5BZGQoXCJFeHBhbmRDYXNlU3RhdGVtZW50c1wiLCBFeHBhbmRDYXNlU3RhdGVtZW50cy5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKFVwcGVyY2FzZUtleXdvcmRzICE9IF9kZWZhdWx0T3B0aW9ucy5VcHBlcmNhc2VLZXl3b3Jkcykgb3ZlcnJpZGVzLkFkZChcIlVwcGVyY2FzZUtleXdvcmRzXCIsIFVwcGVyY2FzZUtleXdvcmRzLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoQnJlYWtKb2luT25TZWN0aW9ucyAhPSBfZGVmYXVsdE9wdGlvbnMuQnJlYWtKb2luT25TZWN0aW9ucykgb3ZlcnJpZGVzLkFkZChcIkJyZWFrSm9pbk9uU2VjdGlvbnNcIiwgQnJlYWtKb2luT25TZWN0aW9ucy5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKEhUTUxDb2xvcmluZyAhPSBfZGVmYXVsdE9wdGlvbnMuSFRNTENvbG9yaW5nKSBvdmVycmlkZXMuQWRkKFwiSFRNTENvbG9yaW5nXCIsIEhUTUxDb2xvcmluZy5Ub1N0cmluZygpKTtcclxuXHRcdFx0aWYgKEtleXdvcmRTdGFuZGFyZGl6YXRpb24gIT0gX2RlZmF1bHRPcHRpb25zLktleXdvcmRTdGFuZGFyZGl6YXRpb24pIG92ZXJyaWRlcy5BZGQoXCJLZXl3b3JkU3RhbmRhcmRpemF0aW9uXCIsIEtleXdvcmRTdGFuZGFyZGl6YXRpb24uVG9TdHJpbmcoKSk7XHJcblx0XHRcdGlmIChFeHBhbmRJbkxpc3RzICE9IF9kZWZhdWx0T3B0aW9ucy5FeHBhbmRJbkxpc3RzKSBvdmVycmlkZXMuQWRkKFwiRXhwYW5kSW5MaXN0c1wiLCBFeHBhbmRJbkxpc3RzLlRvU3RyaW5nKCkpO1xyXG5cdFx0XHRpZiAoTmV3Q2xhdXNlTGluZUJyZWFrcyAhPSBfZGVmYXVsdE9wdGlvbnMuTmV3Q2xhdXNlTGluZUJyZWFrcykgb3ZlcnJpZGVzLkFkZChcIk5ld0NsYXVzZUxpbmVCcmVha3NcIiwgTmV3Q2xhdXNlTGluZUJyZWFrcy5Ub1N0cmluZygpKTtcclxuXHRcdFx0aWYgKE5ld1N0YXRlbWVudExpbmVCcmVha3MgIT0gX2RlZmF1bHRPcHRpb25zLk5ld1N0YXRlbWVudExpbmVCcmVha3MpIG92ZXJyaWRlcy5BZGQoXCJOZXdTdGF0ZW1lbnRMaW5lQnJlYWtzXCIsIE5ld1N0YXRlbWVudExpbmVCcmVha3MuVG9TdHJpbmcoKSk7XHJcblx0XHRcdE5ld1N0YXRlbWVudExpbmVCcmVha3MgPSAyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChvdmVycmlkZXMuQ291bnQgPT0gMCkgcmV0dXJuIHN0cmluZy5FbXB0eTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5Kb2luKFwiLFwiLCBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlNlbGVjdDxLZXlWYWx1ZVBhaXI8c3RyaW5nLHN0cmluZz4sc3RyaW5nPihvdmVycmlkZXMsKEZ1bmM8S2V5VmFsdWVQYWlyPHN0cmluZyxzdHJpbmc+LHN0cmluZz4pKChrdnApID0+IGt2cC5LZXkgKyBcIj1cIiArIGt2cC5WYWx1ZSkpLlRvQXJyYXkoKSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0cmluZyBfaW5kZW50U3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgSW5kZW50U3RyaW5nXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9pbmRlbnRTdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIF9pbmRlbnRTdHJpbmcgPSB2YWx1ZS5SZXBsYWNlKFwiXFxcXHRcIiwgXCJcXHRcIikuUmVwbGFjZShcIlxcXFxzXCIsIFwiIFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGludCBTcGFjZXNQZXJUYWIgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBpbnQgTWF4TGluZVdpZHRoIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBFeHBhbmRDb21tYUxpc3RzIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBUcmFpbGluZ0NvbW1hcyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgU3BhY2VBZnRlckV4cGFuZGVkQ29tbWEgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgRXhwYW5kQ2FzZVN0YXRlbWVudHMgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZEJldHdlZW5Db25kaXRpb25zIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgYm9vbCBVcHBlcmNhc2VLZXl3b3JkcyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgQnJlYWtKb2luT25TZWN0aW9ucyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgSFRNTENvbG9yaW5nIHsgZ2V0OyBzZXQ7IH1cclxuXHRcdHB1YmxpYyBib29sIEtleXdvcmRTdGFuZGFyZGl6YXRpb24geyBnZXQ7IHNldDsgfVxyXG5cdFx0cHVibGljIGJvb2wgRXhwYW5kSW5MaXN0cyB7IGdldDsgc2V0OyB9XHJcblx0XHRwdWJsaWMgaW50IE5ld0NsYXVzZUxpbmVCcmVha3MgeyBnZXQ7IHNldDsgfVxyXG5cdFx0cHVibGljIGludCBOZXdTdGF0ZW1lbnRMaW5lQnJlYWtzIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5JbnRlcmZhY2VzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgU3FsU3RydWN0dXJlQ29uc3RhbnRzXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU1FMX1JPT1QgPSBcIlNxbFJvb3RcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NRTF9TVEFURU1FTlQgPSBcIlNxbFN0YXRlbWVudFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU1FMX0NMQVVTRSA9IFwiQ2xhdXNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFID0gXCJTZXRPcGVyYXRvckNsYXVzZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfSU5TRVJUX0NMQVVTRSA9IFwiSW5zZXJ0Q2xhdXNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9CRUdJTl9FTkRfQkxPQ0sgPSBcIkJlZ2luRW5kQmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1RSWV9CTE9DSyA9IFwiVHJ5QmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NBVENIX0JMT0NLID0gXCJDYXRjaEJsb2NrXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9CQVRDSF9TRVBBUkFUT1IgPSBcIkJhdGNoU2VwYXJhdG9yXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DQVNFX1NUQVRFTUVOVCA9IFwiQ2FzZVN0YXRlbWVudFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ0FTRV9JTlBVVCA9IFwiSW5wdXRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NBU0VfV0hFTiA9IFwiV2hlblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ0FTRV9USEVOID0gXCJUaGVuXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DQVNFX0VMU0UgPSBcIkNhc2VFbHNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9JRl9TVEFURU1FTlQgPSBcIklmU3RhdGVtZW50XCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9FTFNFX0NMQVVTRSA9IFwiRWxzZUNsYXVzZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQk9PTEVBTl9FWFBSRVNTSU9OID0gXCJCb29sZWFuRXhwcmVzc2lvblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfV0hJTEVfTE9PUCA9IFwiV2hpbGVMb29wXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DVVJTT1JfREVDTEFSQVRJT04gPSBcIkN1cnNvckRlY2xhcmF0aW9uXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DVVJTT1JfRk9SX0JMT0NLID0gXCJDdXJzb3JGb3JCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ1VSU09SX0ZPUl9PUFRJT05TID0gXCJDdXJzb3JGb3JPcHRpb25zXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DVEVfV0lUSF9DTEFVU0UgPSBcIkNURVdpdGhDbGF1c2VcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NURV9BTElBUyA9IFwiQ1RFQWxpYXNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NURV9BU19CTE9DSyA9IFwiQ1RFQXNCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQkVHSU5fVFJBTlNBQ1RJT04gPSBcIkJlZ2luVHJhbnNhY3Rpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTiA9IFwiQ29tbWl0VHJhbnNhY3Rpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1JPTExCQUNLX1RSQU5TQUNUSU9OID0gXCJSb2xsYmFja1RyYW5zYWN0aW9uXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9TQVZFX1RSQU5TQUNUSU9OID0gXCJTYXZlVHJhbnNhY3Rpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9ERUNMQVJFX0JMT0NLID0gXCJERExEZWNsYXJlQmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLID0gXCJERExQcm9jZWR1cmFsQmxvY2tcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9PVEhFUl9CTE9DSyA9IFwiRERMT3RoZXJCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRERMX0FTX0JMT0NLID0gXCJERExBc0Jsb2NrXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9ERExfUEFSRU5TID0gXCJERExQYXJlbnNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETF9TVUJDTEFVU0UgPSBcIkRETFN1YkNsYXVzZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRERMX1JFVFVSTlMgPSBcIkRETFJldHVybnNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RETERFVEFJTF9QQVJFTlMgPSBcIkRETERldGFpbFBhcmVuc1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRERMX1dJVEhfQ0xBVVNFID0gXCJERExXaXRoXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9QRVJNSVNTSU9OU19CTE9DSyA9IFwiUGVybWlzc2lvbnNCbG9ja1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMID0gXCJQZXJtaXNzaW9uc0RldGFpbFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUEVSTUlTU0lPTlNfVEFSR0VUID0gXCJQZXJtaXNzaW9uc1RhcmdldFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5UID0gXCJQZXJtaXNzaW9uc1JlY2lwaWVudFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfVFJJR0dFUl9DT05ESVRJT04gPSBcIlRyaWdnZXJDb25kaXRpb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMgPSBcIlNlbGVjdGlvblRhcmdldFBhcmVuc1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMgPSBcIkV4cHJlc3Npb25QYXJlbnNcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0ZVTkNUSU9OX1BBUkVOUyA9IFwiRnVuY3Rpb25QYXJlbnNcIjtcclxuXHRcdHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfSU5fUEFSRU5TID0gXCJJblBhcmVuc1wiO1xyXG5cdFx0cHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9GVU5DVElPTl9LRVlXT1JEID0gXCJGdW5jdGlvbktleXdvcmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0RBVEFUWVBFX0tFWVdPUkQgPSBcIkRhdGFUeXBlS2V5d29yZFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09NUE9VTkRLRVlXT1JEID0gXCJDb21wb3VuZEtleXdvcmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX09USEVSS0VZV09SRCA9IFwiT3RoZXJLZXl3b3JkXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9MQUJFTCA9IFwiTGFiZWxcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0NPTlRBSU5FUl9PUEVOID0gXCJDb250YWluZXJPcGVuXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQgPSBcIkNvbnRhaW5lck11bHRpU3RhdGVtZW50Qm9keVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVCA9IFwiQ29udGFpbmVyU2luZ2xlU3RhdGVtZW50Qm9keVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UID0gXCJDb250YWluZXJDb250ZW50Qm9keVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09OVEFJTkVSX0NMT1NFID0gXCJDb250YWluZXJDbG9zZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU0VMRUNUSU9OVEFSR0VUID0gXCJTZWxlY3Rpb25UYXJnZXRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX0NMQVVTRSA9IFwiTWVyZ2VDbGF1c2VcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX1RBUkdFVCA9IFwiTWVyZ2VUYXJnZXRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX1VTSU5HID0gXCJNZXJnZVVzaW5nXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9NRVJHRV9DT05ESVRJT04gPSBcIk1lcmdlQ29uZGl0aW9uXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9NRVJHRV9XSEVOID0gXCJNZXJnZVdoZW5cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX01FUkdFX1RIRU4gPSBcIk1lcmdlVGhlblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfTUVSR0VfQUNUSU9OID0gXCJNZXJnZUFjdGlvblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfSk9JTl9PTl9TRUNUSU9OID0gXCJKb2luT25cIjtcclxuXHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9QU0VVRE9OQU1FID0gXCJQc2V1ZG9OYW1lXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9XSElURVNQQUNFID0gXCJXaGl0ZVNwYWNlXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9PVEhFUk5PREUgPSBcIk90aGVyXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DT01NRU5UX1NJTkdMRUxJTkUgPSBcIlNpbmdsZUxpbmVDb21tZW50XCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFID0gXCJTaW5nbGVMaW5lQ29tbWVudENTdHlsZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUgPSBcIk11bHRpTGluZUNvbW1lbnRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NUUklORyA9IFwiU3RyaW5nXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9OU1RSSU5HID0gXCJOYXRpb25hbFN0cmluZ1wiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfUVVPVEVEX1NUUklORyA9IFwiUXVvdGVkU3RyaW5nXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9CUkFDS0VUX1FVT1RFRF9OQU1FID0gXCJCcmFja2V0UXVvdGVkTmFtZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQ09NTUEgPSBcIkNvbW1hXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9QRVJJT0QgPSBcIlBlcmlvZFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfU0VNSUNPTE9OID0gXCJTZW1pY29sb25cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX1NDT1BFUkVTT0xVVElPTk9QRVJBVE9SID0gXCJTY29wZVJlc29sdXRpb25PcGVyYXRvclwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQVNURVJJU0sgPSBcIkFzdGVyaXNrXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9FUVVBTFNTSUdOID0gXCJFcXVhbHNTaWduXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9BTFBIQU9QRVJBVE9SID0gXCJBbHBoYU9wZXJhdG9yXCI7XHJcbiAgICAgICAgcHVibGljIGNvbnN0IHN0cmluZyBFTkFNRV9PVEhFUk9QRVJBVE9SID0gXCJPdGhlck9wZXJhdG9yXCI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQU5EX09QRVJBVE9SID0gXCJBbmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX09SX09QRVJBVE9SID0gXCJPclwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQkVUV0VFTl9DT05ESVRJT04gPSBcIkJldHdlZW5cIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0JFVFdFRU5fTE9XRVJCT1VORCA9IFwiTG93ZXJCb3VuZFwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfQkVUV0VFTl9VUFBFUkJPVU5EID0gXCJVcHBlckJvdW5kXCI7XHJcblxyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfTlVNQkVSX1ZBTFVFID0gXCJOdW1iZXJWYWx1ZVwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgRU5BTUVfTU9ORVRBUllfVkFMVUUgPSBcIk1vbmV0YXJ5VmFsdWVcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEVOQU1FX0JJTkFSWV9WQUxVRSA9IFwiQmluYXJ5VmFsdWVcIjtcclxuXHJcbiAgICAgICAgLy9hdHRyaWJ1dGUgbmFtZXNcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEFOQU1FX0VSUk9SRk9VTkQgPSBcImVycm9yRm91bmRcIjtcclxuICAgICAgICBwdWJsaWMgY29uc3Qgc3RyaW5nIEFOQU1FX0hBU0VSUk9SID0gXCJoYXNFcnJvclwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgQU5BTUVfREFUQUxPU1MgPSBcImRhdGFMb3NzTGltaXRhdGlvblwiO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdCBzdHJpbmcgQU5BTUVfU0lNUExFVEVYVCA9IFwic2ltcGxlVGV4dFwiO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEVOQU1FTElTVF9DT01NRU5UID0gbmV3IHN0cmluZ1tdIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVOQU1FX0NPTU1FTlRfU0lOR0xFTElORSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FX0NTVFlMRVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEVOQU1FTElTVF9OT05DT05URU5UID0gbmV3IHN0cmluZ1tdIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfV0hJVEVTUEFDRSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVOQU1FX0NPTU1FTlRfU0lOR0xFTElORSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FX0NTVFlMRVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZ1tdIEVOQU1FTElTVF9OT05TRU1BTlRJQ0NPTlRFTlQgPSBuZXcgc3RyaW5nW10ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFTkFNRV9TUUxfQ0xBVVNFLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRU5BTUVfRERMX09USEVSX0JMT0NLLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFTkFNRV9ERExfREVDTEFSRV9CTE9DS1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlxyXG57XHJcbiAgICBzdGF0aWMgY2xhc3MgT2JmdXNjYXRpbmdLZXl3b3JkTWFwcGluZ1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4gSW5zdGFuY2UgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgc3RhdGljIE9iZnVzY2F0aW5nS2V5d29yZE1hcHBpbmcoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgSW5zdGFuY2UgPSBuZXcgRGljdGlvbmFyeTxzdHJpbmcsIHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlBST0NFRFVSRVwiLCBcIlBST0NcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkxFRlQgT1VURVIgSk9JTlwiLCBcIkxFRlQgSk9JTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiUklHSFQgT1VURVIgSk9JTlwiLCBcIlJJR0hUIEpPSU5cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkZVTEwgT1VURVIgSk9JTlwiLCBcIkZVTEwgSk9JTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiSU5ORVIgSk9JTlwiLCBcIkpPSU5cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlRSQU5TQUNUSU9OXCIsIFwiVFJBTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQkVHSU4gVFJBTlNBQ1RJT05cIiwgXCJCRUdJTiBUUkFOXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJDT01NSVQgVFJBTlNBQ1RJT05cIiwgXCJDT01NSVQgVFJBTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiUk9MTEJBQ0sgVFJBTlNBQ1RJT05cIiwgXCJST0xMQkFDSyBUUkFOXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJWQVJCSU5BUllcIiwgXCJCSU5BUlkgVkFSWUlOR1wiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiVkFSQ0hBUlwiLCBcIkNIQVJBQ1RFUiBWQVJZSU5HXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJDSEFSQUNURVJcIiwgXCJDSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJDSEFSIFZBUllJTkdcIiwgXCJWQVJDSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJERUNJTUFMXCIsIFwiREVDXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJGTE9BVFwiLCBcIkRPVUJMRSBQUkVDSVNJT05cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIklOVEVHRVJcIiwgXCJJTlRcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5DSEFSXCIsIFwiTkFUSU9OQUwgQ0hBUkFDVEVSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJOQVRJT05BTCBDSEFSXCIsIFwiTkNIQVJcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5WQVJDSEFSXCIsIFwiTkFUSU9OQUwgQ0hBUkFDVEVSIFZBUllJTkdcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIk5BVElPTkFMIENIQVIgVkFSWUlOR1wiLCBcIk5WQVJDSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJOVEVYVFwiLCBcIk5BVElPTkFMIFRFWFRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmVcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGFzcyBOb2RlRXh0ZW5zaW9uc1xyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTm9kZSBGb2xsb3dpbmdDaGlsZCh0aGlzIE5vZGUgdmFsdWUsIE5vZGUgZnJvbUNoaWxkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChmcm9tQ2hpbGQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oXCJmcm9tQ2hpbGRcIik7XHJcblxyXG4gICAgICAgICAgICBib29sIHRhcmdldEZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgIE5vZGUgc2libGluZyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBmb3JlYWNoICh2YXIgY2hpbGQgaW4gdmFsdWUuQ2hpbGRyZW4pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRGb3VuZClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzaWJsaW5nID0gY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkID09IGZyb21DaGlsZClcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRGb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIFByZXZpb3VzQ2hpbGQodGhpcyBOb2RlIHZhbHVlLCBOb2RlIGZyb21DaGlsZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoZnJvbUNoaWxkID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnROdWxsRXhjZXB0aW9uKFwiZnJvbUNoaWxkXCIpO1xyXG5cclxuICAgICAgICAgICAgTm9kZSBwcmV2aW91c1NpYmxpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZm9yZWFjaCAodmFyIGNoaWxkIGluIHZhbHVlLkNoaWxkcmVuKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgPT0gZnJvbUNoaWxkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1NpYmxpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNTaWJsaW5nID0gY2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIE5leHRTaWJsaW5nKHRoaXMgTm9kZSB2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlLlBhcmVudCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuUGFyZW50LkZvbGxvd2luZ0NoaWxkKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTm9kZSBQcmV2aW91c1NpYmxpbmcodGhpcyBOb2RlIHZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUuUGFyZW50ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5QYXJlbnQuUHJldmlvdXNDaGlsZCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgUm9vdENvbnRhaW5lcih0aGlzIE5vZGUgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgTm9kZSBjdXJyZW50UGFyZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50UGFyZW50LlBhcmVudCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFBhcmVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSUVudW1lcmFibGU8Tm9kZT4gQ2hpbGRyZW5CeU5hbWUodGhpcyBOb2RlIHZhbHVlLCBzdHJpbmcgbmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVudW1lcmFibGUuRW1wdHk8Tm9kZT4oKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLldoZXJlPE5vZGU+KHZhbHVlLkNoaWxkcmVuLChGdW5jPE5vZGUsYm9vbD4pKHAgPT4gcC5OYW1lID09IG5hbWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSUVudW1lcmFibGU8Tm9kZT4gQ2hpbGRyZW5CeU5hbWVzKHRoaXMgTm9kZSB2YWx1ZSwgSUVudW1lcmFibGU8c3RyaW5nPiBuYW1lcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVudW1lcmFibGUuRW1wdHk8Tm9kZT4oKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLldoZXJlPE5vZGU+KHZhbHVlLkNoaWxkcmVuLChGdW5jPE5vZGUsYm9vbD4pKHAgPT4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5Db250YWluczxzdHJpbmc+KG5hbWVzLHAuTmFtZSkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSUVudW1lcmFibGU8Tm9kZT4gQ2hpbGRyZW5FeGNsdWRpbmdOYW1lcyh0aGlzIE5vZGUgdmFsdWUsIElFbnVtZXJhYmxlPHN0cmluZz4gbmFtZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBFbnVtZXJhYmxlLkVtcHR5PE5vZGU+KCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5XaGVyZTxOb2RlPih2YWx1ZS5DaGlsZHJlbiwoRnVuYzxOb2RlLGJvb2w+KShwID0+ICFTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkNvbnRhaW5zPHN0cmluZz4obmFtZXMscC5OYW1lKSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIENoaWxkQnlOYW1lKHRoaXMgTm9kZSB2YWx1ZSwgc3RyaW5nIG5hbWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TaW5nbGVPckRlZmF1bHQ8Tm9kZT4odmFsdWUuQ2hpbGRyZW5CeU5hbWUobmFtZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIENoaWxkQnlOYW1lcyh0aGlzIE5vZGUgdmFsdWUsIElFbnVtZXJhYmxlPHN0cmluZz4gbmFtZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TaW5nbGVPckRlZmF1bHQ8Tm9kZT4odmFsdWUuQ2hpbGRyZW5CeU5hbWVzKG5hbWVzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIE5vZGUgQ2hpbGRFeGNsdWRpbmdOYW1lcyh0aGlzIE5vZGUgdmFsdWUsIElFbnVtZXJhYmxlPHN0cmluZz4gbmFtZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5TaW5nbGVPckRlZmF1bHQ8Tm9kZT4odmFsdWUuQ2hpbGRyZW5FeGNsdWRpbmdOYW1lcyhuYW1lcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBOb2RlIEV4dHJhY3RTdHJ1Y3R1cmVCZXR3ZWVuKE5vZGUgc3RhcnRpbmdFbGVtZW50LCBOb2RlIGVuZGluZ0VsZW1lbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIGN1cnJlbnROb2RlID0gc3RhcnRpbmdFbGVtZW50O1xyXG4gICAgICAgICAgICBOb2RlIHByZXZpb3VzTm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIE5vZGUgcmVtYWluZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgTm9kZSByZW1haW5kZXJQb3NpdGlvbiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLkVxdWFscyhlbmRpbmdFbGVtZW50KSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNOb2RlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgTm9kZSBjb3B5T2ZUaGlzTm9kZSA9IE5vZGVGYWN0b3J5LkNyZWF0ZU5vZGUoY3VycmVudE5vZGUuTmFtZSwgY3VycmVudE5vZGUuVGV4dFZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAodmFyIGF0dHJpYnV0ZSBpbiBjdXJyZW50Tm9kZS5BdHRyaWJ1dGVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5T2ZUaGlzTm9kZS5TZXRBdHRyaWJ1dGUoYXR0cmlidXRlLktleSwgYXR0cmlidXRlLlZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbmRlclBvc2l0aW9uID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbiA9IGNvcHlPZlRoaXNOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIgPSBjb3B5T2ZUaGlzTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE5vZGUuRXF1YWxzKHByZXZpb3VzTm9kZS5QYXJlbnQpICYmIHJlbWFpbmRlclBvc2l0aW9uLlBhcmVudCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyUG9zaXRpb24gPSByZW1haW5kZXJQb3NpdGlvbi5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnROb2RlLkVxdWFscyhwcmV2aW91c05vZGUuUGFyZW50KSAmJiByZW1haW5kZXJQb3NpdGlvbi5QYXJlbnQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlPZlRoaXNOb2RlLkFkZENoaWxkKHJlbWFpbmRlclBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyUG9zaXRpb24gPSBjb3B5T2ZUaGlzTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyID0gY29weU9mVGhpc05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnROb2RlLkVxdWFscyhwcmV2aW91c05vZGUuTmV4dFNpYmxpbmcoKSkgJiYgcmVtYWluZGVyUG9zaXRpb24uUGFyZW50ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbi5QYXJlbnQuQWRkQ2hpbGQoY29weU9mVGhpc05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbiA9IGNvcHlPZlRoaXNOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Tm9kZS5FcXVhbHMocHJldmlvdXNOb2RlLk5leHRTaWJsaW5nKCkpICYmIHJlbWFpbmRlclBvc2l0aW9uLlBhcmVudCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBjb3B5T2ZUaGlzTm9kZXNQYXJlbnQgPSBOb2RlRmFjdG9yeS5DcmVhdGVOb2RlKGN1cnJlbnROb2RlLlBhcmVudC5OYW1lLCBjdXJyZW50Tm9kZS5QYXJlbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyID0gY29weU9mVGhpc05vZGVzUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIuQWRkQ2hpbGQocmVtYWluZGVyUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXIuQWRkQ2hpbGQoY29weU9mVGhpc05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbiA9IGNvcHlPZlRoaXNOb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3dlIG11c3QgYmUgYSBjaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJQb3NpdGlvbi5BZGRDaGlsZChjb3B5T2ZUaGlzTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclBvc2l0aW9uID0gY29weU9mVGhpc05vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIE5vZGUgbmV4dE5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzTm9kZSAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5Bbnk8Tm9kZT4oY3VycmVudE5vZGUuQ2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgIShjdXJyZW50Tm9kZS5FcXVhbHMocHJldmlvdXNOb2RlLlBhcmVudCkpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5GaXJzdE9yRGVmYXVsdDxOb2RlPihjdXJyZW50Tm9kZS5DaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Tm9kZS5OZXh0U2libGluZygpICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBjdXJyZW50Tm9kZS5OZXh0U2libGluZygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gY3VycmVudE5vZGUuUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGN1cnJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBuZXh0Tm9kZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlbWFpbmRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2VTdHJ1Y3R1cmVcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGFzcyBOb2RlRmFjdG9yeVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgTm9kZSBDcmVhdGVOb2RlKHN0cmluZyBuYW1lLCBzdHJpbmcgdGV4dFZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlSW1wbCgpIHsgTmFtZSA9IG5hbWUsIFRleHRWYWx1ZSA9IHRleHRWYWx1ZSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlxyXG57XHJcbiAgICBzdGF0aWMgY2xhc3MgU3RhbmRhcmRLZXl3b3JkUmVtYXBwaW5nXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPiBJbnN0YW5jZSB7IGdldDsgcHJpdmF0ZSBzZXQ7ICB9XHJcbiAgICAgICAgc3RhdGljIFN0YW5kYXJkS2V5d29yZFJlbWFwcGluZygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBJbnN0YW5jZSA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPigpO1xyXG5cclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiUFJPQ1wiLCBcIlBST0NFRFVSRVwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiTEVGVCBPVVRFUiBKT0lOXCIsIFwiTEVGVCBKT0lOXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJSSUdIVCBPVVRFUiBKT0lOXCIsIFwiUklHSFQgSk9JTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiRlVMTCBPVVRFUiBKT0lOXCIsIFwiRlVMTCBKT0lOXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJKT0lOXCIsIFwiSU5ORVIgSk9JTlwiKTtcclxuICAgICAgICAgICAgLy9UT0RPOiBUaGlzIGlzIG5vdyB3cm9uZyBpbiBNRVJHRSBzdGF0ZW1lbnRzLi4uIHdlIG5vdyBuZWVkIGEgc2NvcGUtbGltaXRhdGlvbiBzdHJhdGVneSA6KFxyXG4gICAgICAgICAgICAvL0luc3RhbmNlLkFkZChcIklOU0VSVFwiLCBcIklOU0VSVCBJTlRPXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJUUkFOXCIsIFwiVFJBTlNBQ1RJT05cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkJFR0lOIFRSQU5cIiwgXCJCRUdJTiBUUkFOU0FDVElPTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQ09NTUlUIFRSQU5cIiwgXCJDT01NSVQgVFJBTlNBQ1RJT05cIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIlJPTExCQUNLIFRSQU5cIiwgXCJST0xMQkFDSyBUUkFOU0FDVElPTlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiQklOQVJZIFZBUllJTkdcIiwgXCJWQVJCSU5BUllcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkNIQVIgVkFSWUlOR1wiLCBcIlZBUkNIQVJcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkNIQVJBQ1RFUlwiLCBcIkNIQVJcIik7XHJcbiAgICAgICAgICAgIEluc3RhbmNlLkFkZChcIkNIQVJBQ1RFUiBWQVJZSU5HXCIsIFwiVkFSQ0hBUlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiREVDXCIsIFwiREVDSU1BTFwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiRE9VQkxFIFBSRUNJU0lPTlwiLCBcIkZMT0FUXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJJTlRFR0VSXCIsIFwiSU5UXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJOQVRJT05BTCBDSEFSQUNURVJcIiwgXCJOQ0hBUlwiKTtcclxuICAgICAgICAgICAgSW5zdGFuY2UuQWRkKFwiTkFUSU9OQUwgQ0hBUlwiLCBcIk5DSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJOQVRJT05BTCBDSEFSQUNURVIgVkFSWUlOR1wiLCBcIk5WQVJDSEFSXCIpO1xyXG4gICAgICAgICAgICBJbnN0YW5jZS5BZGQoXCJOQVRJT05BTCBDSEFSIFZBUllJTkdcIiwgXCJOVkFSQ0hBUlwiKTtcclxuXHRcdFx0SW5zdGFuY2UuQWRkKFwiTkFUSU9OQUwgVEVYVFwiLCBcIk5URVhUXCIpO1xyXG5cdFx0XHRJbnN0YW5jZS5BZGQoXCJPVVRcIiwgXCJPVVRQVVRcIik7XHJcblx0XHRcdC8vVE9ETzogVGhpcyBpcyB3cm9uZyB3aGVuIGEgVElNRVNUQU1QIGNvbHVtbiBpcyB1bm5hbWVkOyBST1dWRVJTSU9OIGRvZXMgbm90IGF1dG8tbmFtZS4gRHVlIHRvIGNvbnRleHQtc2Vuc2l0aXZpdHksIHRoaXMgbWFwcGluZyBpcyBkaXNhYmxlZCBmb3Igbm93LlxyXG4gICAgICAgICAgICAvLyBSRUY6IGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczE4Mjc3Ni5hc3B4XHJcbiAgICAgICAgICAgIC8vSW5zdGFuY2UuQWRkKFwiVElNRVNUQU1QXCIsIFwiUk9XVkVSU0lPTlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5Ub2tlbml6ZXJzXHJcbntcclxuICAgIGludGVybmFsIGNsYXNzIFNpbXBsaWZpZWRTdHJpbmdSZWFkZXJcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIGNoYXJbXSBpbnB1dENoYXJzO1xyXG4gICAgICAgIHByaXZhdGUgaW50IG5leHRDaGFySW5kZXggPSAwO1xyXG5cclxuICAgICAgICBwdWJsaWMgU2ltcGxpZmllZFN0cmluZ1JlYWRlcihzdHJpbmcgaW5wdXRTdHJpbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0Q2hhcnMgPSBpbnB1dFN0cmluZy5Ub0NoYXJBcnJheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgaW50IFJlYWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW50IG5leHRDaGFyID0gUGVlaygpO1xyXG4gICAgICAgICAgICBuZXh0Q2hhckluZGV4Kys7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0Q2hhcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIGludCBQZWVrKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0Q2hhckluZGV4IDwgaW5wdXRDaGFycy5MZW5ndGgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRDaGFyc1tuZXh0Q2hhckluZGV4XTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9ub3RlLCBpbnRlbnRpb25hbCBkaWZmZXJlbmNlIGJldHdlZW4gaW5kZXggKHplcm8tYmFzZWQpIGFuZCBwb3NpdGlvbiAoMS1iYXNlZCkuIFplcm8gaGVyZSBtZWFucyBcIm5vdGhpbmcgb3V0cHV0IHlldFwiLlxyXG4gICAgICAgIGludGVybmFsIGxvbmcgTGFzdENoYXJhY3RlclBvc2l0aW9uXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRDaGFySW5kZXggPD0gaW5wdXRDaGFycy5MZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRDaGFySW5kZXg7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0Q2hhcnMuTGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlRva2VuaXplcnNcclxue1xyXG4gICAgcHVibGljIGNsYXNzIFRTcWxTdGFuZGFyZFRva2VuaXplciA6IElTcWxUb2tlbml6ZXJcclxuICAgIHtcclxuICAgICAgICBwcml2YXRlIGNsYXNzIFRva2VuaXphdGlvblN0YXRlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwdWJsaWMgVG9rZW5MaXN0IFRva2VuQ29udGFpbmVyIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgU2ltcGxpZmllZFN0cmluZ1JlYWRlciBJbnB1dFJlYWRlciB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIFNxbFRva2VuaXphdGlvblR5cGU/IEN1cnJlbnRUb2tlbml6YXRpb25UeXBlIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIFN0cmluZ0J1aWxkZXIgQ3VycmVudFRva2VuVmFsdWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwdWJsaWMgaW50IENvbW1lbnROZXN0aW5nIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGludCBDdXJyZW50Q2hhckludCB7IGdldDsgc2V0OyB9IFxyXG4gICAgICAgICAgICBwdWJsaWMgY2hhciBDdXJyZW50Q2hhclxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnZXRcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ3VycmVudENoYXJJbnQgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbihcIk5vIGNoYXJhY3RlciBoYXMgYmVlbiByZWFkIGZyb20gdGhlIHN0cmVhbVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFIYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkT3BlcmF0aW9uRXhjZXB0aW9uKFwiVGhlIGN1cnJlbnQgY2hhcmFjdGVyIGhhcyBhbHJlYWR5IGJlZW4gY29uc3VtZWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoY2hhcilDdXJyZW50Q2hhckludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwdWJsaWMgbG9uZz8gUmVxdWVzdGVkTWFya2VyUG9zaXRpb24geyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBib29sIEhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgVG9rZW5pemF0aW9uU3RhdGUoc3RyaW5nIGlucHV0U1FMLCBsb25nPyByZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RlZE1hcmtlclBvc2l0aW9uID4gaW5wdXRTUUwuTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbihcIlJlcXVlc3RlZCBtYXJrZXIgcG9zaXRpb24gY2Fubm90IGJlIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBzdHJpbmdcIiwgXCJyZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvblwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBJbnB1dFJlYWRlciA9IG5ldyBTaW1wbGlmaWVkU3RyaW5nUmVhZGVyKGlucHV0U1FMKTtcclxuICAgICAgICAgICAgICAgIFJlcXVlc3RlZE1hcmtlclBvc2l0aW9uID0gcmVxdWVzdGVkTWFya2VyUG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGludGVybmFsIHZvaWQgUmVhZE5leHRDaGFyYWN0ZXIoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJVbnByb2Nlc3NlZCBjaGFyYWN0ZXIgZGV0ZWN0ZWQhXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIEN1cnJlbnRDaGFySW50ID0gSW5wdXRSZWFkZXIuUmVhZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChDdXJyZW50Q2hhckludCA+PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIEhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGludGVybmFsIHZvaWQgQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIUhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlcilcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiTm8gY3VycmVudCBjaGFyYWN0ZXIgdG8gY29uc3VtZSFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKEN1cnJlbnRDaGFyKTtcclxuICAgICAgICAgICAgICAgIEhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnRlcm5hbCB2b2lkIEhhc1JlbWFpbmluZ0NoYXJhY3RlcnMoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIUhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlcilcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiTm8gY3VycmVudCBjaGFyYWN0ZXIgdG8gY29uc3VtZSFcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKEN1cnJlbnRDaGFyKTtcclxuICAgICAgICAgICAgICAgIEhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaW50ZXJuYWwgdm9pZCBEaXNjYXJkTmV4dENoYXJhY3RlcigpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFJlYWROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgICAgICBIYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cblxyXG4gICAgICAgIFxucHJpdmF0ZSBUb2tlbkxpc3QgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX1Rva2VuQ29udGFpbmVyPW5ldyBUb2tlbkxpc3QoKTtwcml2YXRlIFNpbXBsaWZpZWRTdHJpbmdSZWFkZXIgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0lucHV0UmVhZGVyPW51bGw7cHJpdmF0ZSBTcWxUb2tlbml6YXRpb25UeXBlPyBfX1Byb3BlcnR5X19Jbml0aWFsaXplcl9fQ3VycmVudFRva2VuaXphdGlvblR5cGU9bnVsbDtwcml2YXRlIFN0cmluZ0J1aWxkZXIgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0N1cnJlbnRUb2tlblZhbHVlPW5ldyBTdHJpbmdCdWlsZGVyKCk7cHJpdmF0ZSBpbnQgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0NvbW1lbnROZXN0aW5nPTA7cHJpdmF0ZSBpbnQgX19Qcm9wZXJ0eV9fSW5pdGlhbGl6ZXJfX0N1cnJlbnRDaGFySW50PS0xO31cclxuXHJcbiAgICAgICAgcHVibGljIElUb2tlbkxpc3QgVG9rZW5pemVTUUwoc3RyaW5nIGlucHV0U1FMKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRva2VuaXplU1FMKGlucHV0U1FMLCBudWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBJVG9rZW5MaXN0IFRva2VuaXplU1FMKHN0cmluZyBpbnB1dFNRTCwgbG9uZz8gcmVxdWVzdGVkTWFya2VyUG9zaXRpb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBuZXcgVG9rZW5pemF0aW9uU3RhdGUoaW5wdXRTUUwsIHJlcXVlc3RlZE1hcmtlclBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIHN0YXRlLlJlYWROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NPck9wZW5Ub2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVhZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlLlZhbHVlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5XaGl0ZVNwYWNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNXaGl0ZXNwYWNlKHN0YXRlLkN1cnJlbnRDaGFyKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQZXJpb2Q6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuRGVjaW1hbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlWmVybzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICd4JyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnWCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5CaW5hcnlWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLkRlY2ltYWxWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdlJyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnRScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5GbG9hdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5EZWNpbWFsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID49ICcwJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnOScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuRGVjaW1hbFZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJ2UnIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09ICdFJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLkZsb2F0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID49ICcwJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnOScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuRmxvYXRWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID49ICcwJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnOScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHN0YXRlLkN1cnJlbnRDaGFyID09ICctJyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnKycpICYmIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkuVG9VcHBlcigpLkVuZHNXaXRoKFwiRVwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5CaW5hcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHN0YXRlLkN1cnJlbnRDaGFyID49ICdBJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAnRicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoc3RhdGUuQ3VycmVudENoYXIgPj0gJ2EnICYmIHN0YXRlLkN1cnJlbnRDaGFyIDw9ICdmJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVEb2xsYXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnJCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnQScgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJ1onKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHN0YXRlLkN1cnJlbnRDaGFyID49ICdhJyAmJiBzdGF0ZS5DdXJyZW50Q2hhciA8PSAneicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuUHNldWRvTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMCcgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICctJyAmJiBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5MZW5ndGggPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLicgJiYgIXN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkuQ29udGFpbnMoXCIuXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUh5cGhlbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICctJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUxpbmVDb21tZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vRElTQ0FSRElORyB0aGUgaHlwaGVuIGJlY2F1c2Ugb2Ygd2VpcmQgc3RhbmRhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCctJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnLScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVNsYXNoOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJyonKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuQmxvY2tDb21tZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vRElTQ0FSRElORyB0aGUgYXN0ZXJpc2sgYmVjYXVzZSBvZiB3ZWlyZCBzdGFuZGFyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29tbWVudE5lc3RpbmcrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL0RJU0NBUkRJTkcgdGhlIHNsYXNoIGJlY2F1c2Ugb2Ygd2VpcmQgc3RhbmRhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCcvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLkFwcGVuZCgnLycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09IChjaGFyKTEzIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09IChjaGFyKTEwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgbmV4dENoYXJJbnQgPSBzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gKGNoYXIpMTMgJiYgbmV4dENoYXJJbnQgPT0gMTApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWFkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kQ2hhckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLkJsb2NrQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcqJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLklucHV0UmVhZGVyLlBlZWsoKSA9PSAoaW50KScvJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db21tZW50TmVzdGluZy0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5Db21tZW50TmVzdGluZyA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWFkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9kaXNjYXJkaW5nIHRoZSBhc3Rlcmlza1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5SZWFkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IERBTkdFUiBEQU5HRVIgd2h5IGRvIFwiY29udGFpbmVkXCIgdG9rZW4gdHlwZXMgaGF2ZSB0aGlzIGluY29uc2lzdGVudCBoYW5kbGluZyB3aGVyZSB0aGUgZGVsaW1pdGVycyBhcmUgbm90IGluIHRoZSB2YWx1ZT8/P1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLycgJiYgc3RhdGUuSW5wdXRSZWFkZXIuUGVlaygpID09IChpbnQpJyonKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVhZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbW1lbnROZXN0aW5nKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk90aGVyTm9kZTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuUHNldWRvTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTm9uV29yZENoYXJhY3RlcihzdGF0ZS5DdXJyZW50Q2hhcikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdcXCcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuTlN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL0RJU0NBUkRJTkcgdGhlIGFwb3N0cm9waGUgYmVjYXVzZSBvZiB3ZWlyZCBzdGFuZGFyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChJc05vbldvcmRDaGFyYWN0ZXIoc3RhdGUuQ3VycmVudENoYXIpKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck5vZGU7XHJcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJ04nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuTlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJ1xcJycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCkgPT0gKGludCknXFwnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0aGUgY2hhcmFjdGVyIChvbmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgYXdheSB0aGUgc2Vjb25kIGNoYXJhY3Rlci4uLiBiZWNhdXNlIChmb3Igc29tZSByZWFzb24/KSB3ZSdyZSBzdG9yaW5nIHRoZSBlZmZlY3RpdmUgdmFsdWVcIiByYXRoZXIgdGhhbiB0aGUgcmF3IHRva2VuLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGlzY2FyZE5leHRDaGFyYWN0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IERBTkdFUiBEQU5HRVIgd2h5IGRvIFwiY29udGFpbmVkXCIgdG9rZW4gdHlwZXMgaGF2ZSB0aGlzIGluY29uc2lzdGVudCBoYW5kbGluZyB3aGVyZSB0aGUgZGVsaW1pdGVycyBhcmUgbm90IGluIHRoZSB2YWx1ZT8/P1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWxsb3dPdXRzdGFuZGluZ0NoYXJhY3RlckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlF1b3RlZFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdcIicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCkgPT0gKGludCknXCInKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRoZSBjaGFyYWN0ZXIgKG9uY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aHJvdyBhd2F5IHRoZSBzZWNvbmQgY2hhcmFjdGVyLi4uIGJlY2F1c2UgKGZvciBzb21lIHJlYXNvbj8pIHdlJ3JlIHN0b3JpbmcgdGhlIGVmZmVjdGl2ZSB2YWx1ZVwiIHJhdGhlciB0aGFuIHRoZSByYXcgdG9rZW4uLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EaXNjYXJkTmV4dENoYXJhY3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETzogREFOR0VSIERBTkdFUiB3aHkgZG8gXCJjb250YWluZWRcIiB0b2tlbiB0eXBlcyBoYXZlIHRoaXMgaW5jb25zaXN0ZW50IGhhbmRsaW5nIHdoZXJlIHRoZSBkZWxpbWl0ZXJzIGFyZSBub3QgaW4gdGhlIHZhbHVlPz8/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbGxvd091dHN0YW5kaW5nQ2hhcmFjdGVyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuQnJhY2tldFF1b3RlZE5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnXScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5JbnB1dFJlYWRlci5QZWVrKCkgPT0gKGludCknXScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdGhlIGNoYXJhY3RlciAob25jZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Rocm93IGF3YXkgdGhlIHNlY29uZCBjaGFyYWN0ZXIuLi4gYmVjYXVzZSAoZm9yIHNvbWUgcmVhc29uPykgd2UncmUgc3RvcmluZyB0aGUgZWZmZWN0aXZlIHZhbHVlXCIgcmF0aGVyIHRoYW4gdGhlIHJhdyB0b2tlbi4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkRpc2NhcmROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBEQU5HRVIgREFOR0VSIHdoeSBkbyBcImNvbnRhaW5lZFwiIHRva2VuIHR5cGVzIGhhdmUgdGhpcyBpbmNvbnNpc3RlbnQgaGFuZGxpbmcgd2hlcmUgdGhlIGRlbGltaXRlcnMgYXJlIG5vdCBpbiB0aGUgdmFsdWU/Pz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCc8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJz0nIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09ICc+JyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVHVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCc+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJz0nIHx8IHN0YXRlLkN1cnJlbnRDaGFyID09ICc+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kQ2hhckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUFzdGVyaXNrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJyonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc9JylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk90aGVyT3BlcmF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlT3RoZXJDb21wb3VuZGFibGVPcGVyYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk90aGVyT3BlcmF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBsZXRlVG9rZW5BbmRQcm9jZXNzTmV4dChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQaXBlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuQXBwZW5kKCd8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScgfHwgc3RhdGUuQ3VycmVudENoYXIgPT0gJ3wnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmRDaGFyQW5kQ29tcGxldGVUb2tlbihzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlRXF1YWxzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJz0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc9JylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kQ2hhckFuZENvbXBsZXRlVG9rZW4oc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUV4Y2xhbWF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5BcHBlbmQoJyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc9JyB8fCBzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPCcgfHwgc3RhdGUuQ3VycmVudENoYXIgPT0gJz4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJPcGVyYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZVRva2VuQW5kUHJvY2Vzc05leHQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiSW4tcHJvZ3Jlc3Mgbm9kZSB1bnJlY29nbml6ZWQhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHN0YXRlLlJlYWROZXh0Q2hhcmFjdGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlLlZhbHVlID09IFNxbFRva2VuaXphdGlvblR5cGUuQmxvY2tDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfHwgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUuVmFsdWUgPT0gU3FsVG9rZW5pemF0aW9uVHlwZS5TdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB8fCBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZS5WYWx1ZSA9PSBTcWxUb2tlbml6YXRpb25UeXBlLk5TdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB8fCBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZS5WYWx1ZSA9PSBTcWxUb2tlbml6YXRpb25UeXBlLlF1b3RlZFN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHx8IHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlLlZhbHVlID09IFNxbFRva2VuaXphdGlvblR5cGUuQnJhY2tldFF1b3RlZE5hbWVcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuVG9rZW5Db250YWluZXIuSGFzVW5maW5pc2hlZFRva2VuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLlRva2VuQ29udGFpbmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYm9vbCBJc1doaXRlc3BhY2UoY2hhciB0YXJnZXRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRhcmdldENoYXJhY3RlciA9PSAnICdcclxuICAgICAgICAgICAgICAgIHx8IHRhcmdldENoYXJhY3RlciA9PSAnXFx0J1xyXG4gICAgICAgICAgICAgICAgfHwgdGFyZ2V0Q2hhcmFjdGVyID09IChjaGFyKTEwXHJcbiAgICAgICAgICAgICAgICB8fCB0YXJnZXRDaGFyYWN0ZXIgPT0gKGNoYXIpMTNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzTm9uV29yZENoYXJhY3RlcihjaGFyIGN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2NoYXJhY3RlcnMgdGhhdCBwb3AgeW91IG91dCBvZiBhIHJlZ3VsYXIgXCJ3b3JkXCIgY29udGV4dCAobWF5YmUgaW50byBhIG5ldyB3b3JkKVxyXG4gICAgICAgICAgICByZXR1cm4gKElzV2hpdGVzcGFjZShjdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgfHwgSXNPcGVyYXRvckNoYXJhY3RlcihjdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgfHwgKElzQ3VycmVuY3lQcmVmaXgoY3VycmVudENoYXJhY3RlcikgJiYgY3VycmVudENoYXJhY3RlciAhPSAnJCcpXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICdcXCcnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICdcIidcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJywnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcuJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnWydcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJygnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcpJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnISdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJzsnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICc6J1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJvb2wgSXNDb21wb3VuZGFibGVPcGVyYXRvckNoYXJhY3RlcihjaGFyIGN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL29wZXJhdG9yIGNoYXJhY3RlcnMgdGhhdCBjYW4gYmUgY29tcG91bmRlZCBieSBhIHN1YnNlcXVlbnQgXCJlcXVhbHNcIiBzaWduXHJcbiAgICAgICAgICAgIHJldHVybiAoY3VycmVudENoYXJhY3RlciA9PSAnLydcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJy0nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcrJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnKidcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJyUnXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcmJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnXidcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJzwnXHJcblx0XHRcdFx0fHwgY3VycmVudENoYXJhY3RlciA9PSAnPidcclxuXHRcdFx0XHR8fCBjdXJyZW50Q2hhcmFjdGVyID09ICd8J1xyXG5cdFx0XHRcdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzT3BlcmF0b3JDaGFyYWN0ZXIoY2hhciBjdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9vcGVyYXRvciBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIHJldHVybiAoY3VycmVudENoYXJhY3RlciA9PSAnLydcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJy0nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcrJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnJSdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJyonXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICcmJ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnfCdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJ14nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICc9J1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAnPCdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gJz4nXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09ICd+J1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJvb2wgSXNDdXJyZW5jeVByZWZpeChjaGFyIGN1cnJlbnRDaGFyYWN0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3N5bWJvbHMgdGhhdCBTUUwgU2VydmVyIHJlY29nbml6ZXMgYXMgY3VycmVuY3kgcHJlZml4ZXMgLSB0aGVzZSBhbHNvIGhhcHBlbiB0byBcclxuICAgICAgICAgICAgLy8gYmUgd29yZC1icmVha2VycywgZXhjZXB0IHRoZSBkb2xsYXIuIFJlZjpcclxuICAgICAgICAgICAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zMTg4Njg4LmFzcHhcclxuICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MDAyNFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDAwQTJcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgwMEEzXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MDBBNFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDAwQTVcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgwOUYyXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MDlGM1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDBFM0ZcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpNjEwNyAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBMFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQTFcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEEyXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBM1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQTRcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEE1XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBNlxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQTdcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEE4XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBOVxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQUFcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpODM2MyAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBQ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweDIwQURcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHgyMEFFXHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4MjBBRlxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcik4MzY4ICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpODM2OSAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4RkRGQ1xyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweEZFNjlcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHhGRjA0XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4RkZFMFxyXG4gICAgICAgICAgICAgICAgfHwgY3VycmVudENoYXJhY3RlciA9PSAoY2hhcikweEZGRTFcclxuICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDaGFyYWN0ZXIgPT0gKGNoYXIpMHhGRkU1XHJcbiAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q2hhcmFjdGVyID09IChjaGFyKTB4RkZFNlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgQ29tcGxldGVUb2tlbkFuZFByb2Nlc3NOZXh0KFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQ29tcGxldGVUb2tlbihzdGF0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFByb2Nlc3NPck9wZW5Ub2tlbihzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIEFwcGVuZENoYXJBbmRDb21wbGV0ZVRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgQ29tcGxldGVUb2tlbihzdGF0ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBTd2FsbG93T3V0c3RhbmRpbmdDaGFyYWN0ZXJBbmRDb21wbGV0ZVRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy90aGlzIGlzIGZvciBjYXNlcyB3aGVyZSB3ZSAqa25vdyogd2UgYXJlIHN3YWxsb3dpbmcgdGhlIFwiY3VycmVudCBjaGFyYWN0ZXJcIiAobm90IHB1dHRpbmcgaXQgaW4gdGhlIG91dHB1dClcclxuICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgIENvbXBsZXRlVG9rZW4oc3RhdGUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgUHJvY2Vzc09yT3BlblRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiQ2Fubm90IHN0YXJ0IGEgbmV3IFRva2VuOiBleGlzdGluZyBUb2tlbml6YXRpb24gVHlwZSBpcyBub3QgbnVsbFwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIkNhbm5vdCBzdGFydCBhIG5ldyBUb2tlbjogbm8gKG91dHN0YW5kaW5nKSBjdXJyZW50IGNoYXJhY3RlciBzcGVjaWZpZWQhXCIpO1xyXG5cclxuICAgICAgICAgICAgLy9zdGFydCBhIG5ldyB2YWx1ZS5cclxuICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuTGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChJc1doaXRlc3BhY2Uoc3RhdGUuQ3VycmVudENoYXIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuV2hpdGVTcGFjZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkNvbnN1bWVDdXJyZW50Q2hhcmFjdGVySW50b1Rva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJy0nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlSHlwaGVuO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmcsIHdpbGwgYmUgcmVpbnNlcnRlZCBsYXRlclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICckJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZURvbGxhcjtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLycpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVTbGFzaDtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnTicpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVOO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmcsIHdpbGwgYmUgcmVpbnNlcnRlZCBsYXRlciBleGNlcHQgTi1zdHJpbmcgY2FzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICdcXCcnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnXCInKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuUXVvdGVkU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuSGFzVW5wcm9jZXNzZWRDdXJyZW50Q2hhcmFjdGVyID0gZmFsc2U7IC8vcHVycG9zZWZ1bGx5IHN3YWxsb3dpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnWycpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5CcmFja2V0UXVvdGVkTmFtZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJygnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3BlblBhcmVucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJyknKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQ2xvc2VQYXJlbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcsJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2F2ZUN1cnJlbnRDaGFyVG9OZXdUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLkNvbW1hKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnLicpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQZXJpb2Q7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJzAnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlWmVybztcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA+PSAnMScgJiYgc3RhdGUuQ3VycmVudENoYXIgPD0gJzknKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChJc0N1cnJlbmN5UHJlZml4KHN0YXRlLkN1cnJlbnRDaGFyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICc7JylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2F2ZUN1cnJlbnRDaGFyVG9OZXdUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLlNlbWljb2xvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJzonKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQ29sb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLkN1cnJlbnRDaGFyID09ICcqJylcclxuICAgICAgICAgICAge1xyXG5cdFx0XHRcdHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVBc3RlcmlzaztcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5DdXJyZW50Q2hhciA9PSAnPScpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVFcXVhbHM7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJzwnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTFQ7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJz4nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlR1Q7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJyEnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlRXhjbGFtYXRpb247XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9wdXJwb3NlZnVsbHkgc3dhbGxvd2luZywgd2lsbCBiZSByZWluc2VydGVkIGxhdGVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuQ3VycmVudENoYXIgPT0gJ3wnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlUGlwZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkhhc1VucHJvY2Vzc2VkQ3VycmVudENoYXJhY3RlciA9IGZhbHNlOyAvL3B1cnBvc2VmdWxseSBzd2FsbG93aW5nLCB3aWxsIGJlIHJlaW5zZXJ0ZWQgbGF0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChJc0NvbXBvdW5kYWJsZU9wZXJhdG9yQ2hhcmFjdGVyKHN0YXRlLkN1cnJlbnRDaGFyKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUgPSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZU90aGVyQ29tcG91bmRhYmxlT3BlcmF0b3I7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5Db25zdW1lQ3VycmVudENoYXJhY3RlckludG9Ub2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKElzT3BlcmF0b3JDaGFyYWN0ZXIoc3RhdGUuQ3VycmVudENoYXIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTYXZlQ3VycmVudENoYXJUb05ld1Rva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJPcGVyYXRvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9IFNxbFRva2VuaXphdGlvblR5cGUuT3RoZXJOb2RlO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuQ29uc3VtZUN1cnJlbnRDaGFyYWN0ZXJJbnRvVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBDb21wbGV0ZVRva2VuKFRva2VuaXphdGlvblN0YXRlIHN0YXRlLCBib29sIG5leHRDaGFyUmVhZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50VG9rZW5pemF0aW9uVHlwZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIkNhbm5vdCBjb21wbGV0ZSBUb2tlbiwgYXMgdGhlcmUgaXMgbm8gY3VycmVudCBUb2tlbml6YXRpb24gVHlwZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUuQ3VycmVudFRva2VuaXphdGlvblR5cGUpXHJcbiAgICAgICAgICAgIHtcclxuXHRcdFx0XHRjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuQmxvY2tDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnQsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck5vZGU6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJOb2RlLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuUHNldWRvTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5Qc2V1ZG9OYW1lLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnQsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudENTdHlsZSwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUh5cGhlbjpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yLCBcIi1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZURvbGxhcjpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5Nb25ldGFyeVZhbHVlLCBcIiRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVNsYXNoOlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk90aGVyT3BlcmF0b3IsIFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuV2hpdGVTcGFjZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlTjpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5PdGhlck5vZGUsIFwiTlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlRXhjbGFtYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJOb2RlLCBcIiFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVQaXBlOlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk90aGVyTm9kZSwgXCJ8XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVHVDpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yLCBcIj5cIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZUxUOlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVUb2tlbihzdGF0ZSwgU3FsVG9rZW5UeXBlLk90aGVyT3BlcmF0b3IsIFwiPFwiKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuTlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5OYXRpb25hbFN0cmluZywgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5TdHJpbmcsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5RdW90ZWRTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuUXVvdGVkU3RyaW5nLCBzdGF0ZS5DdXJyZW50VG9rZW5WYWx1ZS5Ub1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuQnJhY2tldFF1b3RlZE5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQnJhY2tldFF1b3RlZE5hbWUsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5PdGhlck9wZXJhdG9yOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZU90aGVyQ29tcG91bmRhYmxlT3BlcmF0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuT3RoZXJPcGVyYXRvciwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVplcm86XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuTnVtYmVyLCBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLlNpbmdsZVBlcmlvZDpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5QZXJpb2QsIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuU2luZ2xlQXN0ZXJpc2s6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuQXN0ZXJpc2ssIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5TaW5nbGVFcXVhbHM6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuRXF1YWxzU2lnbiwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk51bWJlcjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5EZWNpbWFsVmFsdWU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuaXphdGlvblR5cGUuRmxvYXRWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5OdW1iZXIsIHN0YXRlLkN1cnJlbnRUb2tlblZhbHVlLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5pemF0aW9uVHlwZS5CaW5hcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBTYXZlVG9rZW4oc3RhdGUsIFNxbFRva2VuVHlwZS5CaW5hcnlWYWx1ZSwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlbml6YXRpb25UeXBlLk1vbmV0YXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCBTcWxUb2tlblR5cGUuTW9uZXRhcnlWYWx1ZSwgc3RhdGUuQ3VycmVudFRva2VuVmFsdWUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiVW5yZWNvZ25pemVkIFNRTCBOb2RlIFR5cGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0YXRlLkN1cnJlbnRUb2tlbml6YXRpb25UeXBlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgU2F2ZUN1cnJlbnRDaGFyVG9OZXdUb2tlbihUb2tlbml6YXRpb25TdGF0ZSBzdGF0ZSwgU3FsVG9rZW5UeXBlIHRva2VuVHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNoYXIgY2hhclRvU2F2ZSA9IHN0YXRlLkN1cnJlbnRDaGFyO1xyXG4gICAgICAgICAgICBzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPSBmYWxzZTsgLy9iZWNhdXNlIHdlJ3JlIHVzaW5nIGl0IG5vdyFcclxuICAgICAgICAgICAgU2F2ZVRva2VuKHN0YXRlLCB0b2tlblR5cGUsIGNoYXJUb1NhdmUuVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIFNhdmVUb2tlbihUb2tlbml6YXRpb25TdGF0ZSBzdGF0ZSwgU3FsVG9rZW5UeXBlIHRva2VuVHlwZSwgc3RyaW5nIHRva2VuVmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgZm91bmRUb2tlbiA9IG5ldyBUb2tlbih0b2tlblR5cGUsIHRva2VuVmFsdWUpO1xyXG4gICAgICAgICAgICBzdGF0ZS5Ub2tlbkNvbnRhaW5lci5BZGQoZm91bmRUb2tlbik7XHJcblxyXG4gICAgICAgICAgICBsb25nIHBvc2l0aW9uT2ZMYXN0Q2hhcmFjdGVySW5Ub2tlbiA9IHN0YXRlLklucHV0UmVhZGVyLkxhc3RDaGFyYWN0ZXJQb3NpdGlvbiAtIChzdGF0ZS5IYXNVbnByb2Nlc3NlZEN1cnJlbnRDaGFyYWN0ZXIgPyAxIDogMCk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5SZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbiAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAmJiBzdGF0ZS5Ub2tlbkNvbnRhaW5lci5NYXJrZXJUb2tlbiA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICAmJiBzdGF0ZS5SZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbiA8PSBwb3NpdGlvbk9mTGFzdENoYXJhY3RlckluVG9rZW5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuVG9rZW5Db250YWluZXIuTWFya2VyVG9rZW4gPSBmb3VuZFRva2VuO1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiB0aGlzIGlzIHdyb25nIGZvciBjb250YWluZXIgdHlwZXMsIGFzIGNvbW1lbnRlZCBlbHNld2hlcmUuIHRoZSBtYXJrZXIgcG9zaXRpb24gd2lsbCBiZSB0b28gaGlnaC5cclxuICAgICAgICAgICAgICAgIHZhciByYXdQb3NpdGlvbkluVG9rZW4gPSBmb3VuZFRva2VuLlZhbHVlLkxlbmd0aCAtIChwb3NpdGlvbk9mTGFzdENoYXJhY3RlckluVG9rZW4gLSBzdGF0ZS5SZXF1ZXN0ZWRNYXJrZXJQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyB0ZW1wb3JhcmlseSBieXBhc3Mgb3ZlcmZsb3cgaXNzdWVzIHdpdGhvdXQgZml4aW5nIHVuZGVybHlpbmcgcHJvYmxlbVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuVG9rZW5Db250YWluZXIuTWFya2VyUG9zaXRpb24gPSByYXdQb3NpdGlvbkluVG9rZW4gPiBmb3VuZFRva2VuLlZhbHVlLkxlbmd0aCA/IGZvdW5kVG9rZW4uVmFsdWUuTGVuZ3RoIDogcmF3UG9zaXRpb25JblRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZW51bSBTcWxUb2tlbml6YXRpb25UeXBlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3ZhcmlhYmxlLWxlbmd0aCB0eXBlc1xyXG4gICAgICAgICAgICBXaGl0ZVNwYWNlLFxyXG4gICAgICAgICAgICBPdGhlck5vZGUsXHJcbiAgICAgICAgICAgIFNpbmdsZUxpbmVDb21tZW50LFxyXG4gICAgICAgICAgICBTaW5nbGVMaW5lQ29tbWVudENTdHlsZSxcclxuICAgICAgICAgICAgQmxvY2tDb21tZW50LFxyXG4gICAgICAgICAgICBTdHJpbmcsXHJcbiAgICAgICAgICAgIE5TdHJpbmcsXHJcbiAgICAgICAgICAgIFF1b3RlZFN0cmluZyxcclxuICAgICAgICAgICAgQnJhY2tldFF1b3RlZE5hbWUsXHJcbiAgICAgICAgICAgIE90aGVyT3BlcmF0b3IsXHJcbiAgICAgICAgICAgIE51bWJlcixcclxuICAgICAgICAgICAgQmluYXJ5VmFsdWUsXHJcbiAgICAgICAgICAgIE1vbmV0YXJ5VmFsdWUsXHJcbiAgICAgICAgICAgIERlY2ltYWxWYWx1ZSxcclxuICAgICAgICAgICAgRmxvYXRWYWx1ZSxcclxuICAgICAgICAgICAgUHNldWRvTmFtZSxcclxuXHJcbiAgICAgICAgICAgIC8vdGVtcG9yYXJ5IHR5cGVzXHJcbiAgICAgICAgICAgIFNpbmdsZUFzdGVyaXNrLFxyXG4gICAgICAgICAgICBTaW5nbGVEb2xsYXIsXHJcbiAgICAgICAgICAgIFNpbmdsZUh5cGhlbixcclxuICAgICAgICAgICAgU2luZ2xlU2xhc2gsXHJcbiAgICAgICAgICAgIFNpbmdsZU4sXHJcbiAgICAgICAgICAgIFNpbmdsZUxULFxyXG4gICAgICAgICAgICBTaW5nbGVHVCxcclxuICAgICAgICAgICAgU2luZ2xlRXhjbGFtYXRpb24sXHJcbiAgICAgICAgICAgIFNpbmdsZVBlcmlvZCxcclxuICAgICAgICAgICAgU2luZ2xlWmVybyxcclxuICAgICAgICAgICAgU2luZ2xlUGlwZSxcclxuICAgICAgICAgICAgU2luZ2xlRXF1YWxzLFxyXG4gICAgICAgICAgICBTaW5nbGVPdGhlckNvbXBvdW5kYWJsZU9wZXJhdG9yXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDEyIFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtLlRleHQ7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgY2xhc3MgVXRpbHNcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBIdG1sRW5jb2RlKHN0cmluZyByYXcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgKiBUaGlzIGlzIGEgXCJSb2xsIFlvdXIgT3duXCIgaW1wbGVtZW50YXRpb24gb2YgSHRtbEVuY29kZSwgd2hpY2ggd2FzIG5lY2Vzc2FyeSBpbiB0aGUgZW5kIGJlY2F1c2UgcGVvcGxlIHdhbnRcclxuICAgICAgICAgICAgICogdG8gdXNlIHRoZSBsaWJyYXJ5IHdpdGggLk5ldCAzLjUgQ2xpZW50IFByb2ZpbGUgYW5kIG90aGVyIHJlc3RyaWN0ZWQgZW52aXJvbm1lbnRzOyB0aGUgZGVwZW5kZW5jeSBvbiBcclxuICAgICAgICAgICAgICogU3lzdGVtLldlYiBqdXN0IGZvciBIdG1sRW5jb2RlIHdhcyBhbHdheXMgYSBsaXR0bGUgZGlzdHVyYmluZyBhbnl3YXkuXHJcbiAgICAgICAgICAgICAqIEkndmUgYXR0ZW1wdGVkIHRvIG9wdGltaXplIHRoZSBpbXBsZW1lbnRhdGlvbiB0b3dhcmRzIHN0cmluZ3MgdGhhdCBkb24ndCBhY3R1YWxseSBjb250YWluIGFueSBzcGVjaWFsIFxyXG4gICAgICAgICAgICAgKiBjaGFyYWN0ZXJzLCBhbmQgSSd2ZSBhbHNvIHNraXBwZWQgc29tZSBvZiB0aGUgbW9yZSBpbnRlcmVzdGluZyBzdHVmZiB0aGF0IEkgc2VlIGluIHRoZSBNUyBpbXBsZW1lbnRhdGlvblxyXG4gICAgICAgICAgICAgKiAocG9pbnRlcnMsIGFuZCBzb21lIHNwZWNpYWwgaGFuZGxpbmcgaW4gdGhlIFdpbkFuc2kgc3BlY2lhbCByYW5nZSBvZiBjaGFyYWN0ZXJzPyksIGtlZXBpbmcgaXQgdG8gdGhlIGJhc2ljIFxyXG4gICAgICAgICAgICAgKiA0IFwia25vd24gYmFkXCIgY2hhcmFjdGVycy5cclxuICAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICBpZiAocmF3ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgb3V0QnVpbGRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIGludCBsYXRlc3RDaGVja1BvcyA9IDA7XHJcbiAgICAgICAgICAgIGludCBsYXRlc3RSZXBsYWNlbWVudFBvcyA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3JlYWNoIChjaGFyIGMgaW4gcmF3KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgcmVwbGFjZW1lbnRTdHJpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRTdHJpbmcgPSBcIiZndDtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnPCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50U3RyaW5nID0gXCImbHQ7XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJyYnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFN0cmluZyA9IFwiJmFtcDtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnXCInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFN0cmluZyA9IFwiJnF1b3Q7XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlbWVudFN0cmluZyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRCdWlsZGVyID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dEJ1aWxkZXIgPSBuZXcgU3RyaW5nQnVpbGRlcihyYXcuTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdFJlcGxhY2VtZW50UG9zIDwgbGF0ZXN0Q2hlY2tQb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dEJ1aWxkZXIuQXBwZW5kKHJhdy5TdWJzdHJpbmcobGF0ZXN0UmVwbGFjZW1lbnRQb3MsIGxhdGVzdENoZWNrUG9zIC0gbGF0ZXN0UmVwbGFjZW1lbnRQb3MpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0QnVpbGRlci5BcHBlbmQocmVwbGFjZW1lbnRTdHJpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsYXRlc3RSZXBsYWNlbWVudFBvcyA9IGxhdGVzdENoZWNrUG9zICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsYXRlc3RDaGVja1BvcysrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3V0QnVpbGRlciAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGF0ZXN0UmVwbGFjZW1lbnRQb3MgPCBsYXRlc3RDaGVja1BvcylcclxuICAgICAgICAgICAgICAgICAgICBvdXRCdWlsZGVyLkFwcGVuZChyYXcuU3Vic3RyaW5nKGxhdGVzdFJlcGxhY2VtZW50UG9zKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dEJ1aWxkZXIuVG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3O1xyXG4gICAgICAgIH1cclxuI2lmIFNJTVBMSUZJRURGV1xyXG4vL0ludmFyaWFudCBjb252ZXJzaW9ucyBhcmUgbm90IGltcGxlbWVudGVkIGluIEJyaWRnZS5OZXQgYW5kIC5OZXQgU3RhbmRhcmQuLi5cclxucHVibGljIHN0YXRpYyBzdHJpbmcgVG9Mb3dlckludmFyaWFudCh0aGlzIHN0cmluZyB2YWx1ZSlcclxue1xyXG4gICAgcmV0dXJuIHZhbHVlLlRvTG93ZXIoKTtcclxufXB1YmxpYyBzdGF0aWMgc3RyaW5nIFRvVXBwZXJJbnZhcmlhbnQodGhpcyBzdHJpbmcgdmFsdWUpXHJcbntcclxuICAgIHJldHVybiB2YWx1ZS5Ub1VwcGVyKCk7XHJcbn1wdWJsaWMgc3RhdGljIGNoYXIgVG9Mb3dlckludmFyaWFudCh0aGlzIGNoYXIgdmFsdWUpXHJcbntcclxuICAgIHJldHVybiBjaGFyLlRvTG93ZXIodmFsdWUpO1xyXG59cHVibGljIHN0YXRpYyBjaGFyIFRvVXBwZXJJbnZhcmlhbnQodGhpcyBjaGFyIHZhbHVlKVxyXG57XHJcbiAgICByZXR1cm4gY2hhci5Ub1VwcGVyKHZhbHVlKTtcclxufVxyXG4jZW5kaWZcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuSW50ZXJmYWNlcztcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuRm9ybWF0dGVyc1xyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgSHRtbFBhZ2VXcmFwcGVyIDogSVNxbFRyZWVGb3JtYXR0ZXJcclxuICAgIHtcclxuICAgICAgICBJU3FsVHJlZUZvcm1hdHRlciBfdW5kZXJseWluZ0Zvcm1hdHRlcjtcclxuXHJcbiAgICAgICAgcHVibGljIEh0bWxQYWdlV3JhcHBlcihJU3FsVHJlZUZvcm1hdHRlciB1bmRlcmx5aW5nRm9ybWF0dGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHVuZGVybHlpbmdGb3JtYXR0ZXIgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oXCJ1bmRlcmx5aW5nRm9ybWF0dGVyXCIpO1xyXG5cclxuICAgICAgICAgICAgX3VuZGVybHlpbmdGb3JtYXR0ZXIgPSB1bmRlcmx5aW5nRm9ybWF0dGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb25zdCBzdHJpbmcgSFRNTF9PVVRFUl9QQUdFID0gQFwiPCFET0NUWVBFIGh0bWwgPlxyXG48aHRtbD5cclxuPGhlYWQ+XHJcbjwvaGVhZD5cclxuPGJvZHk+XHJcbjxzdHlsZSB0eXBlPVwiXCJ0ZXh0L2Nzc1wiXCI+XHJcbi5TUUxDb2RlIHt7XHJcblx0Zm9udC1zaXplOiAxM3B4O1xyXG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cdGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7O1xyXG5cdHdoaXRlLXNwYWNlOiBwcmU7XHJcbiAgICAtby10YWItc2l6ZTogNDtcclxuICAgIC1tb3otdGFiLXNpemU6IDQ7XHJcbiAgICAtd2Via2l0LXRhYi1zaXplOiA0O1xyXG59fVxyXG4uU1FMQ29tbWVudCB7e1xyXG5cdGNvbG9yOiAjMDBBQTAwO1xyXG59fVxyXG4uU1FMU3RyaW5nIHt7XHJcblx0Y29sb3I6ICNBQTAwMDA7XHJcbn19XHJcbi5TUUxGdW5jdGlvbiB7e1xyXG5cdGNvbG9yOiAjQUEwMEFBO1xyXG59fVxyXG4uU1FMS2V5d29yZCB7e1xyXG5cdGNvbG9yOiAjMDAwMEFBO1xyXG59fVxyXG4uU1FMT3BlcmF0b3Ige3tcclxuXHRjb2xvcjogIzc3Nzc3NztcclxufX1cclxuLlNRTEVycm9ySGlnaGxpZ2h0IHt7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI0ZGRkYwMDtcclxufX1cclxuXHJcblxyXG48L3N0eWxlPlxyXG48cHJlIGNsYXNzPVwiXCJTUUxDb2RlXCJcIj57MH08L3ByZT5cclxuPC9ib2R5PlxyXG48L2h0bWw+XHJcblwiO1xyXG5cclxuICAgICAgICBwdWJsaWMgYm9vbCBIVE1MRm9ybWF0dGVkIHsgZ2V0IHsgcmV0dXJuIHRydWU7IH0gfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRXJyb3JPdXRwdXRQcmVmaXggeyBcclxuICAgICAgICAgICAgZ2V0IFxyXG4gICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF91bmRlcmx5aW5nRm9ybWF0dGVyLkVycm9yT3V0cHV0UHJlZml4OyBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgc2V0IFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90U3VwcG9ydGVkRXhjZXB0aW9uKFwiRXJyb3Igb3V0cHV0IHByZWZpeCBzaG91bGQgYmUgc2V0IG9uIHRoZSB1bmRlcmx5aW5nIGZvcm1hdHRlciAtIGl0IGNhbm5vdCBiZSBzZXQgb24gdGhlIEh0bWwgUGFnZSBXcmFwcGVyLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBGb3JtYXRTUUxUcmVlKFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZS5Ob2RlIHNxbFRyZWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdHJpbmcgZm9ybWF0dGVkUmVzdWx0ID0gX3VuZGVybHlpbmdGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShzcWxUcmVlKTtcclxuICAgICAgICAgICAgaWYgKF91bmRlcmx5aW5nRm9ybWF0dGVyLkhUTUxGb3JtYXR0ZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLkZvcm1hdChIVE1MX09VVEVSX1BBR0UsIGZvcm1hdHRlZFJlc3VsdCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcuRm9ybWF0KEhUTUxfT1VURVJfUEFHRSwgVXRpbHMuSHRtbEVuY29kZShmb3JtYXR0ZWRSZXN1bHQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZTtcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkZvcm1hdHRlcnNcclxue1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIFRoaXMgZm9ybWF0dGVyIGlzIGludGVuZGVkIHRvIG91dHB1dCAqZXhhY3RseSB0aGUgc2FtZSBjb250ZW50IGFzIGluaXRpYWxseSBwYXJzZWQqLCB1bmxlc3MgdGhlIFxyXG4gICAgLy8vIFwiSHRtbENvbG9yaW5nXCIgb3B0aW9uIGlzIGVuYWJsZWQgKHRoZW4gaXQgc2hvdWxkIGxvb2sgdGhlIHNhbWUgaW4gSFRNTCwgZXhjZXB0IGZvciB0aGUgY29sb3JpbmcpLlxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBjbGFzcyBUU3FsSWRlbnRpdHlGb3JtYXR0ZXIgOiBJU3FsVG9rZW5Gb3JtYXR0ZXIsIElTcWxUcmVlRm9ybWF0dGVyXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIFRTcWxJZGVudGl0eUZvcm1hdHRlcigpIDogdGhpcyhmYWxzZSkgeyB9XHJcbiAgICAgICAgcHVibGljIFRTcWxJZGVudGl0eUZvcm1hdHRlcihib29sIGh0bWxDb2xvcmluZylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEhUTUxDb2xvcmluZyA9IGh0bWxDb2xvcmluZztcclxuICAgICAgICAgICAgRXJyb3JPdXRwdXRQcmVmaXggPSBNZXNzYWdpbmdDb25zdGFudHMuRm9ybWF0RXJyb3JEZWZhdWx0TWVzc2FnZSArIEVudmlyb25tZW50Lk5ld0xpbmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYm9vbCBIVE1MQ29sb3JpbmcgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIEhUTUxGb3JtYXR0ZWQgeyBnZXQgeyByZXR1cm4gSFRNTENvbG9yaW5nOyB9IH1cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEVycm9yT3V0cHV0UHJlZml4IHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBGb3JtYXRTUUxUcmVlKE5vZGUgc3FsVHJlZURvYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEJhc2VGb3JtYXR0ZXJTdGF0ZSBzdGF0ZSA9IG5ldyBCYXNlRm9ybWF0dGVyU3RhdGUoSFRNTENvbG9yaW5nKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcWxUcmVlRG9jLk5hbWUgPT0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9ST09UICYmIHNxbFRyZWVEb2MuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0VSUk9SRk9VTkQpID09IFwiMVwiKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChFcnJvck91dHB1dFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICAvL3Bhc3MgXCJkb2NcIiBpdHNlbGYgaW50byBwcm9jZXNzOiB1c2VmdWwvbmVjZXNzYXJ5IHdoZW4gZm9ybWF0dGluZyBOT0ZPUk1BVCBzdWItcmVnaW9ucyBmcm9tIHN0YW5kYXJkIGZvcm1hdHRlclxyXG4gICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QobmV3W10geyBzcWxUcmVlRG9jIH0sIHN0YXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLkR1bXBPdXRwdXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgUHJvY2Vzc1NxbE5vZGVMaXN0KElFbnVtZXJhYmxlPE5vZGU+IHJvb3RMaXN0LCBCYXNlRm9ybWF0dGVyU3RhdGUgc3RhdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3JlYWNoIChOb2RlIGNvbnRlbnRFbGVtZW50IGluIHJvb3RMaXN0KVxyXG4gICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGUoc3RhdGUsIGNvbnRlbnRFbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHZvaWQgUHJvY2Vzc1NxbE5vZGUoQmFzZUZvcm1hdHRlclN0YXRlIHN0YXRlLCBOb2RlIGNvbnRlbnRFbGVtZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9IQVNFUlJPUikgPT0gXCIxXCIpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5PcGVuQ2xhc3MoU3FsSHRtbENvbnN0YW50cy5DTEFTU19FUlJPUkhJR0hMSUdIVCk7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnRFbGVtZW50Lk5hbWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETERFVEFJTF9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUEFSRU5TOlxyXG5cdFx0XHRcdGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX1BBUkVOUzpcclxuXHRcdFx0XHRjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlM6XHJcblx0XHRcdFx0Y2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVRfUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9ST09UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CT09MRUFOX0VYUFJFU1NJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9PVEhFUl9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9ERUNMQVJFX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0RFQ0xBUkFUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVHSU5fRU5EX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJZX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FUQ0hfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfSU5QVVQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1dIRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1RIRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0VMU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JRl9TVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FTFNFX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISUxFX0xPT1A6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfQVNfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fTE9XRVJCT1VORDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fVVBQRVJCT1VORDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BTElBUzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BU19CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX09QVElPTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUklHR0VSX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFR0lOX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUk9MTEJBQ0tfVFJBTlNBQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TQVZFX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUlUX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkFUQ0hfU0VQQVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VUX09QRVJBVE9SX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX1NJTkdMRVNUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfVEFSR0VUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVEFSR0VUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVVNJTkc6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9XSEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVEhFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0pPSU5fT05fU0VDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9SRVRVUk5TOlxyXG4gICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY2hpbGROb2RlIGluIGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZShzdGF0ZSwgY2hpbGROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX01VTFRJTElORTpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiLypcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSArIFwiKi9cIiwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19DT01NRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORTpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiLS1cIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19DT01NRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORV9DU1RZTEU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIi8vXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfQ09NTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIidcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiJ1wiLCBcIicnXCIpICsgXCInXCIsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfU1RSSU5HKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIk4nXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIidcIiwgXCInJ1wiKSArIFwiJ1wiLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX1NUUklORyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9RVU9URURfU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJcXFwiXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIlxcXCJcIiwgXCJcXFwiXFxcIlwiKSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JSQUNLRVRfUVVPVEVEX05BTUU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIltcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiXVwiLCBcIl1dXCIpICsgXCJdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1BOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSSU9EOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VNSUNPTE9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQVNURVJJU0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FUVVBTFNTSUdOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0NPUEVSRVNPTFVUSU9OT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BTFBIQU9QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJPUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQU5EX09QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1JfT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5DaGlsZEJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEKS5UZXh0VmFsdWUsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX0tFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfRlVOQ1RJT04pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RBVEFUWVBFX0tFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QU0VVRE9OQU1FOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX0tFWVdPUkQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OVU1CRVJfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NT05FVEFSWV9WQUxVRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JJTkFSWV9WQUxVRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0xBQkVMOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucmVjb2duaXplZCBlbGVtZW50IGluIFNRTCBYbWwhXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0hBU0VSUk9SKSA9PSBcIjFcIilcclxuICAgICAgICAgICAgICAgIHN0YXRlLkNsb3NlQ2xhc3MoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcm1hdFNRTFRva2VucyhJVG9rZW5MaXN0IHNxbFRva2VuTGlzdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFN0cmluZ0J1aWxkZXIgb3V0U3RyaW5nID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcWxUb2tlbkxpc3QuSGFzVW5maW5pc2hlZFRva2VuKVxyXG4gICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChFcnJvck91dHB1dFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBmb3JlYWNoICh2YXIgZW50cnkgaW4gc3FsVG9rZW5MaXN0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVudHJ5LlR5cGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTXVsdGlMaW5lQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIi8qXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKGVudHJ5LlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIiovXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIi0tXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKGVudHJ5LlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnRDU3R5bGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCIvL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChlbnRyeS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIidcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoZW50cnkuVmFsdWUuUmVwbGFjZShcIidcIiwgXCInJ1wiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5OYXRpb25hbFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIk4nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKGVudHJ5LlZhbHVlLlJlcGxhY2UoXCInXCIsIFwiJydcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKFwiJ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuUXVvdGVkU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChlbnRyeS5WYWx1ZS5SZXBsYWNlKFwiXFxcIlwiLCBcIlxcXCJcXFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkJyYWNrZXRRdW90ZWROYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKFwiW1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChlbnRyeS5WYWx1ZS5SZXBsYWNlKFwiXVwiLCBcIl1dXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIl1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5PcGVuUGFyZW5zOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkNsb3NlUGFyZW5zOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkNvbW1hOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlBlcmlvZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5TZW1pY29sb246XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQ29sb246XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQXN0ZXJpc2s6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuRXF1YWxzU2lnbjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5PdGhlck5vZGU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuV2hpdGVTcGFjZTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5CaW5hcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5Nb25ldGFyeVZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlBzZXVkb05hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFN0cmluZy5BcHBlbmQoZW50cnkuVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiVW5yZWNvZ25pemVkIFRva2VuIFR5cGUgaW4gVG9rZW4gTGlzdCFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvdXRTdHJpbmcuVG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYztcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuRm9ybWF0dGVyc1xyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyIDogSVNxbFRyZWVGb3JtYXR0ZXJcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGVyKCkgOiB0aGlzKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSkgeyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIoYm9vbCByYW5kb21pemVDYXNlLCBib29sIHJhbmRvbWl6ZUNvbG9yLCBib29sIHJhbmRvbWl6ZUxpbmVMZW5ndGgsIGJvb2wgcHJlc2VydmVDb21tZW50cywgYm9vbCBzdWJ0aXR1dGVLZXl3b3JkcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFJhbmRvbWl6ZUNhc2UgPSByYW5kb21pemVDYXNlO1xyXG4gICAgICAgICAgICBSYW5kb21pemVDb2xvciA9IHJhbmRvbWl6ZUNvbG9yO1xyXG4gICAgICAgICAgICBSYW5kb21pemVMaW5lTGVuZ3RoID0gcmFuZG9taXplTGluZUxlbmd0aDtcclxuICAgICAgICAgICAgUHJlc2VydmVDb21tZW50cyA9IHByZXNlcnZlQ29tbWVudHM7XHJcbiAgICAgICAgICAgIGlmIChzdWJ0aXR1dGVLZXl3b3JkcylcclxuICAgICAgICAgICAgICAgIEtleXdvcmRNYXBwaW5nID0gT2JmdXNjYXRpbmdLZXl3b3JkTWFwcGluZy5JbnN0YW5jZTtcclxuXHJcbiAgICAgICAgICAgIEVycm9yT3V0cHV0UHJlZml4ID0gTWVzc2FnaW5nQ29uc3RhbnRzLkZvcm1hdEVycm9yRGVmYXVsdE1lc3NhZ2UgKyBFbnZpcm9ubWVudC5OZXdMaW5lO1xyXG5cclxuICAgICAgICAgICAgaWYgKFJhbmRvbWl6ZUNhc2UpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIF9jdXJyZW50Q2FzZUxpbWl0ID0gX3JhbmRvbWl6ZXIuTmV4dChNSU5fQ0FTRV9XT1JEX0xFTkdUSCwgTUFYX0NBU0VfV09SRF9MRU5HVEgpO1xyXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRseVVwcGVyY2FzZSA9IF9yYW5kb21pemVyLk5leHQoMCwgMikgPT0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGJvb2wgUmFuZG9taXplQ2FzZSB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIGJvb2wgUmFuZG9taXplQ29sb3IgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIFJhbmRvbWl6ZUxpbmVMZW5ndGggeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBib29sIFByZXNlcnZlQ29tbWVudHMgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYm9vbCBIVE1MRm9ybWF0dGVkIHsgZ2V0IHsgcmV0dXJuIFJhbmRvbWl6ZUNvbG9yOyB9IH1cclxuXHJcbiAgICAgICAgcHVibGljIElEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPiBLZXl3b3JkTWFwcGluZyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPigpO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEVycm9yT3V0cHV0UHJlZml4IHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb25zdCBpbnQgTUlOX0NBU0VfV09SRF9MRU5HVEggPSAyO1xyXG4gICAgICAgIHByaXZhdGUgY29uc3QgaW50IE1BWF9DQVNFX1dPUkRfTEVOR1RIID0gODtcclxuICAgICAgICBwcml2YXRlIFJhbmRvbSBfcmFuZG9taXplciA9IG5ldyBSYW5kb20oKTtcclxuICAgICAgICBwcml2YXRlIGludCBfY3VycmVudENhc2VMZW5ndGggPSAwO1xyXG4gICAgICAgIHByaXZhdGUgaW50IF9jdXJyZW50Q2FzZUxpbWl0ID0gODtcclxuICAgICAgICBwcml2YXRlIGJvb2wgX2N1cnJlbnRseVVwcGVyY2FzZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEZvcm1hdFNRTFRyZWUoTm9kZSBzcWxUcmVlRG9jKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy90aHJlYWQtc2FmZSAtIGVhY2ggY2FsbCB0byBGb3JtYXRTUUxUcmVlKCkgZ2V0cyBpdHMgb3duIGluZGVwZW5kZW50IHN0YXRlIG9iamVjdFxyXG4gICAgICAgICAgICBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0aW5nU3RhdGUgc3RhdGUgPSBuZXcgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGluZ1N0YXRlKFJhbmRvbWl6ZUNvbG9yLCBSYW5kb21pemVMaW5lTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcWxUcmVlRG9jLk5hbWUgPT0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9ST09UICYmIHNxbFRyZWVEb2MuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0VSUk9SRk9VTkQpID09IFwiMVwiKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChFcnJvck91dHB1dFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICAvL3Bhc3MgXCJkb2NcIiBpdHNlbGYgaW50byBwcm9jZXNzOiB1c2VmdWwvbmVjZXNzYXJ5IHdoZW4gZm9ybWF0dGluZyBNSU5JRlkgc3ViLXJlZ2lvbnMgZnJvbSBzdGFuZGFyZCBmb3JtYXR0ZXJcclxuICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KG5ld1tdIHsgc3FsVHJlZURvYyB9LCBzdGF0ZSk7XHJcbiAgICAgICAgICAgIHN0YXRlLkJyZWFrSWZFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuRHVtcE91dHB1dCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFByb2Nlc3NTcWxOb2RlTGlzdChJRW51bWVyYWJsZTxOb2RlPiByb290TGlzdCwgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjb250ZW50RWxlbWVudCBpbiByb290TGlzdClcclxuICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlKGNvbnRlbnRFbGVtZW50LCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgUHJvY2Vzc1NxbE5vZGUoTm9kZSBjb250ZW50RWxlbWVudCwgVFNxbE9iZnVzY2F0aW5nRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3dpdGNoIChjb250ZW50RWxlbWVudC5OYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfUk9PVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VUX09QRVJBVE9SX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0RFQ0xBUkVfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfREVDTEFSQVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NBVkVfVFJBTlNBQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NSVRfVFJBTlNBQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ST0xMQkFDS19UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJTEVfTE9PUDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lGX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVEFSR0VUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9JTlBVVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JPT0xFQU5fRVhQUkVTU0lPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fTE9XRVJCT1VORDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fVVBQRVJCT1VORDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9TSU5HTEVTVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9BQ1RJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19UQVJHRVQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19SRUNJUElFTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9USEVOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSk9JTl9PTl9TRUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FMSUFTOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfQVNfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJJR0dFUl9DT05ESVRJT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX09QVElPTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQVNfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUkVUVVJOUzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1VTSU5HOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfV0hFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fQ09ORElUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVHSU5fRU5EX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJZX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FUQ0hfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1NUQVRFTUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfV0hFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfVEhFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfRUxTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FORF9PUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09SX09QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlc2UgYXJlIGFsbCBjb250YWluZXJzLCBhbmQgdGhlcmVmb3JlIGhhdmUgbm8gaW1wYWN0IG9uIG9iZnVzY2F0ZWQgb3V0cHV0LlxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETERFVEFJTF9QQVJFTlM6XHJcblx0XHRcdFx0Y2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fUEFSRU5TOlxyXG5cdFx0XHRcdGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUzpcclxuXHRcdFx0XHRjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVRfUEFSRU5TOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiKFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZEZvckFuc2lTdHJpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElURVNQQUNFOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vZG8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfTVVMVElMSU5FOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcmVzZXJ2ZUNvbW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiLypcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSArIFwiKi9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcmVzZXJ2ZUNvbW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiLS1cIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiXFxyXCIsIFwiXCIpLlJlcGxhY2UoXCJcXG5cIiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FX0NTVFlMRTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJlc2VydmVDb21tZW50cylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIi8vXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIlxcclwiLCBcIlwiKS5SZXBsYWNlKFwiXFxuXCIsIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JBVENIX1NFUEFSQVRPUjpcclxuICAgICAgICAgICAgICAgICAgICAvL25ld2xpbmUgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHByZXZpb3VzIGVsZW1lbnQgcmVjb21tZW5kZWQgYSBicmVhayBvciBub3QuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlSWZFeHBlY3RlZEZvckFuc2lTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIidcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiJ1wiLCBcIicnXCIpICsgXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWRGb3JBbnNpU3RyaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJOJ1wiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCInXCIsIFwiJydcIikgKyBcIidcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZEZvckFuc2lTdHJpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JSQUNLRVRfUVVPVEVEX05BTUU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJbXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIl1cIiwgXCJdXVwiKSArIFwiXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9RVU9URURfU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiXFxcIlwiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCJcXFwiXCIsIFwiXFxcIlxcXCJcIikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUE6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJJT0Q6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRU1JQ09MT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TQ09QRVJFU09MVVRJT05PUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FTVEVSSVNLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVFVQUxTU0lHTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVST1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01QT1VOREtFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhUKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9MQUJFTDpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQUxQSEFPUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RBVEFUWVBFX0tFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QU0VVRE9OQU1FOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQklOQVJZX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoRm9ybWF0S2V5d29yZChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OVU1CRVJfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvTG93ZXJJbnZhcmlhbnQoKS5Db250YWlucyhcImVcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkRm9yRSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuRXF1YWxzKFwiMFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWRGb3JYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTU9ORVRBUllfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuU3Vic3RyaW5nKDAsIDEpLkVxdWFscyhcIiRcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwYWNlRXhwZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLkxlbmd0aCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkRm9yUGx1c01pbnVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9LRVlXT1JEOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGFjZUV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJVbnJlY29nbml6ZWQgZWxlbWVudCBpbiBTUUwgWG1sIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgRm9ybWF0S2V5d29yZChzdHJpbmcga2V5d29yZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN0cmluZyBvdXRwdXRLZXl3b3JkO1xyXG4gICAgICAgICAgICBpZiAoIUtleXdvcmRNYXBwaW5nLlRyeUdldFZhbHVlKGtleXdvcmQuVG9VcHBlckludmFyaWFudCgpLCBvdXQgb3V0cHV0S2V5d29yZCkpXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRLZXl3b3JkID0ga2V5d29yZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChSYW5kb21pemVDYXNlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEdldENhc2VSYW5kb21pemVkKG91dHB1dEtleXdvcmQpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0S2V5d29yZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nIEdldENhc2VSYW5kb21pemVkKHN0cmluZyBvdXRwdXRLZXl3b3JkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2hhcltdIGtleXdvcmRDaGFyQXJyYXkgPSBvdXRwdXRLZXl3b3JkLlRvQ2hhckFycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwga2V5d29yZENoYXJBcnJheS5MZW5ndGg7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9jdXJyZW50Q2FzZUxlbmd0aCA9PSBfY3VycmVudENhc2VMaW1pdClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBfY3VycmVudENhc2VMaW1pdCA9IF9yYW5kb21pemVyLk5leHQoTUlOX0NBU0VfV09SRF9MRU5HVEgsIE1BWF9DQVNFX1dPUkRfTEVOR1RIKTtcclxuICAgICAgICAgICAgICAgICAgICBfY3VycmVudGx5VXBwZXJjYXNlID0gX3JhbmRvbWl6ZXIuTmV4dCgwLCAyKSA9PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXJyZW50Q2FzZUxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAga2V5d29yZENoYXJBcnJheVtpXSA9IF9jdXJyZW50bHlVcHBlcmNhc2UgPyBrZXl3b3JkQ2hhckFycmF5W2ldLlRvVXBwZXJJbnZhcmlhbnQoKSA6IGtleXdvcmRDaGFyQXJyYXlbaV0uVG9Mb3dlckludmFyaWFudCgpO1xyXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRDYXNlTGVuZ3RoKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBzdHJpbmcoa2V5d29yZENoYXJBcnJheSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjbGFzcyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0aW5nU3RhdGUgOiBCYXNlRm9ybWF0dGVyU3RhdGVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHB1YmxpYyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0aW5nU3RhdGUoYm9vbCByYW5kb21pemVDb2xvciwgYm9vbCByYW5kb21pemVMaW5lTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgOiBiYXNlKHJhbmRvbWl6ZUNvbG9yKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBSYW5kb21pemVDb2xvciA9IHJhbmRvbWl6ZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgUmFuZG9taXplTGluZUxlbmd0aCA9IHJhbmRvbWl6ZUxpbmVMZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFJhbmRvbWl6ZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXJyZW50Q29sb3JMaW1pdCA9IF9yYW5kb21pemVyLk5leHQoTUlOX0NPTE9SX1dPUkRfTEVOR1RILCBNQVhfQ09MT1JfV09SRF9MRU5HVEgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXJyZW50Q29sb3IgPSBzdHJpbmcuRm9ybWF0KFwiI3swOngyfXsxOngyfXsyOngyfVwiLCBfcmFuZG9taXplci5OZXh0KDAsIDEyNyksIF9yYW5kb21pemVyLk5leHQoMCwgMTI3KSwgX3JhbmRvbWl6ZXIuTmV4dCgwLCAxMjcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChSYW5kb21pemVMaW5lTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzTGluZUxpbWl0ID0gX3JhbmRvbWl6ZXIuTmV4dChNSU5fTElORV9MRU5HVEgsIE1BWF9MSU5FX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByaXZhdGUgY29uc3QgaW50IE1JTl9DT0xPUl9XT1JEX0xFTkdUSCA9IDM7XHJcbiAgICAgICAgICAgIHByaXZhdGUgY29uc3QgaW50IE1BWF9DT0xPUl9XT1JEX0xFTkdUSCA9IDE1O1xyXG4gICAgICAgICAgICBwcml2YXRlIGNvbnN0IGludCBNSU5fTElORV9MRU5HVEggPSAxMDtcclxuICAgICAgICAgICAgcHJpdmF0ZSBjb25zdCBpbnQgTUFYX0xJTkVfTEVOR1RIID0gODA7XHJcblxyXG4gICAgICAgICAgICBwcml2YXRlIGJvb2wgUmFuZG9taXplQ29sb3IgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBwcml2YXRlIGJvb2wgUmFuZG9taXplTGluZUxlbmd0aCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgICAgICBpbnRlcm5hbCBib29sIEJyZWFrRXhwZWN0ZWQgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBpbnRlcm5hbCBib29sIFNwYWNlRXhwZWN0ZWRGb3JBbnNpU3RyaW5nIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgaW50ZXJuYWwgYm9vbCBTcGFjZUV4cGVjdGVkRm9yRSB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIGludGVybmFsIGJvb2wgU3BhY2VFeHBlY3RlZEZvclggeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBpbnRlcm5hbCBib29sIFNwYWNlRXhwZWN0ZWRGb3JQbHVzTWludXMgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgICAgICBpbnRlcm5hbCBib29sIFNwYWNlRXhwZWN0ZWQgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICAgICAgcHJpdmF0ZSBSYW5kb20gX3JhbmRvbWl6ZXIgPSBuZXcgUmFuZG9tKCk7XHJcbiAgICAgICAgICAgIHByaXZhdGUgaW50IF9jdXJyZW50TGluZUxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIHByaXZhdGUgaW50IF90aGlzTGluZUxpbWl0ID0gODA7XHJcblxyXG4gICAgICAgICAgICBwcml2YXRlIGludCBfY3VycmVudENvbG9yTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgcHJpdmF0ZSBpbnQgX2N1cnJlbnRDb2xvckxpbWl0ID0gMTU7XHJcbiAgICAgICAgICAgIHByaXZhdGUgc3RyaW5nIF9jdXJyZW50Q29sb3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgcHVibGljIHZvaWQgQnJlYWtJZkV4cGVjdGVkKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrRXhwZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgQnJlYWtFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0TGluZUJyZWFrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0U3BhY2VOb0xvbmdlckV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N1cnJlbnRMaW5lTGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJhbmRvbWl6ZUxpbmVMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzTGluZUxpbWl0ID0gX3JhbmRvbWl6ZXIuTmV4dCgxMCwgODApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBTcGFjZUlmRXhwZWN0ZWRGb3JBbnNpU3RyaW5nKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKFNwYWNlRXhwZWN0ZWRGb3JBbnNpU3RyaW5nKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudChcIiBcIiwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0U3BhY2VOb0xvbmdlckV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIFNwYWNlSWZFeHBlY3RlZCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChTcGFjZUV4cGVjdGVkKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudChcIiBcIiwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0U3BhY2VOb0xvbmdlckV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIEFkZE91dHB1dENvbnRlbnQoc3RyaW5nIGNvbnRlbnQsIHN0cmluZyBodG1sQ2xhc3NOYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHRtbENsYXNzTmFtZSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RTdXBwb3J0ZWRFeGNlcHRpb24oXCJPYmZ1c2NhdGluZyBmb3JtYXR0ZXIgZG9lcyBub3QgdXNlIGh0bWwgY2xhc3MgbmFtZXMuLi5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgQnJlYWtJZkV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICBTcGFjZUlmRXhwZWN0ZWQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChfY3VycmVudExpbmVMZW5ndGggPiAwICYmIF9jdXJyZW50TGluZUxlbmd0aCArIGNvbnRlbnQuTGVuZ3RoID4gX3RoaXNMaW5lTGltaXQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgQnJlYWtJZkV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoU3BhY2VFeHBlY3RlZEZvckUgJiYgY29udGVudC5TdWJzdHJpbmcoMCwgMSkuVG9Mb3dlcigpLkVxdWFscyhcImVcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKFNwYWNlRXhwZWN0ZWRGb3JYICYmIGNvbnRlbnQuU3Vic3RyaW5nKDAsIDEpLlRvTG93ZXIoKS5FcXVhbHMoXCJ4XCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChTcGFjZUV4cGVjdGVkRm9yUGx1c01pbnVzICYmIGNvbnRlbnQuU3Vic3RyaW5nKDAsIDEpLkVxdWFscyhcIitcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKFNwYWNlRXhwZWN0ZWRGb3JQbHVzTWludXMgJiYgY29udGVudC5TdWJzdHJpbmcoMCwgMSkuRXF1YWxzKFwiLVwiKSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgU3BhY2VFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgU3BhY2VJZkV4cGVjdGVkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRMaW5lTGVuZ3RoICs9IGNvbnRlbnQuTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKFJhbmRvbWl6ZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGludCBsZW5ndGhXcml0dGVuID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobGVuZ3RoV3JpdHRlbiA8IGNvbnRlbnQuTGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jdXJyZW50Q29sb3JMZW5ndGggPT0gX2N1cnJlbnRDb2xvckxpbWl0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VycmVudENvbG9yTGltaXQgPSBfcmFuZG9taXplci5OZXh0KE1JTl9DT0xPUl9XT1JEX0xFTkdUSCwgTUFYX0NPTE9SX1dPUkRfTEVOR1RIKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXJyZW50Q29sb3IgPSBzdHJpbmcuRm9ybWF0KFwiI3swOngyfXsxOngyfXsyOngyfVwiLCBfcmFuZG9taXplci5OZXh0KDAsIDEyNyksIF9yYW5kb21pemVyLk5leHQoMCwgMTI3KSwgX3JhbmRvbWl6ZXIuTmV4dCgwLCAxMjcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXJyZW50Q29sb3JMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnQgd3JpdGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuTGVuZ3RoIC0gbGVuZ3RoV3JpdHRlbiA8IF9jdXJyZW50Q29sb3JMaW1pdCAtIF9jdXJyZW50Q29sb3JMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0aW5nID0gY29udGVudC5MZW5ndGggLSBsZW5ndGhXcml0dGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0aW5nID0gX2N1cnJlbnRDb2xvckxpbWl0IC0gX2N1cnJlbnRDb2xvckxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudFJhdyhcIjxzcGFuIHN0eWxlPVxcXCJjb2xvcjogXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlLkFkZE91dHB1dENvbnRlbnRSYXcoX2N1cnJlbnRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudFJhdyhcIjtcXFwiPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5BZGRPdXRwdXRDb250ZW50UmF3KFV0aWxzLkh0bWxFbmNvZGUoY29udGVudC5TdWJzdHJpbmcobGVuZ3RoV3JpdHRlbiwgd3JpdGluZykpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5BZGRPdXRwdXRDb250ZW50UmF3KFwiPC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoV3JpdHRlbiArPSB3cml0aW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY3VycmVudENvbG9yTGVuZ3RoICs9IHdyaXRpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2UuQWRkT3V0cHV0Q29udGVudChjb250ZW50LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFNldFNwYWNlTm9Mb25nZXJFeHBlY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcml2YXRlIHZvaWQgU2V0U3BhY2VOb0xvbmdlckV4cGVjdGVkKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU3BhY2VFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgU3BhY2VFeHBlY3RlZEZvckFuc2lTdHJpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIFNwYWNlRXhwZWN0ZWRGb3JFID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBTcGFjZUV4cGVjdGVkRm9yWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgU3BhY2VFeHBlY3RlZEZvclBsdXNNaW51cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgdm9pZCBBZGRPdXRwdXRMaW5lQnJlYWsoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL2Rvbid0IHdhbnQgdGhlIG91dGVyIGNvZGUgdG8gd3JpdGUgbGluZSBicmVha3MgYXQgYWxsXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90U3VwcG9ydGVkRXhjZXB0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcbkFkZGl0aW9uYWwgQ29udHJpYnV0b3JzOlxyXG4gKiBUaW1vdGh5IEtsZW5rZSwgMjAxMlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQuUmVndWxhckV4cHJlc3Npb25zO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuSW50ZXJmYWNlcztcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5Gb3JtYXR0ZXJzXHJcbntcclxuICAgIHB1YmxpYyBjbGFzcyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXIgOiBJU3FsVHJlZUZvcm1hdHRlclxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXIoKSA6IHRoaXMobmV3IFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMoKSkgeyB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFRTcWxTdGFuZGFyZEZvcm1hdHRlcihUU3FsU3RhbmRhcmRGb3JtYXR0ZXJPcHRpb25zIG9wdGlvbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50TnVsbEV4Y2VwdGlvbihcIm9wdGlvbnNcIik7XHJcblxyXG4gICAgICAgICAgICBPcHRpb25zID0gb3B0aW9ucztcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLktleXdvcmRTdGFuZGFyZGl6YXRpb24pXHJcbiAgICAgICAgICAgICAgICBLZXl3b3JkTWFwcGluZyA9IFN0YW5kYXJkS2V5d29yZFJlbWFwcGluZy5JbnN0YW5jZTtcclxuICAgICAgICAgICAgRXJyb3JPdXRwdXRQcmVmaXggPSBNZXNzYWdpbmdDb25zdGFudHMuRm9ybWF0RXJyb3JEZWZhdWx0TWVzc2FnZSArIEVudmlyb25tZW50Lk5ld0xpbmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgdGhlIGNvbnN0cnVjdG9yIHdpdGggdGhlIFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMgcGFyYW1ldGVyXCIpXVxyXG4gICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXIoc3RyaW5nIGluZGVudFN0cmluZywgaW50IHNwYWNlc1BlclRhYiwgaW50IG1heExpbmVXaWR0aCwgYm9vbCBleHBhbmRDb21tYUxpc3RzLCBib29sIHRyYWlsaW5nQ29tbWFzLCBib29sIHNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hLCBib29sIGV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucywgYm9vbCBleHBhbmRDYXNlU3RhdGVtZW50cywgYm9vbCBleHBhbmRCZXR3ZWVuQ29uZGl0aW9ucywgYm9vbCBicmVha0pvaW5PblNlY3Rpb25zLCBib29sIHVwcGVyY2FzZUtleXdvcmRzLCBib29sIGh0bWxDb2xvcmluZywgYm9vbCBrZXl3b3JkU3RhbmRhcmRpemF0aW9uKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgT3B0aW9ucyA9IG5ldyBUU3FsU3RhbmRhcmRGb3JtYXR0ZXJPcHRpb25zXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgSW5kZW50U3RyaW5nID0gaW5kZW50U3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIFNwYWNlc1BlclRhYiA9IHNwYWNlc1BlclRhYixcclxuICAgICAgICAgICAgICAgICAgICBNYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgRXhwYW5kQ29tbWFMaXN0cyA9IGV4cGFuZENvbW1hTGlzdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgVHJhaWxpbmdDb21tYXMgPSB0cmFpbGluZ0NvbW1hcyxcclxuICAgICAgICAgICAgICAgICAgICBTcGFjZUFmdGVyRXhwYW5kZWRDb21tYSA9IHNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hLFxyXG4gICAgICAgICAgICAgICAgICAgIEV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyA9IGV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBFeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyA9IGV4cGFuZEJldHdlZW5Db25kaXRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIEV4cGFuZENhc2VTdGF0ZW1lbnRzID0gZXhwYW5kQ2FzZVN0YXRlbWVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgVXBwZXJjYXNlS2V5d29yZHMgPSB1cHBlcmNhc2VLZXl3b3JkcyxcclxuICAgICAgICAgICAgICAgICAgICBCcmVha0pvaW5PblNlY3Rpb25zID0gYnJlYWtKb2luT25TZWN0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBIVE1MQ29sb3JpbmcgPSBodG1sQ29sb3JpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgS2V5d29yZFN0YW5kYXJkaXphdGlvbiA9IGtleXdvcmRTdGFuZGFyZGl6YXRpb25cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoa2V5d29yZFN0YW5kYXJkaXphdGlvbilcclxuICAgICAgICAgICAgICAgIEtleXdvcmRNYXBwaW5nID0gU3RhbmRhcmRLZXl3b3JkUmVtYXBwaW5nLkluc3RhbmNlO1xyXG4gICAgICAgICAgICBFcnJvck91dHB1dFByZWZpeCA9IE1lc3NhZ2luZ0NvbnN0YW50cy5Gb3JtYXRFcnJvckRlZmF1bHRNZXNzYWdlICsgRW52aXJvbm1lbnQuTmV3TGluZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHVibGljIFRTcWxTdGFuZGFyZEZvcm1hdHRlck9wdGlvbnMgT3B0aW9ucyB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuXHJcbiAgICAgICAgcHVibGljIElEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPiBLZXl3b3JkTWFwcGluZyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPigpO1xyXG5cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5JbmRlbnRTdHJpbmcgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIEluZGVudFN0cmluZyB7IGdldCB7IHJldHVybiBPcHRpb25zLkluZGVudFN0cmluZzsgfSBzZXQgeyBPcHRpb25zLkluZGVudFN0cmluZyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5TcGFjZXNQZXJUYWIgaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgaW50IFNwYWNlc1BlclRhYiB7IGdldCB7IHJldHVybiBPcHRpb25zLlNwYWNlc1BlclRhYjsgfSBzZXQgeyBPcHRpb25zLlNwYWNlc1BlclRhYiA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5NYXhMaW5lV2lkdGggaW5zdGVhZFwiKV1cclxuICAgICAgICBwdWJsaWMgaW50IE1heExpbmVXaWR0aCB7IGdldCB7IHJldHVybiBPcHRpb25zLk1heExpbmVXaWR0aDsgfSBzZXQgeyBPcHRpb25zLk1heExpbmVXaWR0aCA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5FeHBhbmRDb21tYUxpc3RzIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIGJvb2wgRXhwYW5kQ29tbWFMaXN0cyB7IGdldCB7IHJldHVybiBPcHRpb25zLkV4cGFuZENvbW1hTGlzdHM7IH0gc2V0IHsgT3B0aW9ucy5FeHBhbmRDb21tYUxpc3RzID0gdmFsdWU7IH0gfVxyXG4gICAgICAgIFtPYnNvbGV0ZShcIlVzZSBPcHRpb25zLlRyYWlsaW5nQ29tbWFzIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIGJvb2wgVHJhaWxpbmdDb21tYXMgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5UcmFpbGluZ0NvbW1hczsgfSBzZXQgeyBPcHRpb25zLlRyYWlsaW5nQ29tbWFzID0gdmFsdWU7IH0gfVxyXG4gICAgICAgIFtPYnNvbGV0ZShcIlVzZSBPcHRpb25zLlNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIGJvb2wgU3BhY2VBZnRlckV4cGFuZGVkQ29tbWEgeyBnZXQgeyByZXR1cm4gT3B0aW9ucy5TcGFjZUFmdGVyRXhwYW5kZWRDb21tYTsgfSBzZXQgeyBPcHRpb25zLlNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hID0gdmFsdWU7IH0gfVxyXG4gICAgICAgIFtPYnNvbGV0ZShcIlVzZSBPcHRpb25zLkV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyB7IGdldCB7IHJldHVybiBPcHRpb25zLkV4cGFuZEJvb2xlYW5FeHByZXNzaW9uczsgfSBzZXQgeyBPcHRpb25zLkV4cGFuZEJvb2xlYW5FeHByZXNzaW9ucyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5FeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZENhc2VTdGF0ZW1lbnRzIHsgZ2V0IHsgcmV0dXJuIE9wdGlvbnMuRXhwYW5kQ2FzZVN0YXRlbWVudHM7IH0gc2V0IHsgT3B0aW9ucy5FeHBhbmRDYXNlU3RhdGVtZW50cyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5FeHBhbmRDYXNlU3RhdGVtZW50cyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIEV4cGFuZEJldHdlZW5Db25kaXRpb25zIHsgZ2V0IHsgcmV0dXJuIE9wdGlvbnMuRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnM7IH0gc2V0IHsgT3B0aW9ucy5FeHBhbmRCZXR3ZWVuQ29uZGl0aW9ucyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5VcHBlcmNhc2VLZXl3b3JkcyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIFVwcGVyY2FzZUtleXdvcmRzIHsgZ2V0IHsgcmV0dXJuIE9wdGlvbnMuVXBwZXJjYXNlS2V5d29yZHM7IH0gc2V0IHsgT3B0aW9ucy5VcHBlcmNhc2VLZXl3b3JkcyA9IHZhbHVlOyB9IH1cclxuICAgICAgICBbT2Jzb2xldGUoXCJVc2UgT3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zIGluc3RlYWRcIildXHJcbiAgICAgICAgcHVibGljIGJvb2wgQnJlYWtKb2luT25TZWN0aW9ucyB7IGdldCB7IHJldHVybiBPcHRpb25zLkJyZWFrSm9pbk9uU2VjdGlvbnM7IH0gc2V0IHsgT3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zID0gdmFsdWU7IH0gfVxyXG4gICAgICAgIFtPYnNvbGV0ZShcIlVzZSBPcHRpb25zLkhUTUxDb2xvcmluZyBpbnN0ZWFkXCIpXVxyXG4gICAgICAgIHB1YmxpYyBib29sIEhUTUxDb2xvcmluZyB7IGdldCB7IHJldHVybiBPcHRpb25zLkhUTUxDb2xvcmluZzsgfSBzZXQgeyBPcHRpb25zLkhUTUxDb2xvcmluZyA9IHZhbHVlOyB9IH1cclxuXHJcbiAgICAgICAgcHVibGljIGJvb2wgSFRNTEZvcm1hdHRlZCB7IGdldCB7IHJldHVybiBPcHRpb25zLkhUTUxDb2xvcmluZzsgfSB9XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBFcnJvck91dHB1dFByZWZpeCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRm9ybWF0U1FMVHJlZShOb2RlIHNxbFRyZWVEb2MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL3RocmVhZC1zYWZlIC0gZWFjaCBjYWxsIHRvIEZvcm1hdFNRTFRyZWUoKSBnZXRzIGl0cyBvd24gaW5kZXBlbmRlbnQgc3RhdGUgb2JqZWN0XHJcbiAgICAgICAgICAgIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzdGF0ZSA9IG5ldyBUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUoT3B0aW9ucy5IVE1MQ29sb3JpbmcsIE9wdGlvbnMuSW5kZW50U3RyaW5nLCBPcHRpb25zLlNwYWNlc1BlclRhYiwgT3B0aW9ucy5NYXhMaW5lV2lkdGgsIDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNxbFRyZWVEb2MuTmFtZSA9PSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1JPT1QgJiYgc3FsVHJlZURvYy5HZXRBdHRyaWJ1dGVWYWx1ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfRVJST1JGT1VORCkgPT0gXCIxXCIpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEVycm9yT3V0cHV0UHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChzcWxUcmVlRG9jLkNoaWxkcmVuLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICBXaGl0ZVNwYWNlX0JyZWFrQXNFeHBlY3RlZChzdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvL3NvbWVvbmUgZm9yZ290IHRvIGNsb3NlIGEgXCJbbm9mb3JtYXRdXCIgb3IgXCJbbWluaWZ5XVwiIHJlZ2lvbi4uLiB3ZSdsbCBhc3N1bWUgdGhhdCdzIG9rXHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IFNwZWNpYWxSZWdpb25UeXBlLk5vRm9ybWF0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBOb2RlIHNraXBwZWRYbWwgPSBOb2RlRXh0ZW5zaW9ucy5FeHRyYWN0U3RydWN0dXJlQmV0d2VlbihzdGF0ZS5SZWdpb25TdGFydE5vZGUsIHNxbFRyZWVEb2MpO1xyXG4gICAgICAgICAgICAgICAgVFNxbElkZW50aXR5Rm9ybWF0dGVyIHRlbXBGb3JtYXR0ZXIgPSBuZXcgVFNxbElkZW50aXR5Rm9ybWF0dGVyKE9wdGlvbnMuSFRNTENvbG9yaW5nKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnRSYXcodGVtcEZvcm1hdHRlci5Gb3JtYXRTUUxUcmVlKHNraXBwZWRYbWwpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IFNwZWNpYWxSZWdpb25UeXBlLk1pbmlmeSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTm9kZSBza2lwcGVkWG1sID0gTm9kZUV4dGVuc2lvbnMuRXh0cmFjdFN0cnVjdHVyZUJldHdlZW4oc3RhdGUuUmVnaW9uU3RhcnROb2RlLCBzcWxUcmVlRG9jKTtcclxuICAgICAgICAgICAgICAgIFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRlciB0ZW1wRm9ybWF0dGVyID0gbmV3IFRTcWxPYmZ1c2NhdGluZ0Zvcm1hdHRlcigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKEhUTUxGb3JtYXR0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudFJhdyhVdGlscy5IdG1sRW5jb2RlKHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSkpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnRSYXcodGVtcEZvcm1hdHRlci5Gb3JtYXRTUUxUcmVlKHNraXBwZWRYbWwpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuRHVtcE91dHB1dCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFByb2Nlc3NTcWxOb2RlTGlzdChJRW51bWVyYWJsZTxOb2RlPiByb290TGlzdCwgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjb250ZW50RWxlbWVudCBpbiByb290TGlzdClcclxuICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlKGNvbnRlbnRFbGVtZW50LCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgUHJvY2Vzc1NxbE5vZGUoTm9kZSBjb250ZW50RWxlbWVudCwgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW50IGluaXRpYWxJbmRlbnQgPSBzdGF0ZS5JbmRlbnRMZXZlbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5HZXRBdHRyaWJ1dGVWYWx1ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfSEFTRVJST1IpID09IFwiMVwiKVxyXG4gICAgICAgICAgICAgICAgc3RhdGUuT3BlbkNsYXNzKFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfRVJST1JISUdITElHSFQpO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChjb250ZW50RWxlbWVudC5OYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVTdGF0ZW1lbnRzKGNvbnRlbnRFbGVtZW50LCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVzZXRLZXl3b3JkcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlN0YXRlbWVudEJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuVW5JbmRlbnRJbml0aWFsQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG5cdFx0XHRcdFx0aWYgKE9wdGlvbnMuTmV3Q2xhdXNlTGluZUJyZWFrcyA+IDApXHJcblx0ICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGlmIChPcHRpb25zLk5ld0NsYXVzZUxpbmVCcmVha3MgPiAxKVxyXG5cdFx0XHRcdFx0XHRzdGF0ZS5BZGRpdGlvbmFsQnJlYWtzRXhwZWN0ZWQgPSBPcHRpb25zLk5ld0NsYXVzZUxpbmVCcmVha3MgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFVF9PUEVSQVRPUl9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGVjcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKTsgLy90aGlzIGlzIHRoZSBvbmUgYWxyZWFkeSByZWNvbW1lbmRlZCBieSB0aGUgc3RhcnQgb2YgdGhlIGNsYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7IC8vdGhpcyBpcyB0aGUgb25lIHdlIGFkZGl0aW9uYWxseSB3YW50IHRvIGFwcGx5XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkaXRpb25hbEJyZWFrc0V4cGVjdGVkID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CQVRDSF9TRVBBUkFUT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZXdsaW5lIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBwcmV2aW91cyBlbGVtZW50IHJlY29tbWVuZGVkIGEgYnJlYWsgb3Igbm90LlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfT1RIRVJfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9ERUNMQVJBVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFR0lOX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0FWRV9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1JPTExCQUNLX1RSQU5TQUNUSU9OOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElMRV9MT09QOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSUZfU1RBVEVNRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX1dJVEhfQ0xBVVNFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0s6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19ERVRBSUw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9UQVJHRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9JTlBVVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JPT0xFQU5fRVhQUkVTU0lPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fTE9XRVJCT1VORDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fVVBQRVJCT1VORDpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9TSU5HTEVTVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9BQ1RJT046XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJvb2wgc2luZ2xlU3RhdGVtZW50SXNJZiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgc3RhdGVtZW50IGluIGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjbGF1c2UgaW4gc3RhdGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgaWZTdGF0ZW1lbnQgaW4gY2xhdXNlLkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JRl9TVEFURU1FTlQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZVN0YXRlbWVudElzSWYgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdGlmIChzaW5nbGVTdGF0ZW1lbnRJc0lmICYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0UpKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQvL2FydGlmaWNpYWxseSBkZWNyZW1lbnQgaW5kZW50IGFuZCBza2lwIG5ldyBzdGF0ZW1lbnQgYnJlYWsgZm9yIFwiRUxTRSBJRlwiIGNvbnN0cnVjdHNcclxuXHRcdFx0XHRcdFx0c3RhdGUuRGVjcmVtZW50SW5kZW50KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG5cdFx0XHRcdFx0aWYgKHNpbmdsZVN0YXRlbWVudElzSWYgJiYgY29udGVudEVsZW1lbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FTFNFX0NMQVVTRSkpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8vYnJpbmcgaW5kZW50IGJhY2sgdG8gc3ltbWV0cmljYWwgbGV2ZWxcclxuXHRcdFx0XHRcdFx0c3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c3RhdGUuU3RhdGVtZW50QnJlYWtFeHBlY3RlZCA9IGZhbHNlOyAvL3RoZSByZXNwb25zaWJpbGl0eSBmb3IgYnJlYWtpbmcgd2lsbCBiZSB3aXRoIHRoZSBPVVRFUiBzdGF0ZW1lbnQ7IHRoZXJlIHNob3VsZCBiZSBubyBjb25zZXF1ZW5jZSBwcm9wYWdhdGluZyBvdXQgZnJvbSBzdGF0ZW1lbnRzIGluIHRoaXMgY29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlVuSW5kZW50SW5pdGlhbEJyZWFrID0gZmFsc2U7IC8vaWYgdGhlcmUgd2FzIG5vIHdvcmQgc3BhY2luZyBhZnRlciB0aGUgbGFzdCBjb250ZW50IHN0YXRlbWVudCdzIGNsYXVzZSBzdGFydGVyLCBkb2Vzbid0IG1lYW4gdGhlIHVuSW5kZW50IHNob3VsZCBwcm9wYWdhdGUgdG8gdGhlIGZvbGxvd2luZyBjb250ZW50IVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1RBUkdFVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1JFQ0lQSUVOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NPTkRJVElPTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RIRU46XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuVW5JbmRlbnRJbml0aWFsQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0pPSU5fT05fU0VDVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5CcmVha0pvaW5PblNlY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPcHRpb25zLkJyZWFrSm9pbk9uU2VjdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkluY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPcHRpb25zLkJyZWFrSm9pbk9uU2VjdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9BTElBUzpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5VbkluZGVudEluaXRpYWxCcmVhayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiksIHN0YXRlLkRlY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9TSU5HTEVTVEFURU1FTlQpLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0FTX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0ZPUl9CTE9DSzpcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOKSwgc3RhdGUuRGVjcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkluY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1RSSUdHRVJfQ09ORElUSU9OOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0ZPUl9PUFRJT05TOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FTX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4pLCBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1JFVFVSTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9VU0lORzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1dIRU46XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuVW5JbmRlbnRJbml0aWFsQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbiwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fQ09ORElUSU9OOlxyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4pLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0xPV0VSQk9VTkQpLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9wdGlvbnMuRXhwYW5kQmV0d2VlbkNvbmRpdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFKSwgc3RhdGUuRGVjcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9VUFBFUkJPVU5EKSwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETERFVEFJTF9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9QQVJFTlM6XHJcblx0XHRcdFx0XHQvL3NpbXBseSBwcm9jZXNzIHN1Yi1ub2RlcyAtIGRvbid0IGFkZCBzcGFjZSBvciBleHBlY3QgYW55IGxpbmVicmVha3MgKGJ1dCByZXNwZWN0IGxpbmVicmVha3MgaWYgbmVjZXNzYXJ5KVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKFwiKFwiKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuLCBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGVjcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9CcmVha0FzRXhwZWN0ZWQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoRm9ybWF0T3BlcmF0b3IoXCIpXCIpLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX09QRVJBVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QQVJFTlM6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FWFBSRVNTSU9OX1BBUkVOUzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlM6XHJcblx0XHRcdFx0Y2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TOlxyXG5cdFx0XHRcdFx0V2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuXHRcdFx0XHRcdGlmIChjb250ZW50RWxlbWVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMpIHx8IGNvbnRlbnRFbGVtZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKFwiKFwiKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIGlubmVyU3RhdGUgPSBuZXcgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW4sIGlubmVyU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUgd2FzIGEgbGluZWJyZWFrIGluIHRoZSBwYXJlbnMgY29udGVudCwgb3IgaWYgaXQgd2FudGVkIG9uZSB0byBmb2xsb3csIHRoZW4gcHV0IGxpbmVicmVha3MgYmVmb3JlIGFuZCBhZnRlci5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdGF0ZS5CcmVha0V4cGVjdGVkIHx8IGlubmVyU3RhdGUuT3V0cHV0Q29udGFpbnNMaW5lQnJlYWspXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlubmVyU3RhdGUuU3RhcnRzV2l0aEJyZWFrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQXNzaW1pbGF0ZShpbm5lclN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQXNzaW1pbGF0ZShpbm5lclN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihcIilcIiksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMpIHx8IGNvbnRlbnRFbGVtZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlMpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFR0lOX0VORF9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1RSWV9CTE9DSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBVENIX0JMT0NLOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5QYXJlbnQuUGFyZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4pLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQpLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuRGVjcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0UpLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgY29udGVudEVsZW1lbnQuUGFyZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgY29udGVudEVsZW1lbnQuUGFyZW50LlBhcmVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9TSU5HTEVTVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuSW5jcmVtZW50SW5kZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfSU5QVVQpLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1dIRU4pLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0VMU0UpLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9wdGlvbnMuRXhwYW5kQ2FzZVN0YXRlbWVudHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFKSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfV0hFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfVEhFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfRUxTRTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5FeHBhbmRDYXNlU3RhdGVtZW50cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc1NxbE5vZGVMaXN0KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCksIHN0YXRlLkluY3JlbWVudEluZGVudCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9jZXNzU3FsTm9kZUxpc3QoY29udGVudEVsZW1lbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfVEhFTiksIHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5EZWNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BTkRfT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PUl9PUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT3B0aW9ucy5FeHBhbmRCb29sZWFuRXhwcmVzc2lvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlKGNvbnRlbnRFbGVtZW50LkNoaWxkQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQpLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPT0gU3BlY2lhbFJlZ2lvblR5cGUuTm9Gb3JtYXQgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIlsvTk9GT1JNQVRdXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBza2lwcGVkWG1sID0gTm9kZUV4dGVuc2lvbnMuRXh0cmFjdFN0cnVjdHVyZUJldHdlZW4oc3RhdGUuUmVnaW9uU3RhcnROb2RlLCBjb250ZW50RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwcGVkWG1sICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRTcWxJZGVudGl0eUZvcm1hdHRlciB0ZW1wRm9ybWF0dGVyID0gbmV3IFRTcWxJZGVudGl0eUZvcm1hdHRlcihPcHRpb25zLkhUTUxDb2xvcmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVnaW9uU3RhcnROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBTcGVjaWFsUmVnaW9uVHlwZS5NaW5pZnkgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIlsvTUlOSUZZXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgc2tpcHBlZFhtbCA9IE5vZGVFeHRlbnNpb25zLkV4dHJhY3RTdHJ1Y3R1cmVCZXR3ZWVuKHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSwgY29udGVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZFhtbCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIgdGVtcEZvcm1hdHRlciA9IG5ldyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIVE1MRm9ybWF0dGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnRSYXcoVXRpbHMuSHRtbEVuY29kZSh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVnaW9uU3RhcnROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVDb21tZW50KGNvbnRlbnRFbGVtZW50LCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIi8qXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUgKyBcIiovXCIsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfQ09NTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGNvbnRlbnRFbGVtZW50Lk5leHRTaWJsaW5nKCkgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgY29udGVudEVsZW1lbnQuTmV4dFNpYmxpbmcoKS5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJVEVTUEFDRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIFJlZ2V4LklzTWF0Y2goY29udGVudEVsZW1lbnQuTmV4dFNpYmxpbmcoKS5UZXh0VmFsdWUsIEBcIihcXHJ8XFxuKStcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgYmxvY2sgY29tbWVudCBpcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgc3RhdGVtZW50LCBvciBpZiBpdCB3YXMgZm9sbG93ZWQgYnkgYSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGluZWJyZWFrIGJlZm9yZSBhbnkgZm9sbG93aW5nIGNvbnRlbnQsIHRoZW4gYnJlYWsgaGVyZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIltOT0ZPUk1BVF1cIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0YXRlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gU3BlY2lhbFJlZ2lvblR5cGUuTm9Gb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IGNvbnRlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIltNSU5JRlldXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGF0ZS5BZGRPdXRwdXRMaW5lQnJlYWsoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9IFNwZWNpYWxSZWdpb25UeXBlLk1pbmlmeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVnaW9uU3RhcnROb2RlID0gY29udGVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORTpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORV9DU1RZTEU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPT0gU3BlY2lhbFJlZ2lvblR5cGUuTm9Gb3JtYXQgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIlsvTk9GT1JNQVRdXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBza2lwcGVkWG1sID0gTm9kZUV4dGVuc2lvbnMuRXh0cmFjdFN0cnVjdHVyZUJldHdlZW4oc3RhdGUuUmVnaW9uU3RhcnROb2RlLCBjb250ZW50RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwcGVkWG1sICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRTcWxJZGVudGl0eUZvcm1hdHRlciB0ZW1wRm9ybWF0dGVyID0gbmV3IFRTcWxJZGVudGl0eUZvcm1hdHRlcihPcHRpb25zLkhUTUxDb2xvcmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVnaW9uU3RhcnROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBTcGVjaWFsUmVnaW9uVHlwZS5NaW5pZnkgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIlsvTUlOSUZZXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgc2tpcHBlZFhtbCA9IE5vZGVFeHRlbnNpb25zLkV4dHJhY3RTdHJ1Y3R1cmVCZXR3ZWVuKHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSwgY29udGVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZFhtbCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIgdGVtcEZvcm1hdHRlciA9IG5ldyBUU3FsT2JmdXNjYXRpbmdGb3JtYXR0ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIVE1MRm9ybWF0dGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnRSYXcoVXRpbHMuSHRtbEVuY29kZSh0ZW1wRm9ybWF0dGVyLkZvcm1hdFNRTFRyZWUoc2tpcHBlZFhtbCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50UmF3KHRlbXBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShza2lwcGVkWG1sKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUmVnaW9uU3RhcnROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVDb21tZW50KGNvbnRlbnRFbGVtZW50LCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudCgoY29udGVudEVsZW1lbnQuTmFtZSA9PSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FID8gXCItLVwiIDogXCIvL1wiKSArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiXFxyXCIsIFwiXCIpLlJlcGxhY2UoXCJcXG5cIiwgXCJcIiksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfQ09NTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQnJlYWtFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuU291cmNlQnJlYWtQZW5kaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPT0gbnVsbCAmJiBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpLkNvbnRhaW5zKFwiW05PRk9STUFUXVwiKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID0gU3BlY2lhbFJlZ2lvblR5cGUuTm9Gb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IGNvbnRlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5TcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwgJiYgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5Db250YWlucyhcIltNSU5JRlldXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0TGluZUJyZWFrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlNwZWNpYWxSZWdpb25BY3RpdmUgPSBTcGVjaWFsUmVnaW9uVHlwZS5NaW5pZnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLlJlZ2lvblN0YXJ0Tm9kZSA9IGNvbnRlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TVFJJTkc6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9OU1RSSU5HOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIG91dFZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05TVFJJTkcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRWYWx1ZSA9IFwiTidcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiJ1wiLCBcIicnXCIpICsgXCInXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRWYWx1ZSA9IFwiJ1wiICsgY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlJlcGxhY2UoXCInXCIsIFwiJydcIikgKyBcIidcIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KG91dFZhbHVlLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX1NUUklORyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CUkFDS0VUX1FVT1RFRF9OQU1FOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChcIltcIiArIGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZS5SZXBsYWNlKFwiXVwiLCBcIl1dXCIpICsgXCJdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUVVPVEVEX1NUUklORzpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoXCJcXFwiXCIgKyBjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuUmVwbGFjZShcIlxcXCJcIiwgXCJcXFwiXFxcIlwiKSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1BOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29tbWEgYWx3YXlzIGlnbm9yZXMgcmVxdWVzdGVkIHdvcmQgc3BhY2luZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPcHRpb25zLlRyYWlsaW5nQ29tbWFzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9CcmVha0FzRXhwZWN0ZWQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKFwiLFwiKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKE9wdGlvbnMuRXhwYW5kQ29tbWFMaXN0c1xyXG5cdFx0XHRcdFx0XHRcdFx0JiYgIShjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETERFVEFJTF9QQVJFTlMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHx8IGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR8fCBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdHx8IChPcHRpb25zLkV4cGFuZEluTGlzdHNcclxuXHRcdFx0XHRcdFx0XHRcdCYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkJyZWFrRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKE9wdGlvbnMuRXhwYW5kQ29tbWFMaXN0c1xyXG5cdFx0XHRcdFx0XHRcdFx0JiYgIShjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETERFVEFJTF9QQVJFTlMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHx8IGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR8fCBjb250ZW50RWxlbWVudC5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdHx8IChPcHRpb25zLkV4cGFuZEluTGlzdHNcclxuXHRcdFx0XHRcdFx0XHRcdCYmIGNvbnRlbnRFbGVtZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoRm9ybWF0T3BlcmF0b3IoXCIsXCIpLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX09QRVJBVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPcHRpb25zLlNwYWNlQWZ0ZXJFeHBhbmRlZENvbW1hKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX0JyZWFrQXNFeHBlY3RlZChzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKFwiLFwiKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19PUEVSQVRPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJJT0Q6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRU1JQ09MT046XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TQ09QRVJFU09MVVRJT05PUEVSQVRPUjpcclxuICAgICAgICAgICAgICAgICAgICAvL2Fsd2F5cyBpZ25vcmVzIHJlcXVlc3RlZCB3b3JkIHNwYWNpbmcsIGFuZCBkb2Vzbid0IHJlcXVlc3QgYSBmb2xsb3dpbmcgc3BhY2UgZWl0aGVyLlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdE9wZXJhdG9yKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSksIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfT1BFUkFUT1IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FTVEVSSVNLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVFVQUxTU0lHTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FMUEhBT1BFUkFUT1I6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk9QRVJBVE9SOlxyXG4gICAgICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChGb3JtYXRPcGVyYXRvcihjb250ZW50RWxlbWVudC5UZXh0VmFsdWUpLCBTcWxIdG1sQ29uc3RhbnRzLkNMQVNTX09QRVJBVE9SKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRDpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNldFJlY2VudEtleXdvcmQoY29udGVudEVsZW1lbnQuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQpKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdEtleXdvcmQoY29udGVudEVsZW1lbnQuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQpKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19LRVlXT1JEKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2Nlc3NTcWxOb2RlTGlzdChjb250ZW50RWxlbWVudC5DaGlsZHJlbkJ5TmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9DT01NRU5UKSwgc3RhdGUuSW5jcmVtZW50SW5kZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfREFUQVRZUEVfS0VZV09SRDpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLlNldFJlY2VudEtleXdvcmQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdEtleXdvcmQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19LRVlXT1JEKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BTRVVET05BTUU6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KEZvcm1hdEtleXdvcmQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKSwgU3FsSHRtbENvbnN0YW50cy5DTEFTU19LRVlXT1JEKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX0tFWVdPUkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5TZXRSZWNlbnRLZXl3b3JkKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUsIFNxbEh0bWxDb25zdGFudHMuQ0xBU1NfRlVOQ1RJT04pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJOT0RFOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTU9ORVRBUllfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9MQUJFTDpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05VTUJFUl9WQUxVRTpcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX1NlcGFyYXRlV29yZHMoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dENvbnRlbnQoY29udGVudEVsZW1lbnQuVGV4dFZhbHVlLlRvTG93ZXJJbnZhcmlhbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CSU5BUllfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9TZXBhcmF0ZVdvcmRzKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRDb250ZW50KFwiMHhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuQWRkT3V0cHV0Q29udGVudChjb250ZW50RWxlbWVudC5UZXh0VmFsdWUuU3Vic3RyaW5nKDIpLlRvVXBwZXJJbnZhcmlhbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9XSElURVNQQUNFOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vdGFrZSBub3RlIGlmIGl0J3MgYSBsaW5lLWJyZWFraW5nIHNwYWNlLCBidXQgZG9uJ3QgRE8gYW55dGhpbmcgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChSZWdleC5Jc01hdGNoKGNvbnRlbnRFbGVtZW50LlRleHRWYWx1ZSwgQFwiKFxccnxcXG4pK1wiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuU291cmNlQnJlYWtQZW5kaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucmVjb2duaXplZCBlbGVtZW50IGluIFNRTCBYbWwhXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0hBU0VSUk9SKSA9PSBcIjFcIilcclxuICAgICAgICAgICAgICAgIHN0YXRlLkNsb3NlQ2xhc3MoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbml0aWFsSW5kZW50ICE9IHN0YXRlLkluZGVudExldmVsKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIk1lc3NlZCB1cCB0aGUgaW5kZW50aW5nISEgQ2hlY2sgY29kZS9zdGFjayBvciBwYW5pYyFcIik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgRm9ybWF0S2V5d29yZChzdHJpbmcga2V5d29yZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN0cmluZyBvdXRwdXRLZXl3b3JkO1xyXG4gICAgICAgICAgICBpZiAoIUtleXdvcmRNYXBwaW5nLlRyeUdldFZhbHVlKGtleXdvcmQuVG9VcHBlckludmFyaWFudCgpLCBvdXQgb3V0cHV0S2V5d29yZCkpXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRLZXl3b3JkID0ga2V5d29yZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChPcHRpb25zLlVwcGVyY2FzZUtleXdvcmRzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dEtleXdvcmQuVG9VcHBlckludmFyaWFudCgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0S2V5d29yZC5Ub0xvd2VySW52YXJpYW50KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0cmluZyBGb3JtYXRPcGVyYXRvcihzdHJpbmcgb3BlcmF0b3JWYWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChPcHRpb25zLlVwcGVyY2FzZUtleXdvcmRzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZXJhdG9yVmFsdWUuVG9VcHBlckludmFyaWFudCgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3BlcmF0b3JWYWx1ZS5Ub0xvd2VySW52YXJpYW50KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgV2hpdGVTcGFjZV9TZXBhcmF0ZVN0YXRlbWVudHMoTm9kZSBjb250ZW50RWxlbWVudCwgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLlN0YXRlbWVudEJyZWFrRXhwZWN0ZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgd2hldGhlciB0aGlzIGlzIGEgREVDTEFSRS9TRVQgY2xhdXNlIHdpdGggc2ltaWxhciBwcmVjZWRlbnQsIGFuZCB0aGVyZWZvcmUgZXhlbXB0IGZyb20gZG91YmxlLWxpbmVicmVhay5cclxuICAgICAgICAgICAgICAgIE5vZGUgdGhpc0NsYXVzZVN0YXJ0ZXIgPSBGaXJzdFNlbWFudGljRWxlbWVudENoaWxkKGNvbnRlbnRFbGVtZW50KTtcclxuXHRcdFx0XHRpZiAoISh0aGlzQ2xhdXNlU3RhcnRlciAhPSBudWxsXHJcblx0XHRcdFx0XHQmJiB0aGlzQ2xhdXNlU3RhcnRlci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEKVxyXG5cdFx0XHRcdFx0JiYgc3RhdGUuR2V0UmVjZW50S2V5d29yZCgpICE9IG51bGxcclxuXHRcdFx0XHRcdCYmICgodGhpc0NsYXVzZVN0YXJ0ZXIuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5FcXVhbHMoXCJTRVRcIilcclxuXHRcdFx0XHRcdFx0XHQmJiBzdGF0ZS5HZXRSZWNlbnRLZXl3b3JkKCkuRXF1YWxzKFwiU0VUXCIpXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHR8fCAodGhpc0NsYXVzZVN0YXJ0ZXIuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5FcXVhbHMoXCJERUNMQVJFXCIpXHJcblx0XHRcdFx0XHRcdFx0JiYgc3RhdGUuR2V0UmVjZW50S2V5d29yZCgpLkVxdWFscyhcIkRFQ0xBUkVcIilcclxuXHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdHx8ICh0aGlzQ2xhdXNlU3RhcnRlci5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpLkVxdWFscyhcIlBSSU5UXCIpXHJcblx0XHRcdFx0XHRcdFx0JiYgc3RhdGUuR2V0UmVjZW50S2V5d29yZCgpLkVxdWFscyhcIlBSSU5UXCIpXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHQpKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGZvciAoaW50IGkgPSBPcHRpb25zLk5ld1N0YXRlbWVudExpbmVCcmVha3M7IGkgPiAwOyBpLS0pXHJcblx0XHRcdFx0XHRcdHN0YXRlLkFkZE91dHB1dExpbmVCcmVhaygpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Zm9yIChpbnQgaSA9IE9wdGlvbnMuTmV3Q2xhdXNlTGluZUJyZWFrczsgaSA+IDA7IGktLSlcclxuXHRcdFx0XHRcdFx0c3RhdGUuQWRkT3V0cHV0TGluZUJyZWFrKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuICAgICAgICAgICAgICAgIHN0YXRlLkluZGVudChzdGF0ZS5JbmRlbnRMZXZlbCk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gZmFsc2U7XHJcblx0XHRcdFx0c3RhdGUuQWRkaXRpb25hbEJyZWFrc0V4cGVjdGVkID0gMDtcclxuICAgICAgICAgICAgICAgIHN0YXRlLlNvdXJjZUJyZWFrUGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuU3RhdGVtZW50QnJlYWtFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgTm9kZSBGaXJzdFNlbWFudGljRWxlbWVudENoaWxkKE5vZGUgY29udGVudEVsZW1lbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBOb2RlIHRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb250ZW50RWxlbWVudCAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkZpcnN0T3JEZWZhdWx0PE5vZGU+KGNvbnRlbnRFbGVtZW50LkNoaWxkcmVuRXhjbHVkaW5nTmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5UKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPSBudWxsICYmIFN5c3RlbS5BcnJheUV4dGVuc2lvbnMuQ29udGFpbnM8c3RyaW5nPihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVMSVNUX05PTlNFTUFOVElDQ09OVEVOVCx0YXJnZXQuTmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEVsZW1lbnQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFdoaXRlU3BhY2VfU2VwYXJhdGVXb3JkcyhUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUgc3RhdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUuQnJlYWtFeHBlY3RlZCB8fCBzdGF0ZS5BZGRpdGlvbmFsQnJlYWtzRXhwZWN0ZWQgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBib29sIHdhc1VuSW5kZW50ID0gc3RhdGUuVW5JbmRlbnRJbml0aWFsQnJlYWs7XHJcbiAgICAgICAgICAgICAgICBpZiAod2FzVW5JbmRlbnQpIHN0YXRlLkRlY3JlbWVudEluZGVudCgpO1xyXG4gICAgICAgICAgICAgICAgV2hpdGVTcGFjZV9CcmVha0FzRXhwZWN0ZWQoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhc1VuSW5kZW50KSBzdGF0ZS5JbmNyZW1lbnRJbmRlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkFkZE91dHB1dFNwYWNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RhdGUuVW5JbmRlbnRJbml0aWFsQnJlYWsgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3RhdGUuU291cmNlQnJlYWtQZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHN0YXRlLldvcmRTZXBhcmF0b3JFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFdoaXRlU3BhY2VfU2VwYXJhdGVDb21tZW50KE5vZGUgY29udGVudEVsZW1lbnQsIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzdGF0ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5DdXJyZW50TGluZUhhc0NvbnRlbnQgJiYgc3RhdGUuU291cmNlQnJlYWtQZW5kaW5nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5CcmVha0V4cGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFdoaXRlU3BhY2VfQnJlYWtBc0V4cGVjdGVkKHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5Xb3JkU2VwYXJhdG9yRXhwZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5BZGRPdXRwdXRTcGFjZSgpO1xyXG4gICAgICAgICAgICBzdGF0ZS5Tb3VyY2VCcmVha1BlbmRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3RhdGUuV29yZFNlcGFyYXRvckV4cGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgV2hpdGVTcGFjZV9CcmVha0FzRXhwZWN0ZWQoVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlLkJyZWFrRXhwZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5XaGl0ZVNwYWNlX0JyZWFrVG9OZXh0TGluZSgpO1xyXG4gICAgICAgICAgICB3aGlsZSAoc3RhdGUuQWRkaXRpb25hbEJyZWFrc0V4cGVjdGVkID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuV2hpdGVTcGFjZV9CcmVha1RvTmV4dExpbmUoKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLkFkZGl0aW9uYWxCcmVha3NFeHBlY3RlZC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjbGFzcyBUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUgOiBCYXNlRm9ybWF0dGVyU3RhdGVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vbm9ybWFsIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICAgIHB1YmxpYyBUU3FsU3RhbmRhcmRGb3JtYXR0aW5nU3RhdGUoYm9vbCBodG1sT3V0cHV0LCBzdHJpbmcgaW5kZW50U3RyaW5nLCBpbnQgc3BhY2VzUGVyVGFiLCBpbnQgbWF4TGluZVdpZHRoLCBpbnQgaW5pdGlhbEluZGVudExldmVsKVxyXG4gICAgICAgICAgICAgICAgOiBiYXNlKGh0bWxPdXRwdXQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIEluZGVudExldmVsID0gaW5pdGlhbEluZGVudExldmVsO1xyXG4gICAgICAgICAgICAgICAgSHRtbE91dHB1dCA9IGh0bWxPdXRwdXQ7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRTdHJpbmcgPSBpbmRlbnRTdHJpbmc7XHJcblx0XHRcdFx0TWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIGludCB0YWJDb3VudCA9IGluZGVudFN0cmluZy5TcGxpdCgnXFx0JykuTGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGludCB0YWJFeHRyYUNoYXJhY3RlcnMgPSB0YWJDb3VudCAqIChzcGFjZXNQZXJUYWIgLSAxKTtcclxuICAgICAgICAgICAgICAgIEluZGVudExlbmd0aCA9IGluZGVudFN0cmluZy5MZW5ndGggKyB0YWJFeHRyYUNoYXJhY3RlcnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc3BlY2lhbCBcIndlIHdhbnQgaXNvbGF0ZWQgc3RhdGUsIGJ1dCBpbmhlcml0aW5nIGV4aXN0aW5nIGNvbmRpdGlvbnNcIiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlKFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBzb3VyY2VTdGF0ZSlcclxuICAgICAgICAgICAgICAgIDogYmFzZShzb3VyY2VTdGF0ZS5IdG1sT3V0cHV0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRMZXZlbCA9IHNvdXJjZVN0YXRlLkluZGVudExldmVsO1xyXG4gICAgICAgICAgICAgICAgSHRtbE91dHB1dCA9IHNvdXJjZVN0YXRlLkh0bWxPdXRwdXQ7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRTdHJpbmcgPSBzb3VyY2VTdGF0ZS5JbmRlbnRTdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRMZW5ndGggPSBzb3VyY2VTdGF0ZS5JbmRlbnRMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBNYXhMaW5lV2lkdGggPSBzb3VyY2VTdGF0ZS5NYXhMaW5lV2lkdGg7XHJcblx0XHRcdFx0Ly9UT0RPOiBmaW5kIGEgd2F5IG91dCBvZiB0aGUgY3Jvc3MtZGVwZW5kZW50IHdyYXBwaW5nIG1hemUuLi5cclxuICAgICAgICAgICAgICAgIC8vQ3VycmVudExpbmVMZW5ndGggPSBzb3VyY2VTdGF0ZS5DdXJyZW50TGluZUxlbmd0aDtcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaW5lTGVuZ3RoID0gSW5kZW50TGV2ZWwgKiBJbmRlbnRMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBDdXJyZW50TGluZUhhc0NvbnRlbnQgPSBzb3VyY2VTdGF0ZS5DdXJyZW50TGluZUhhc0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByaXZhdGUgc3RyaW5nIEluZGVudFN0cmluZyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHByaXZhdGUgaW50IEluZGVudExlbmd0aCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHByaXZhdGUgaW50IE1heExpbmVXaWR0aCB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgYm9vbCBTdGF0ZW1lbnRCcmVha0V4cGVjdGVkIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGJvb2wgQnJlYWtFeHBlY3RlZCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBib29sIFdvcmRTZXBhcmF0b3JFeHBlY3RlZCB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBib29sIFNvdXJjZUJyZWFrUGVuZGluZyB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgICAgIHB1YmxpYyBpbnQgQWRkaXRpb25hbEJyZWFrc0V4cGVjdGVkIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBib29sIFVuSW5kZW50SW5pdGlhbEJyZWFrIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGludCBJbmRlbnRMZXZlbCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGludCBDdXJyZW50TGluZUxlbmd0aCB7IGdldDsgcHJpdmF0ZSBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIGJvb2wgQ3VycmVudExpbmVIYXNDb250ZW50IHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIFNwZWNpYWxSZWdpb25UeXBlPyBTcGVjaWFsUmVnaW9uQWN0aXZlIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICAgICAgcHVibGljIE5vZGUgUmVnaW9uU3RhcnROb2RlIHsgZ2V0OyBzZXQ7IH1cclxuXHJcbiAgICAgICAgICAgIHByaXZhdGUgc3RhdGljIFJlZ2V4IF9zdGFydHNXaXRoQnJlYWtDaGVja2VyID0gbmV3IFJlZ2V4KEBcIl5cXHMqKFxccnxcXG4pXCIsIFJlZ2V4T3B0aW9ucy5Ob25lKTtcclxuICAgICAgICAgICAgcHVibGljIGJvb2wgU3RhcnRzV2l0aEJyZWFrXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3RhcnRzV2l0aEJyZWFrQ2hlY2tlci5Jc01hdGNoKF9vdXRCdWlsZGVyLlRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgb3ZlcnJpZGUgdm9pZCBBZGRPdXRwdXRDb250ZW50KHN0cmluZyBjb250ZW50KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIEFkZE91dHB1dENvbnRlbnQoY29udGVudCwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyBvdmVycmlkZSB2b2lkIEFkZE91dHB1dENvbnRlbnQoc3RyaW5nIGNvbnRlbnQsIHN0cmluZyBodG1sQ2xhc3NOYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ3VycmVudExpbmVIYXNDb250ZW50ICYmIChjb250ZW50Lkxlbmd0aCArIEN1cnJlbnRMaW5lTGVuZ3RoID4gTWF4TGluZVdpZHRoKSlcclxuICAgICAgICAgICAgICAgICAgICBXaGl0ZVNwYWNlX0JyZWFrVG9OZXh0TGluZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChTcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5BZGRPdXRwdXRDb250ZW50KGNvbnRlbnQsIGh0bWxDbGFzc05hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaW5lSGFzQ29udGVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBDdXJyZW50TGluZUxlbmd0aCArPSBjb250ZW50Lkxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIG92ZXJyaWRlIHZvaWQgQWRkT3V0cHV0TGluZUJyZWFrKClcclxuICAgICAgICAgICAge1xyXG4jaWYgREVCVUdcclxuICAgICAgICAgICAgICAgIC8vaGludHMgZm9yIGRlYnVnZ2luZyBsaW5lLXdpZHRoIGlzc3VlczpcclxuICAgICAgICAgICAgICAgIC8vX291dEJ1aWxkZXIuQXBwZW5kKFwiIChcIiArIEN1cnJlbnRMaW5lTGVuZ3RoLlRvU3RyaW5nKFN5c3RlbS5HbG9iYWxpemF0aW9uLkN1bHR1cmVJbmZvLkludmFyaWFudEN1bHR1cmUpICsgXCIpXCIpO1xyXG4jZW5kaWZcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIGxpbmVicmVha3MgYXJlIGFkZGVkIGRpcmVjdGx5IGluIHRoZSBjb250ZW50IChlZyBpbiBjb21tZW50cyBvciBzdHJpbmdzKSwgdGhleSBcclxuICAgICAgICAgICAgICAgIC8vIHdvbid0IGJlIGFjY291bnRlZCBmb3IgaGVyZSAtIHRoYXQncyBvay5cclxuICAgICAgICAgICAgICAgIGlmIChTcGVjaWFsUmVnaW9uQWN0aXZlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5BZGRPdXRwdXRMaW5lQnJlYWsoKTtcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaW5lTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRMaW5lSGFzQ29udGVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnRlcm5hbCB2b2lkIEFkZE91dHB1dFNwYWNlKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKFNwZWNpYWxSZWdpb25BY3RpdmUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBfb3V0QnVpbGRlci5BcHBlbmQoXCIgXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBJbmRlbnQoaW50IGluZGVudExldmVsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGluZGVudExldmVsOyBpKyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNwZWNpYWxSZWdpb25BY3RpdmUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5BZGRPdXRwdXRDb250ZW50KEluZGVudFN0cmluZywgXCJcIik7IC8vdGhhdCBpcywgYWRkIHRoZSBpbmRlbnQgYXMgSFRNTEVuY29kZWQgY29udGVudCBpZiBuZWNlc3NhcnksIGJ1dCBubyB3ZWlyZCBsaW5lYnJlYWstYWRkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgQ3VycmVudExpbmVMZW5ndGggKz0gSW5kZW50TGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnRlcm5hbCB2b2lkIFdoaXRlU3BhY2VfQnJlYWtUb05leHRMaW5lKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgQWRkT3V0cHV0TGluZUJyZWFrKCk7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnQoSW5kZW50TGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgQnJlYWtFeHBlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgU291cmNlQnJlYWtQZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBXb3JkU2VwYXJhdG9yRXhwZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9mb3IgbGluZWJyZWFrIGRldGVjdGlvbiwgdXNlIGFjdHVhbCBzdHJpbmcgY29udGVudCByYXRoZXIgdGhhbiBjb3VudGluZyBcIkFkZE91dHB1dExpbmVCcmVhaygpXCIgY2FsbHMsXHJcbiAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgYWxzbyB3YW50IHRvIGRldGVjdCB0aGUgY29udGVudCBvZiBzdHJpbmdzIGFuZCBjb21tZW50cy5cclxuI2lmIFNJTVBMSUZJRURGV1xyXG4gICAgICAgICAgICBwcml2YXRlIHN0YXRpYyBSZWdleCBfbGluZUJyZWFrTWF0Y2hlciA9IG5ldyBSZWdleChAXCIoXFxyfFxcbikrXCIpO1xyXG4jZWxzZVxyXG4gICAgICAgICAgICBwcml2YXRlIHN0YXRpYyBSZWdleCBfbGluZUJyZWFrTWF0Y2hlciA9IG5ldyBSZWdleChAXCIoXFxyfFxcbikrXCIsIFJlZ2V4T3B0aW9ucy5Db21waWxlZCk7XHJcbiNlbmRpZlxyXG5cclxuICAgICAgICAgICAgcHVibGljIGJvb2wgT3V0cHV0Q29udGFpbnNMaW5lQnJlYWsgeyBnZXQgeyByZXR1cm4gX2xpbmVCcmVha01hdGNoZXIuSXNNYXRjaChfb3V0QnVpbGRlci5Ub1N0cmluZygpKTsgfSB9XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgdm9pZCBBc3NpbWlsYXRlKFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBwYXJ0aWFsU3RhdGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzogZmluZCBhIHdheSBvdXQgb2YgdGhlIGNyb3NzLWRlcGVuZGVudCB3cmFwcGluZyBtYXplLi4uXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50TGluZUxlbmd0aCA9IEN1cnJlbnRMaW5lTGVuZ3RoICsgcGFydGlhbFN0YXRlLkN1cnJlbnRMaW5lTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgQ3VycmVudExpbmVIYXNDb250ZW50ID0gQ3VycmVudExpbmVIYXNDb250ZW50IHx8IHBhcnRpYWxTdGF0ZS5DdXJyZW50TGluZUhhc0NvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoU3BlY2lhbFJlZ2lvbkFjdGl2ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIF9vdXRCdWlsZGVyLkFwcGVuZChwYXJ0aWFsU3RhdGUuRHVtcE91dHB1dCgpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHByaXZhdGUgRGljdGlvbmFyeTxpbnQsIHN0cmluZz4gX21vc3RSZWNlbnRLZXl3b3Jkc0F0RWFjaExldmVsID0gbmV3IERpY3Rpb25hcnk8aW50LCBzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgICAgICBwdWJsaWMgVFNxbFN0YW5kYXJkRm9ybWF0dGluZ1N0YXRlIEluY3JlbWVudEluZGVudCgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIEluZGVudExldmVsKys7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIFRTcWxTdGFuZGFyZEZvcm1hdHRpbmdTdGF0ZSBEZWNyZW1lbnRJbmRlbnQoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBJbmRlbnRMZXZlbC0tO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1YmxpYyB2b2lkIFNldFJlY2VudEtleXdvcmQoc3RyaW5nIEVsZW1lbnROYW1lKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIV9tb3N0UmVjZW50S2V5d29yZHNBdEVhY2hMZXZlbC5Db250YWluc0tleShJbmRlbnRMZXZlbCkpXHJcbiAgICAgICAgICAgICAgICAgICAgX21vc3RSZWNlbnRLZXl3b3Jkc0F0RWFjaExldmVsLkFkZChJbmRlbnRMZXZlbCwgRWxlbWVudE5hbWUuVG9VcHBlckludmFyaWFudCgpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIHN0cmluZyBHZXRSZWNlbnRLZXl3b3JkKClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nIGtleXdvcmRGb3VuZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpbnQ/IGtleXdvcmRGb3VuZEF0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGZvcmVhY2ggKGludCBrZXkgaW4gX21vc3RSZWNlbnRLZXl3b3Jkc0F0RWFjaExldmVsLktleXMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChrZXl3b3JkRm91bmRBdCA9PSBudWxsIHx8IGtleXdvcmRGb3VuZEF0LlZhbHVlID4ga2V5KSAmJiBrZXkgPj0gSW5kZW50TGV2ZWwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkRm91bmRBdCA9IGtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZEZvdW5kID0gX21vc3RSZWNlbnRLZXl3b3Jkc0F0RWFjaExldmVsW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXdvcmRGb3VuZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHVibGljIHZvaWQgUmVzZXRLZXl3b3JkcygpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIExpc3Q8aW50PiBkZXNjZW5kZW50TGV2ZWxLZXlzID0gbmV3IExpc3Q8aW50PigpO1xyXG4gICAgICAgICAgICAgICAgZm9yZWFjaCAoaW50IGtleSBpbiBfbW9zdFJlY2VudEtleXdvcmRzQXRFYWNoTGV2ZWwuS2V5cylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID49IEluZGVudExldmVsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjZW5kZW50TGV2ZWxLZXlzLkFkZChrZXkpO1xyXG4gICAgICAgICAgICAgICAgZm9yZWFjaCAoaW50IGtleSBpbiBkZXNjZW5kZW50TGV2ZWxLZXlzKVxyXG4gICAgICAgICAgICAgICAgICAgIF9tb3N0UmVjZW50S2V5d29yZHNBdEVhY2hMZXZlbC5SZW1vdmUoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGVudW0gU3BlY2lhbFJlZ2lvblR5cGVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vRm9ybWF0ID0gMSxcclxuICAgICAgICAgICAgTWluaWZ5ID0gMlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuSW50ZXJmYWNlcztcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlO1xyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5UZXh0O1xyXG51c2luZyBTeXN0ZW0uVGV4dC5SZWd1bGFyRXhwcmVzc2lvbnM7XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuUGFyc2Vyc1xyXG57XHJcbiAgICBwdWJsaWMgY2xhc3MgVFNxbFN0YW5kYXJkUGFyc2VyIDogSVNxbFRva2VuUGFyc2VyXHJcbiAgICB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBUT0RPOlxyXG4gICAgICAgICAqICAtIGhhbmRsZSBSYW5raW5nIEZ1bmN0aW9ucyB3aXRoIG11bHRpcGxlIHBhcnRpdGlvbiBvciBvcmRlciBieSBjb2x1bW5zL2NsYXVzZXNcclxuICAgICAgICAgKiAgLSBkZXRlY3QgdGFibGUgaGludHMsIHRvIGF2b2lkIHRoZW0gbG9va2luZyBsaWtlIGZ1bmN0aW9uIHBhcmVuc1xyXG4gICAgICAgICAqICAtIEhhbmRsZSBEREwgdHJpZ2dlcnNcclxuICAgICAgICAgKiAgLSBEZXRlY3QgQUxURVIga2V5d29yZHMgdGhhdCBhcmUgY2xhdXNlcyBvZiBvdGhlciBzdGF0ZW1lbnRzLCB2cyB0aG9zZSB0aGF0IGFyZSBzdGF0ZW1lbnRzXHJcbiAgICAgICAgICogIFxyXG4gICAgICAgICAqICAtIFRlc3RzXHJcbiAgICAgICAgICogICAgLSBTYW1wbGVzIGlsbHVzdHJhdGluZyBhbGwgdGhlIHRva2VucyBhbmQgY29udGFpbmVyIGNvbWJpbmF0aW9ucyBpbXBsZW1lbnRlZFxyXG4gICAgICAgICAqICAgIC0gU2FtcGxlcyBpbGx1c3RyYXRpbmcgYWxsIGZvcm1zIG9mIGNvbnRhaW5lciB2aW9sYXRpb25zXHJcbiAgICAgICAgICogICAgLSBTYW1wbGUgcmVxdWVzdHMgYW5kIHRoZWlyIFhNTCBlcXVpdmFsZW50IC0gb25jZSB0aGUgeG1sIGZvcm1hdCBpcyBtb3JlLW9yLWxlc3MgZm9ybWFsaXplZFxyXG4gICAgICAgICAqICAgIC0gU2FtcGxlIHJlcXVlc3RzIGFuZCB0aGVpciBmb3JtYXR0ZWQgdmVyc2lvbnMgKGEgZmV3IGZvciBlYWNoKSAtIG9uY2UgdGhlIFwic3RhbmRhcmRcIiBmb3JtYXQgaXMgbW9yZS1vci1sZXNzIGZvcm1hbGl6ZWRcclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgLy95YXkgZm9yIHN0YXRpYyBjb25zdHJ1Y3RvcnMhXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBEaWN0aW9uYXJ5PHN0cmluZywgS2V5d29yZFR5cGU+IEtleXdvcmRMaXN0IHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBzdGF0aWMgVFNxbFN0YW5kYXJkUGFyc2VyKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEluaXRpYWxpemVLZXl3b3JkTGlzdCgpO1xyXG5TeXN0ZW0uTGlucS5FbnVtZXJhYmxlLlRha2U8S2V5VmFsdWVQYWlyPHN0cmluZyxUU3FsU3RhbmRhcmRQYXJzZXIuS2V5d29yZFR5cGU+PiggICAgICAgICAgICAvL3RlbXBvcmFyeSwgdG8gY29udmluY2UgVmlzdWFsU3R1ZGlvIHRvIGNvcHkgdGhlIExpbnFCcmlkZ2UgRExMLCBvdGhlcndpc2UgSUxNZXJnZSBmYWlscyBiZWNhdXNlIG9mIHRoZSBtaXNzaW5nIGZpbGUuXHJcbiAgICAgICAgICAgIC8vIC0gbWF5YmUgaW5zdGVhZCBJIHNob3VsZCByZW1vdmUgTGlucUJyaWRnZSwgYXMgSSdtIG5vdCB1c2luZyBpdCBhdCB0aGUgbW9tZW50Li4uXHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LDMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIFJlZ2V4IF9Kb2luRGV0ZWN0b3IgPSBuZXcgUmVnZXgoXCJeKChSSUdIVHxJTk5FUnxMRUZUfENST1NTfEZVTEwpICk/KE9VVEVSICk/KChIQVNIfExPT1B8TUVSR0V8UkVNT1RFKSApPyhKT0lOfEFQUExZKSBcIik7XHJcblxyXG4gICAgICAgIC8vIG9yaWdpbmFsOiBzdGF0aWMgUmVnZXggX0N1cnNvckRldGVjdG9yID0gbmV3IFJlZ2V4KEBcIl5ERUNMQVJFIFtcXHB7TH0wLTlfXFwkXFxAXFwjXSsgKChJTlNFTlNJVElWRXxTQ1JPTEwpICl7MCwyfUNVUlNPUiBcIik7IC8vbm90ZSB0aGUgdXNlIG9mIFwidW5pY29kZSBsZXR0ZXJcIiBpbiBpZGVudGlmaWVyIHJ1bGVcclxuICAgICAgICAvLyBwcm9ibGVtIHdhcyB0aGF0IEJyaWRnZS5OZXQgaW5ub2NlbnRseSBwYXNzZXMgdGhlIFwiXFxwe0x9XCIgdG8gSlMsIHdoaWNoIGRvZXMgbm90IHVuZGVyc3RhbmQgKEVTNSkgb3IgcmVmdXNlcyB0byB1bmRlcnN0YW5kIChFUzYpXHJcbiAgICAgICAgLy8gRVM2IHVuaWNvZGUgZXF1aXZhbGVuY3kgcmV0cmlldmVkIGZyb20gRVM2LXRvLUVTNSByZWdleCB1bmljb2RlIHRyYW5zcGlsZXIgXCJyZWdleHB1XCIgZGVtbyBzaXRlIGh0dHBzOi8vbW90aGVyZWZmLmluL3JlZ2V4cHVcclxuICAgICAgICAvLyAoYXMgZmFyIGFzIEkgY2FuIHRlbGwgdGhlIEVTNSByZWdleCBjb25zdHJ1Y3RzIHVzZWQgYXJlIGFsc28gLk5ldC1jb21wYXRpYmxlKVxyXG4gICAgICAgIHN0YXRpYyBSZWdleCBfQ3Vyc29yRGV0ZWN0b3IgPSBuZXcgUmVnZXgoQFwiXkRFQ0xBUkUgKD86WyNcXCQwLTlALVpfYS16XFx4QUFcXHhCNVxceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODZcXHUwMzg4LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4QS1cXHUwNTJGXFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MjAtXFx1MDY0QVxcdTA2NkVcXHUwNjZGXFx1MDY3MS1cXHUwNkQzXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMFxcdTA3MTItXFx1MDcyRlxcdTA3NEQtXFx1MDdBNVxcdTA3QjFcXHUwN0NBLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwODYwLVxcdTA4NkFcXHUwOEEwLVxcdTA4QjRcXHUwOEI2LVxcdTA4QkRcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk4MFxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTA5RkNcXHUwQTA1LVxcdTBBMEFcXHUwQTBGXFx1MEExMFxcdTBBMTMtXFx1MEEyOFxcdTBBMkEtXFx1MEEzMFxcdTBBMzJcXHUwQTMzXFx1MEEzNVxcdTBBMzZcXHUwQTM4XFx1MEEzOVxcdTBBNTktXFx1MEE1Q1xcdTBBNUVcXHUwQTcyLVxcdTBBNzRcXHUwQTg1LVxcdTBBOERcXHUwQThGLVxcdTBBOTFcXHUwQTkzLVxcdTBBQThcXHUwQUFBLVxcdTBBQjBcXHUwQUIyXFx1MEFCM1xcdTBBQjUtXFx1MEFCOVxcdTBBQkRcXHUwQUQwXFx1MEFFMFxcdTBBRTFcXHUwQUY5XFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0RcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2MVxcdTBCNzFcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCRDBcXHUwQzA1LVxcdTBDMENcXHUwQzBFLVxcdTBDMTBcXHUwQzEyLVxcdTBDMjhcXHUwQzJBLVxcdTBDMzlcXHUwQzNEXFx1MEM1OC1cXHUwQzVBXFx1MEM2MFxcdTBDNjFcXHUwQzgwXFx1MEM4NS1cXHUwQzhDXFx1MEM4RS1cXHUwQzkwXFx1MEM5Mi1cXHUwQ0E4XFx1MENBQS1cXHUwQ0IzXFx1MENCNS1cXHUwQ0I5XFx1MENCRFxcdTBDREVcXHUwQ0UwXFx1MENFMVxcdTBDRjFcXHUwQ0YyXFx1MEQwNS1cXHUwRDBDXFx1MEQwRS1cXHUwRDEwXFx1MEQxMi1cXHUwRDNBXFx1MEQzRFxcdTBENEVcXHUwRDU0LVxcdTBENTZcXHUwRDVGLVxcdTBENjFcXHUwRDdBLVxcdTBEN0ZcXHUwRDg1LVxcdTBEOTZcXHUwRDlBLVxcdTBEQjFcXHUwREIzLVxcdTBEQkJcXHUwREJEXFx1MERDMC1cXHUwREM2XFx1MEUwMS1cXHUwRTMwXFx1MEUzMlxcdTBFMzNcXHUwRTQwLVxcdTBFNDZcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCMFxcdTBFQjJcXHUwRUIzXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEY0MC1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY4OC1cXHUwRjhDXFx1MTAwMC1cXHUxMDJBXFx1MTAzRlxcdTEwNTAtXFx1MTA1NVxcdTEwNUEtXFx1MTA1RFxcdTEwNjFcXHUxMDY1XFx1MTA2NlxcdTEwNkUtXFx1MTA3MFxcdTEwNzUtXFx1MTA4MVxcdTEwOEVcXHUxMEEwLVxcdTEwQzVcXHUxMEM3XFx1MTBDRFxcdTEwRDAtXFx1MTBGQVxcdTEwRkMtXFx1MTI0OFxcdTEyNEEtXFx1MTI0RFxcdTEyNTAtXFx1MTI1NlxcdTEyNThcXHUxMjVBLVxcdTEyNURcXHUxMjYwLVxcdTEyODhcXHUxMjhBLVxcdTEyOERcXHUxMjkwLVxcdTEyQjBcXHUxMkIyLVxcdTEyQjVcXHUxMkI4LVxcdTEyQkVcXHUxMkMwXFx1MTJDMi1cXHUxMkM1XFx1MTJDOC1cXHUxMkQ2XFx1MTJEOC1cXHUxMzEwXFx1MTMxMi1cXHUxMzE1XFx1MTMxOC1cXHUxMzVBXFx1MTM4MC1cXHUxMzhGXFx1MTNBMC1cXHUxM0Y1XFx1MTNGOC1cXHUxM0ZEXFx1MTQwMS1cXHUxNjZDXFx1MTY2Ri1cXHUxNjdGXFx1MTY4MS1cXHUxNjlBXFx1MTZBMC1cXHUxNkVBXFx1MTZGMS1cXHUxNkY4XFx1MTcwMC1cXHUxNzBDXFx1MTcwRS1cXHUxNzExXFx1MTcyMC1cXHUxNzMxXFx1MTc0MC1cXHUxNzUxXFx1MTc2MC1cXHUxNzZDXFx1MTc2RS1cXHUxNzcwXFx1MTc4MC1cXHUxN0IzXFx1MTdEN1xcdTE3RENcXHUxODIwLVxcdTE4NzdcXHUxODgwLVxcdTE4ODRcXHUxODg3LVxcdTE4QThcXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFFXFx1MTk1MC1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlCMC1cXHUxOUM5XFx1MUEwMC1cXHUxQTE2XFx1MUEyMC1cXHUxQTU0XFx1MUFBN1xcdTFCMDUtXFx1MUIzM1xcdTFCNDUtXFx1MUI0QlxcdTFCODMtXFx1MUJBMFxcdTFCQUVcXHUxQkFGXFx1MUJCQS1cXHUxQkU1XFx1MUMwMC1cXHUxQzIzXFx1MUM0RC1cXHUxQzRGXFx1MUM1QS1cXHUxQzdEXFx1MUM4MC1cXHUxQzg4XFx1MUNFOS1cXHUxQ0VDXFx1MUNFRS1cXHUxQ0YxXFx1MUNGNVxcdTFDRjZcXHUxRDAwLVxcdTFEQkZcXHUxRTAwLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMTAyXFx1MjEwN1xcdTIxMEEtXFx1MjExM1xcdTIxMTVcXHUyMTE5LVxcdTIxMURcXHUyMTI0XFx1MjEyNlxcdTIxMjhcXHUyMTJBLVxcdTIxMkRcXHUyMTJGLVxcdTIxMzlcXHUyMTNDLVxcdTIxM0ZcXHUyMTQ1LVxcdTIxNDlcXHUyMTRFXFx1MjE4M1xcdTIxODRcXHUyQzAwLVxcdTJDMkVcXHUyQzMwLVxcdTJDNUVcXHUyQzYwLVxcdTJDRTRcXHUyQ0VCLVxcdTJDRUVcXHUyQ0YyXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEODAtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJFMkZcXHUzMDA1XFx1MzAwNlxcdTMwMzEtXFx1MzAzNVxcdTMwM0JcXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5RC1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJFXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkVBXFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjFGXFx1QTYyQVxcdUE2MkJcXHVBNjQwLVxcdUE2NkVcXHVBNjdGLVxcdUE2OURcXHVBNkEwLVxcdUE2RTVcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3QUVcXHVBN0IwLVxcdUE3QjdcXHVBN0Y3LVxcdUE4MDFcXHVBODAzLVxcdUE4MDVcXHVBODA3LVxcdUE4MEFcXHVBODBDLVxcdUE4MjJcXHVBODQwLVxcdUE4NzNcXHVBODgyLVxcdUE4QjNcXHVBOEYyLVxcdUE4RjdcXHVBOEZCXFx1QThGRFxcdUE5MEEtXFx1QTkyNVxcdUE5MzAtXFx1QTk0NlxcdUE5NjAtXFx1QTk3Q1xcdUE5ODQtXFx1QTlCMlxcdUE5Q0ZcXHVBOUUwLVxcdUE5RTRcXHVBOUU2LVxcdUE5RUZcXHVBOUZBLVxcdUE5RkVcXHVBQTAwLVxcdUFBMjhcXHVBQTQwLVxcdUFBNDJcXHVBQTQ0LVxcdUFBNEJcXHVBQTYwLVxcdUFBNzZcXHVBQTdBXFx1QUE3RS1cXHVBQUFGXFx1QUFCMVxcdUFBQjVcXHVBQUI2XFx1QUFCOS1cXHVBQUJEXFx1QUFDMFxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUFcXHVBQUYyLVxcdUFBRjRcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQjMwLVxcdUFCNUFcXHVBQjVDLVxcdUFCNjVcXHVBQjcwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdfFxcdUQ4MDBbXFx1REMwMC1cXHVEQzBCXFx1REMwRC1cXHVEQzI2XFx1REMyOC1cXHVEQzNBXFx1REMzQ1xcdURDM0RcXHVEQzNGLVxcdURDNERcXHVEQzUwLVxcdURDNURcXHVEQzgwLVxcdURDRkFcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERjAwLVxcdURGMUZcXHVERjJELVxcdURGNDBcXHVERjQyLVxcdURGNDlcXHVERjUwLVxcdURGNzVcXHVERjgwLVxcdURGOURcXHVERkEwLVxcdURGQzNcXHVERkM4LVxcdURGQ0ZdfFxcdUQ4MDFbXFx1REMwMC1cXHVEQzlEXFx1RENCMC1cXHVEQ0QzXFx1RENEOC1cXHVEQ0ZCXFx1REQwMC1cXHVERDI3XFx1REQzMC1cXHVERDYzXFx1REUwMC1cXHVERjM2XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjY3XXxcXHVEODAyW1xcdURDMDAtXFx1REMwNVxcdURDMDhcXHVEQzBBLVxcdURDMzVcXHVEQzM3XFx1REMzOFxcdURDM0NcXHVEQzNGLVxcdURDNTVcXHVEQzYwLVxcdURDNzZcXHVEQzgwLVxcdURDOUVcXHVEQ0UwLVxcdURDRjJcXHVEQ0Y0XFx1RENGNVxcdUREMDAtXFx1REQxNVxcdUREMjAtXFx1REQzOVxcdUREODAtXFx1RERCN1xcdUREQkVcXHVEREJGXFx1REUwMFxcdURFMTAtXFx1REUxM1xcdURFMTUtXFx1REUxN1xcdURFMTktXFx1REUzM1xcdURFNjAtXFx1REU3Q1xcdURFODAtXFx1REU5Q1xcdURFQzAtXFx1REVDN1xcdURFQzktXFx1REVFNFxcdURGMDAtXFx1REYzNVxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY3MlxcdURGODAtXFx1REY5MV18XFx1RDgwM1tcXHVEQzAwLVxcdURDNDhcXHVEQzgwLVxcdURDQjJcXHVEQ0MwLVxcdURDRjJdfFxcdUQ4MDRbXFx1REMwMy1cXHVEQzM3XFx1REM4My1cXHVEQ0FGXFx1RENEMC1cXHVEQ0U4XFx1REQwMy1cXHVERDI2XFx1REQ1MC1cXHVERDcyXFx1REQ3NlxcdUREODMtXFx1RERCMlxcdUREQzEtXFx1RERDNFxcdUREREFcXHVERERDXFx1REUwMC1cXHVERTExXFx1REUxMy1cXHVERTJCXFx1REU4MC1cXHVERTg2XFx1REU4OFxcdURFOEEtXFx1REU4RFxcdURFOEYtXFx1REU5RFxcdURFOUYtXFx1REVBOFxcdURFQjAtXFx1REVERVxcdURGMDUtXFx1REYwQ1xcdURGMEZcXHVERjEwXFx1REYxMy1cXHVERjI4XFx1REYyQS1cXHVERjMwXFx1REYzMlxcdURGMzNcXHVERjM1LVxcdURGMzlcXHVERjNEXFx1REY1MFxcdURGNUQtXFx1REY2MV18XFx1RDgwNVtcXHVEQzAwLVxcdURDMzRcXHVEQzQ3LVxcdURDNEFcXHVEQzgwLVxcdURDQUZcXHVEQ0M0XFx1RENDNVxcdURDQzdcXHVERDgwLVxcdUREQUVcXHVEREQ4LVxcdUREREJcXHVERTAwLVxcdURFMkZcXHVERTQ0XFx1REU4MC1cXHVERUFBXFx1REYwMC1cXHVERjE5XXxcXHVEODA2W1xcdURDQTAtXFx1RENERlxcdURDRkZcXHVERTAwXFx1REUwQi1cXHVERTMyXFx1REUzQVxcdURFNTBcXHVERTVDLVxcdURFODNcXHVERTg2LVxcdURFODlcXHVERUMwLVxcdURFRjhdfFxcdUQ4MDdbXFx1REMwMC1cXHVEQzA4XFx1REMwQS1cXHVEQzJFXFx1REM0MFxcdURDNzItXFx1REM4RlxcdUREMDAtXFx1REQwNlxcdUREMDhcXHVERDA5XFx1REQwQi1cXHVERDMwXFx1REQ0Nl18XFx1RDgwOFtcXHVEQzAwLVxcdURGOTldfFxcdUQ4MDlbXFx1REM4MC1cXHVERDQzXXxbXFx1RDgwQ1xcdUQ4MUMtXFx1RDgyMFxcdUQ4NDAtXFx1RDg2OFxcdUQ4NkEtXFx1RDg2Q1xcdUQ4NkYtXFx1RDg3MlxcdUQ4NzQtXFx1RDg3OV1bXFx1REMwMC1cXHVERkZGXXxcXHVEODBEW1xcdURDMDAtXFx1REMyRV18XFx1RDgxMVtcXHVEQzAwLVxcdURFNDZdfFxcdUQ4MUFbXFx1REMwMC1cXHVERTM4XFx1REU0MC1cXHVERTVFXFx1REVEMC1cXHVERUVEXFx1REYwMC1cXHVERjJGXFx1REY0MC1cXHVERjQzXFx1REY2My1cXHVERjc3XFx1REY3RC1cXHVERjhGXXxcXHVEODFCW1xcdURGMDAtXFx1REY0NFxcdURGNTBcXHVERjkzLVxcdURGOUZcXHVERkUwXFx1REZFMV18XFx1RDgyMVtcXHVEQzAwLVxcdURGRUNdfFxcdUQ4MjJbXFx1REMwMC1cXHVERUYyXXxcXHVEODJDW1xcdURDMDAtXFx1REQxRVxcdURENzAtXFx1REVGQl18XFx1RDgyRltcXHVEQzAwLVxcdURDNkFcXHVEQzcwLVxcdURDN0NcXHVEQzgwLVxcdURDODhcXHVEQzkwLVxcdURDOTldfFxcdUQ4MzVbXFx1REMwMC1cXHVEQzU0XFx1REM1Ni1cXHVEQzlDXFx1REM5RVxcdURDOUZcXHVEQ0EyXFx1RENBNVxcdURDQTZcXHVEQ0E5LVxcdURDQUNcXHVEQ0FFLVxcdURDQjlcXHVEQ0JCXFx1RENCRC1cXHVEQ0MzXFx1RENDNS1cXHVERDA1XFx1REQwNy1cXHVERDBBXFx1REQwRC1cXHVERDE0XFx1REQxNi1cXHVERDFDXFx1REQxRS1cXHVERDM5XFx1REQzQi1cXHVERDNFXFx1REQ0MC1cXHVERDQ0XFx1REQ0NlxcdURENEEtXFx1REQ1MFxcdURENTItXFx1REVBNVxcdURFQTgtXFx1REVDMFxcdURFQzItXFx1REVEQVxcdURFREMtXFx1REVGQVxcdURFRkMtXFx1REYxNFxcdURGMTYtXFx1REYzNFxcdURGMzYtXFx1REY0RVxcdURGNTAtXFx1REY2RVxcdURGNzAtXFx1REY4OFxcdURGOEEtXFx1REZBOFxcdURGQUEtXFx1REZDMlxcdURGQzQtXFx1REZDQl18XFx1RDgzQVtcXHVEQzAwLVxcdURDQzRcXHVERDAwLVxcdURENDNdfFxcdUQ4M0JbXFx1REUwMC1cXHVERTAzXFx1REUwNS1cXHVERTFGXFx1REUyMVxcdURFMjJcXHVERTI0XFx1REUyN1xcdURFMjktXFx1REUzMlxcdURFMzQtXFx1REUzN1xcdURFMzlcXHVERTNCXFx1REU0MlxcdURFNDdcXHVERTQ5XFx1REU0QlxcdURFNEQtXFx1REU0RlxcdURFNTFcXHVERTUyXFx1REU1NFxcdURFNTdcXHVERTU5XFx1REU1QlxcdURFNURcXHVERTVGXFx1REU2MVxcdURFNjJcXHVERTY0XFx1REU2Ny1cXHVERTZBXFx1REU2Qy1cXHVERTcyXFx1REU3NC1cXHVERTc3XFx1REU3OS1cXHVERTdDXFx1REU3RVxcdURFODAtXFx1REU4OVxcdURFOEItXFx1REU5QlxcdURFQTEtXFx1REVBM1xcdURFQTUtXFx1REVBOVxcdURFQUItXFx1REVCQl18XFx1RDg2OVtcXHVEQzAwLVxcdURFRDZcXHVERjAwLVxcdURGRkZdfFxcdUQ4NkRbXFx1REMwMC1cXHVERjM0XFx1REY0MC1cXHVERkZGXXxcXHVEODZFW1xcdURDMDAtXFx1REMxRFxcdURDMjAtXFx1REZGRl18XFx1RDg3M1tcXHVEQzAwLVxcdURFQTFcXHVERUIwLVxcdURGRkZdfFxcdUQ4N0FbXFx1REMwMC1cXHVERkUwXXxcXHVEODdFW1xcdURDMDAtXFx1REUxRF0pKyAoKElOU0VOU0lUSVZFfFNDUk9MTCkgKXswLDJ9Q1VSU09SIFwiKTsgLy9ub3RlIHRoZSB1c2Ugb2YgXCJ1bmljb2RlIGxldHRlclwiIGluIGlkZW50aWZpZXIgcnVsZVxyXG4gICAgICAgIHN0YXRpYyBSZWdleCBfVHJpZ2dlckNvbmRpdGlvbkRldGVjdG9yID0gbmV3IFJlZ2V4KEBcIl4oRk9SfEFGVEVSfElOU1RFQUQgT0YpKCAoSU5TRVJUfFVQREFURXxERUxFVEUpICgsIChJTlNFUlR8VVBEQVRFfERFTEVURSkgKT8oLCAoSU5TRVJUfFVQREFURXxERUxFVEUpICk/KVwiKTsgLy9ub3RlIHRoZSB1c2Ugb2YgXCJ1bmljb2RlIGxldHRlclwiIGluIGlkZW50aWZpZXIgcnVsZVxyXG5cclxuICAgICAgICBwdWJsaWMgTm9kZSBQYXJzZVNRTChJVG9rZW5MaXN0IHRva2VuTGlzdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFBhcnNlVHJlZSBzcWxUcmVlID0gbmV3IFBhcnNlVHJlZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1JPT1QpO1xyXG4gICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpbnQgdG9rZW5Db3VudCA9IHRva2VuTGlzdC5Db3VudDtcclxuICAgICAgICAgICAgaW50IHRva2VuSUQgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAodG9rZW5JRCA8IHRva2VuQ291bnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIElUb2tlbiB0b2tlbiA9IHRva2VuTGlzdFt0b2tlbklEXTtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLlR5cGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuT3BlblBhcmVuczpcclxuXHRcdFx0XHRcdFx0Tm9kZSBmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nID0gc3FsVHJlZS5HZXRGaXJzdE5vbldoaXRlc3BhY2VOb25Db21tZW50Q2hpbGRFbGVtZW50KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdE5vZGUgbGFzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nID0gc3FsVHJlZS5HZXRMYXN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKTtcclxuXHRcdFx0XHRcdFx0Ym9vbCBpc0luc2VydE9yVmFsdWVzQ2xhdXNlID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZyAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuU3RhcnRzV2l0aChcIklOU0VSVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NUE9VTkRLRVlXT1JEKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQpLlRvVXBwZXJJbnZhcmlhbnQoKS5TdGFydHNXaXRoKFwiSU5TRVJUIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpLlN0YXJ0c1dpdGgoXCJWQUxVRVNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FMSUFTKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BBUkVOUywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FTX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUX1BBUkVOUywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcgPT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVRfUEFSRU5TLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZyAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKElzTGF0ZXN0VG9rZW5BRERMRGV0YWlsVmFsdWUoc3FsVHJlZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExERVRBSUxfUEFSRU5TLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nICE9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50UGFyZW5zU2libGluZy5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JEKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBmaXJzdE5vbkNvbW1lbnRQYXJlbnNTaWJsaW5nLlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCkuU3RhcnRzV2l0aChcIk9QVElPTlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgaXNJbnNlcnRPclZhbHVlc0NsYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BBUkVOUywgXCJcIik7XHJcblx0XHRcdFx0XHRcdGVsc2UgaWYgKChsYXN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcgIT0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQmJiBsYXN0Tm9uQ29tbWVudFBhcmVuc1NpYmxpbmcuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FMUEhBT1BFUkFUT1IpXHJcblx0XHRcdFx0XHRcdFx0XHRcdCYmIGxhc3ROb25Db21tZW50UGFyZW5zU2libGluZy5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpLkVxdWFscyhcIklOXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdFx0c3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TLCBcIlwiKTtcclxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoSXNMYXRlc3RUb2tlbkFNaXNjTmFtZShzcWxUcmVlKSlcclxuXHRcdFx0XHRcdFx0XHRzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9QQVJFTlMsIFwiXCIpO1xyXG5cdFx0XHRcdFx0XHRlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FWFBSRVNTSU9OX1BBUkVOUywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5DbG9zZVBhcmVuczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93ZSdyZSBub3QgbGlrZWx5IHRvIGFjdHVhbGx5IGhhdmUgYSBcIlNpbmdsZVN0YXRlbWVudFwiIGluIHBhcmVucywgYnV0IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkZWZpbml0ZWx5IHdhbnQgdGhlIHNpZGUtZWZmZWN0cyAoYWxsIHRoZSBsb3dlci1sZXZlbCBlc2NhcGVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueVNpbmdsZU9yUGFydGlhbFN0YXRlbWVudENvbnRhaW5lcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgd2hldGhlciB3ZSBleHBlY3RlZCB0byBlbmQgdGhlIHBhcmVucy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExERVRBSUxfUEFSRU5TKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRlVOQ1RJT05fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSU5fUEFSRU5TKVxyXG5cdFx0XHRcdFx0XHRcdHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFTEVDVElPTlRBUkdFVF9QQVJFTlMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSk7IC8vdW5zcGVjaWZpZWQgcGFyZW50IG5vZGUuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUX1BBUkVOUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuUGFyZW50LlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FTX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcig0LCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX1dJVEhfQ0xBVVNFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRVhQUkVTU0lPTl9QQVJFTlMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHx8IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lOX1BBUkVOUylcclxuXHRcdFx0XHRcdFx0XHRcdFx0fHwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUX1BBUkVOUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMik7IC8vdW5zcGVjaWZpZWQgZ3JhbmRmYXRoZXIgbm9kZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnRXaXRoRXJyb3IoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERSwgXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5PdGhlck5vZGU6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ByZXBhcmUgbXVsdGkta2V5d29yZCBkZXRlY3Rpb24gYnkgXCJwZWVraW5nXCIgdXAgdG8gNyBrZXl3b3JkcyBhaGVhZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMaXN0PGludD4gc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucyA9IEdldFNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnModG9rZW5MaXN0LCB0b2tlbklELCA3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nIHNpZ25pZmljYW50VG9rZW5zU3RyaW5nID0gRXh0cmFjdFRva2Vuc1N0cmluZyh0b2tlbkxpc3QsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19ERVRBSUwpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHdlJ3JlIGluIGEgcGVybWlzc2lvbnMgZGV0YWlsIGNsYXVzZSwgd2UgY2FuIGV4cGVjdCBhbGwgc29ydHMgb2Ygc3RhdGVtZW50cyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0ZXJzIGFuZCBzaG91bGQgaWdub3JlIHRoZW0gYWxsOyB0aGUgb25seSBwb3NzaWJsZSBrZXl3b3JkcyB0byBlc2NhcGUgYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcIk9OXCIgYW5kIFwiVE9cIi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiT04gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19UQVJHRVQsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJUTyBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRlJPTSBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX1JFQ0lQSUVOVCwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlZmF1bHQgdG8gXCJzb21lIGNsYXNzaWZpY2F0aW9uIG9mIHBlcm1pc3Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDUkVBVEUgUFJPQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkNSRUFURSBGVU5DXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ1JFQVRFIFRSSUdHRVIgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQ1JFQVRFIFZJRVcgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQUxURVIgUFJPQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkFMVEVSIEZVTkNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJBTFRFUiBUUklHR0VSIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkFMVEVSIFZJRVcgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0ssIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX0N1cnNvckRldGVjdG9yLklzTWF0Y2goc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9ERUNMQVJBVElPTiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBfVHJpZ2dlckNvbmRpdGlvbkRldGVjdG9yLklzTWF0Y2goc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaG9ycmlibGUgY29tcGxpY2F0ZWQgZm9yd2FyZC1zZWFyY2gsIHRvIGF2b2lkIGhhdmluZyB0byBrZWVwIGEgZGlmZmVyZW50IFwiVHJpZ2dlciBDb25kaXRpb25cIiBzdGF0ZSBmb3IgVXBkYXRlLCBJbnNlcnQgYW5kIERlbGV0ZSBzdGF0ZW1lbnQtc3RhcnRpbmcga2V5d29yZHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRjaCB0cmlnZ2VyQ29uZGl0aW9ucyA9IF9UcmlnZ2VyQ29uZGl0aW9uRGV0ZWN0b3IuTWF0Y2goc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfVFJJR0dFUl9DT05ESVRJT04sIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSB0cmlnZ2VyQ29uZGl0aW9uVHlwZSA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRCwgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9maXJzdCBzZXQgdGhlIFwidHJpZ2dlciBjb25kaXRpb24gdHlwZVwiOiBGT1IsIElOU1RFQUQgT0YsIEFGVEVSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgdHJpZ2dlckNvbmRpdGlvblR5cGVTaW1wbGVUZXh0ID0gdHJpZ2dlckNvbmRpdGlvbnMuR3JvdXBzWzFdLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckNvbmRpdGlvblR5cGUuU2V0QXR0cmlidXRlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9TSU1QTEVURVhULCB0cmlnZ2VyQ29uZGl0aW9uVHlwZVNpbXBsZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IHRyaWdnZXJDb25kaXRpb25UeXBlTm9kZUNvdW50ID0gdHJpZ2dlckNvbmRpdGlvblR5cGVTaW1wbGVUZXh0LlNwbGl0KG5ldyBjaGFyW10geyAnICcgfSkuTGVuZ3RoOyAvL3RoZXJlJ3MgcHJvYmFibHkgYSBiZXR0ZXIgd2F5IG9mIGNvdW50aW5nIHdvcmRzLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBlbmROb2Rlc1dpdGhNYXBwaW5nKHNxbFRyZWUsIHRva2VuTGlzdC5HZXRSYW5nZUJ5SW5kZXgoc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1swXSwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9uc1t0cmlnZ2VyQ29uZGl0aW9uVHlwZU5vZGVDb3VudCAtIDFdKSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdHJpZ2dlckNvbmRpdGlvblR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBnZXQgdGhlIGNvdW50IG9mIGNvbmRpdGlvbnMgKElOU0VSVCwgVVBEQVRFLCBERUxFVEUpIGFuZCBhZGQgdGhvc2UgdG9vLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgdHJpZ2dlckNvbmRpdGlvbk5vZGVDb3VudCA9IHRyaWdnZXJDb25kaXRpb25zLkdyb3Vwc1syXS5WYWx1ZS5TcGxpdChuZXcgY2hhcltdIHsgJyAnIH0pLkxlbmd0aCAtIDI7IC8vdGhlcmUncyBwcm9iYWJseSBhIGJldHRlciB3YXkgb2YgY291bnRpbmcgd29yZHMuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGVuZE5vZGVzV2l0aE1hcHBpbmcoc3FsVHJlZSwgdG9rZW5MaXN0LkdldFJhbmdlQnlJbmRleChzaWduaWZpY2FudFRva2VuUG9zaXRpb25zW3RyaWdnZXJDb25kaXRpb25UeXBlTm9kZUNvdW50IC0gMV0gKyAxLCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zW3RyaWdnZXJDb25kaXRpb25UeXBlTm9kZUNvdW50ICsgdHJpZ2dlckNvbmRpdGlvbk5vZGVDb3VudCAtIDFdKSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSUQgPSBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zW3RyaWdnZXJDb25kaXRpb25UeXBlTm9kZUNvdW50ICsgdHJpZ2dlckNvbmRpdGlvbk5vZGVDb3VudCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJGT1IgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueVNlbGVjdGlvblRhcmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVKb2luQ29uZGl0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfREVDTEFSQVRJT04pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfQkxPQ0ssIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDMsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDQsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfREVDTEFSQVRJT04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfT1BUSU9OUywgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQXNzdW1lIEZPUiBjbGF1c2UgaWYgd2UncmUgYXQgY2xhdXNlIGxldmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKG90aGVyd2lzZSwgZWcgaW4gT1BUSU1JWkUgRk9SIFVOS05PV04sIHRoaXMgd2lsbCBqdXN0IG5vdCBkbyBhbnl0aGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkRFQ0xBUkUgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9ERUNMQVJFX0JMT0NLLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDUkVBVEUgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQUxURVIgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJHUkFOVCBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJERU5ZIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlJFVk9LRSBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJHUkFOVCBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuR2V0Rmlyc3ROb25XaGl0ZXNwYWNlTm9uQ29tbWVudENoaWxkRWxlbWVudChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIpID09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIE1VU1QgYmUgYSBcIldJVEggR1JBTlQgT1BUSU9OXCIgb3B0aW9uLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0ssIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfREVUQUlMKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIlJFVFVSTlMgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9SRVRVUk5TLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkFTIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2V5d29yZFR5cGUgbmV4dEtleXdvcmRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgaXNEYXRhVHlwZURlZmluaXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucy5Db3VudCA+IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgS2V5d29yZExpc3QuVHJ5R2V0VmFsdWUodG9rZW5MaXN0W3NpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnNbMV1dLlZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKSwgb3V0IG5leHRLZXl3b3JkVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEtleXdvcmRUeXBlID09IEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGF0YVR5cGVEZWZpbml0aW9uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGF0YVR5cGVEZWZpbml0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGFjdHVhbGx5IGEgZGF0YSB0eXBlIGRlY2xhcmF0aW9uIChyZWR1bmRhbnQgXCJBU1wiLi4uKSwgc2F2ZSBhcyByZWd1bGFyIHRva2VuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIHRoZSBzdGFydCBvZiB0aGUgb2JqZWN0IGNvbnRlbnQgZGVmaW5pdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfQVNfQkxPQ0ssIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9XSVRIX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9QUk9DRURVUkFMX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfQVNfQkxPQ0ssIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FMSUFTKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1RFX0FTX0JMT0NLLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJFR0lOIERJU1RSSUJVVEVEIFRSQU5TQUNUSU9OIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJFR0lOIERJU1RSSUJVVEVEIFRSQU4gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFR0lOX1RSQU5TQUNUSU9OLCBcIlwiKSwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCRUdJTiBUUkFOU0FDVElPTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCRUdJTiBUUkFOIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9UUkFOU0FDVElPTiwgXCJcIiksIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiU0FWRSBUUkFOU0FDVElPTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJTQVZFIFRSQU4gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NBVkVfVFJBTlNBQ1RJT04sIFwiXCIpLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkNPTU1JVCBUUkFOU0FDVElPTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDT01NSVQgVFJBTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDT01NSVQgV09SSyBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUlUX1RSQU5TQUNUSU9OLCBcIlwiKSwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDT01NSVQgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1JVF9UUkFOU0FDVElPTiwgdG9rZW4uVmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiUk9MTEJBQ0sgVFJBTlNBQ1RJT04gXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiUk9MTEJBQ0sgVFJBTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJST0xMQkFDSyBXT1JLIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ST0xMQkFDS19UUkFOU0FDVElPTiwgXCJcIiksIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiUk9MTEJBQ0sgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1JPTExCQUNLX1RSQU5TQUNUSU9OLCB0b2tlbi5WYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJCRUdJTiBUUlkgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgbmV3VHJ5QmxvY2sgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUllfQkxPQ0ssIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSB0cnlDb250YWluZXJPcGVuID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4sIFwiXCIsIG5ld1RyeUJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCB0cnlDb250YWluZXJPcGVuLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHRyeU11bHRpQ29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5ULCBcIlwiLCBuZXdUcnlCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KHRyeU11bHRpQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQkVHSU4gQ0FUQ0ggXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgbmV3Q2F0Y2hCbG9jayA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBVENIX0JMT0NLLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgY2F0Y2hDb250YWluZXJPcGVuID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4sIFwiXCIsIG5ld0NhdGNoQmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIGNhdGNoQ29udGFpbmVyT3BlbiwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBjYXRjaE11bHRpQ29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5ULCBcIlwiLCBuZXdDYXRjaEJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdTdGF0ZW1lbnQoY2F0Y2hNdWx0aUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJFR0lOIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9FTkRfQkxPQ0ssIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiTUVSR0UgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0FjY29yZGluZyB0byBCT0wsIE1FUkdFIGlzIGEgZnVsbHkgcmVzZXJ2ZWQga2V5d29yZCBmcm9tIGNvbXBhdCAxMDAgb253YXJkcywgZm9yIHRoZSBNRVJHRSBzdGF0ZW1lbnQgb25seS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DTEFVU0UsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVEFSR0VUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVVNJTkcgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1RBUkdFVCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9VU0lORywgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnRXaXRoRXJyb3IoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERSwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJPTiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55U2VsZWN0aW9uVGFyZ2V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9VU0lORykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9DT05ESVRJT04sIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfT1RIRVJfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FWFBSRVNTSU9OX1BBUkVOUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAhQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgXCJTRVRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSk9JTl9PTl9TRUNUSU9OLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkNBU0UgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1NUQVRFTUVOVCwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0lOUFVUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiV0hFTiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlTWVyZ2VBY3Rpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfSU5QVVQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1RIRU4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0lOUFVUKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9TVEFURU1FTlQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1dIRU4sIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ09ORElUSU9OKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1dIRU4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ09ORElUSU9OKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfQ0xBVVNFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0NMQVVTRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX1dIRU4sIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREUsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVEhFTiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55QmV0d2VlbkNvbmRpdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9XSEVOKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1dIRU4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfVEhFTiwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfV0hFTilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfV0hFTik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTUVSR0VfVEhFTiwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9BQ1RJT04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREUsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiT1VUUFVUIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBpc1Nwcm9jQXJndW1lbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1dlJ3JlIGxvb2tpbmcgZm9yIHNwcm9jIGNhbGxzIC0gdGhleSBjYW4ndCBiZSBuZXN0ZWQgaW5zaWRlIGFueXRoaW5nIGVsc2UgKGFzIGZhciBhcyBJIGtub3cpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIsIFwiRVhFQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBDb250ZW50U3RhcnRzV2l0aEtleXdvcmQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCBcIkVYRUNVVEVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Nwcm9jQXJndW1lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWxzbyBwcm9jIGRlZmluaXRpb25zIC0gYXJndW1lbnQgbGlzdHMgd2l0aG91dCBwYXJlbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Byb2NBcmd1bWVudCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Nwcm9jQXJndW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVNZXJnZUFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJPUFRJT04gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1wiT1BUSU9OXCIga2V5d29yZCBoZXJlIGlzIE5PVCBpbmRpY2F0aXZlIG9mIGEgbmV3IGNsYXVzZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZU1lcmdlQWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRU5EIFRSWSBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55U2luZ2xlT3JQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX01VTFRJU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDMsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9UUllfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xhdXNlLnN0YXRlbWVudC5tdWx0aWNvbnRhaW5lci50cnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHRyeUJsb2NrID0gc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5QYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgdHJ5Q29udGFpbmVyQ2xvc2UgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0UsIFwiXCIsIHRyeUJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgdHJ5Q29udGFpbmVyQ2xvc2UsIHJlZiB0b2tlbklELCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSB0cnlCbG9jay5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZFdpdGhFcnJvcih0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJFTkQgQ0FUQ0ggXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZUFueVNpbmdsZU9yUGFydGlhbFN0YXRlbWVudENvbnRhaW5lcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9NVUxUSVNUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygzLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FUQ0hfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xhdXNlLnN0YXRlbWVudC5tdWx0aWNvbnRhaW5lci5jYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgY2F0Y2hCbG9jayA9IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGNhdGNoQ29udGFpbmVyQ2xvc2UgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfQ0xPU0UsIFwiXCIsIGNhdGNoQmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBjYXRjaENvbnRhaW5lckNsb3NlLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gY2F0Y2hCbG9jay5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZFdpdGhFcnJvcih0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJFTkQgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9USEVOKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDMsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1NUQVRFTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxKTsgLy91bm5hbWVkIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ0FTRV9FTFNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1NUQVRFTUVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxKTsgLy91bm5hbWVkIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQmVnaW4vRW5kIGJsb2NrIGhhbmRsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTaW5nbGVPclBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfTVVMVElTVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDMsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRUdJTl9FTkRfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgYmVnaW5CbG9jayA9IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBiZWdpbkNvbnRhaW5lckNsb3NlID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0NMT1NFLCBcIlwiLCBiZWdpbkJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSwgYmVnaW5Db250YWluZXJDbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IGJlZ2luQmxvY2suUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkdPIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTaW5nbGVPclBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0b2tlbklEID09IDAgfHwgSXNMaW5lQnJlYWtpbmdXaGl0ZVNwYWNlT3JDb21tZW50KHRva2VuTGlzdFt0b2tlbklEIC0gMV0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIElzRm9sbG93ZWRCeUxpbmVCcmVha2luZ1doaXRlU3BhY2VPclNpbmdsZUxpbmVDb21tZW50T3JFbmQodG9rZW5MaXN0LCB0b2tlbklEKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBmb3VuZCBhIGJhdGNoIHNlcGFyYXRvciAtIHdlcmUgd2Ugc3VwcG9zZWQgdG8/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuRmluZFZhbGlkQmF0Y2hFbmQoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgc3FsUm9vdCA9IHNxbFRyZWUuUm9vdENvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGJhdGNoU2VwYXJhdG9yID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkFUQ0hfU0VQQVJBVE9SLCBcIlwiLCBzcWxSb290KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSwgYmF0Y2hTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KHNxbFJvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50V2l0aEVycm9yKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkVYRUNVVEUgQVMgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGV4ZWN1dGVBc0luV2l0aE9wdGlvbnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKElzTGF0ZXN0VG9rZW5BQ29tbWEoc3FsVHJlZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgIXNxbFRyZWUuSGFzTm9uV2hpdGVTcGFjZU5vbkNvbW1lbnRDb250ZW50KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlQXNJbldpdGhPcHRpb25zID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4ZWN1dGVBc0luV2l0aE9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJFWEVDIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkVYRUNVVEUgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgZXhlY1Nob3VsZG50VHJ5VG9TdGFydE5ld1N0YXRlbWVudCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgXCJJTlNFUlRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgXCJJTlNFUlQgSU5UT1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBleGlzdGluZ0NsYXVzZUNvdW50ID0gc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudCAhPSBudWxsID8gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5Db3VudDxOb2RlPihzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuUGFyZW50LkNoaWxkcmVuQnlOYW1lKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKSkgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0NsYXVzZUNvdW50ID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNTaG91bGRudFRyeVRvU3RhcnROZXdTdGF0ZW1lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXhlY1Nob3VsZG50VHJ5VG9TdGFydE5ld1N0YXRlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfSm9pbkRldGVjdG9yLklzTWF0Y2goc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBqb2luVGV4dCA9IF9Kb2luRGV0ZWN0b3IuTWF0Y2goc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcpLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IHRhcmdldEtleXdvcmRDb3VudCA9IGpvaW5UZXh0LlNwbGl0KG5ldyBjaGFyW10geyAnICcgfSwgU3RyaW5nU3BsaXRPcHRpb25zLlJlbW92ZUVtcHR5RW50cmllcykuTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIHRhcmdldEtleXdvcmRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVQsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJVTklPTiBBTEwgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NDb21wb3VuZEtleXdvcmQodG9rZW5MaXN0LCBzcWxUcmVlLCBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFLCBcIlwiKSwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJVTklPTiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJJTlRFUlNFQ1QgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRVhDRVBUIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgdW5pb25DbGF1c2UgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRVRfT1BFUkFUT1JfQ0xBVVNFLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHVuaW9uQ2xhdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiV0hJTEUgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgbmV3V2hpbGVMb29wID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJTEVfTE9PUCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIHdoaWxlQ29udGFpbmVyT3BlbiA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOLCBcIlwiLCBuZXdXaGlsZUxvb3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSwgd2hpbGVDb250YWluZXJPcGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JPT0xFQU5fRVhQUkVTU0lPTiwgXCJcIiwgbmV3V2hpbGVMb29wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiSUYgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU3RhcnROZXdDb250YWluZXIoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lGX1NUQVRFTUVOVCwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CT09MRUFOX0VYUFJFU1NJT04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJFTFNFIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlCZXR3ZWVuQ29uZGl0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTZWxlY3Rpb25UYXJnZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlSm9pbkNvbmRpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX1RIRU4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMywgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NBU0VfU1RBVEVNRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DQVNFX0VMU0UsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkVzY2FwZVBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIG5lZWQgdG8gcG9wIHVwIHRoZSBzaW5nbGUtc3RhdGVtZW50IGNvbnRhaW5lcnMgc3RhY2sgdG8gdGhlIG5leHQgXCJpZlwiIHRoYXQgZG9lc24ndCBoYXZlIGFuIFwiZWxzZVwiIChpZiBhbnk7IGVsc2UgZXJyb3IpLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMT0NBTCBTRUFSQ0ggLSB3ZSdyZSBub3QgYWN0dWFsbHkgY2hhbmdpbmcgdGhlIFwiQ3VycmVudENvbnRhaW5lclwiIHVudGlsIHdlIGRlY2lkZSB0byBzdGFydCBhIHN0YXRlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBjdXJyZW50Tm9kZSA9IHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIHN0b3BTZWFyY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCFzdG9wU2VhcmNoaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoY3VycmVudE5vZGUsIDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JRl9TVEFURU1FTlQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBpbiBhbiBcIklmXCIsIHRoZW4gdGhlIFwiRWxzZVwiIG11c3Qgc3RpbGwgYmUgYXZhaWxhYmxlIC0geWF5IVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IGN1cnJlbnROb2RlLlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FTFNFX0NMQVVTRSwgdG9rZW4uVmFsdWUsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3U3RhdGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFNlYXJjaGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcyhjdXJyZW50Tm9kZSwgMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0VMU0VfQ0xBVVNFKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIHRoaXMgaXMgaW4gYW4gXCJFbHNlXCIsIHdlIHNob3VsZCBza2lwIGl0cyBwYXJlbnQgXCJJRlwiIGFsdG9nZXRoZXIsIGFuZCBnbyB0byB0aGUgbmV4dCBzaW5nbGVzdGF0ZW1lbnRjb250YWluZXIgY2FuZGlkYXRlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2luZ2xlc3RhdGVtZW50Y29udGFpbmVyLmVsc2UuaWYuY2xhdXNlLnN0YXRlbWVudC5ORVdDQU5ESURBVEVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLlBhcmVudC5QYXJlbnQuUGFyZW50LlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcyhjdXJyZW50Tm9kZSwgMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISUxFX0xPT1ApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgdGhpcyBpcyBpbiBhIFwiV2hpbGVcIiwgd2Ugc2hvdWxkIHNraXAgdG8gdGhlIG5leHQgc2luZ2xlc3RhdGVtZW50Y29udGFpbmVyIGNhbmRpZGF0ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NpbmdsZXN0YXRlbWVudGNvbnRhaW5lci53aGlsZS5jbGF1c2Uuc3RhdGVtZW50Lk5FV0NBTkRJREFURVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuUGFyZW50LlBhcmVudC5QYXJlbnQuUGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpc24ndCBhIGtub3duIHNpbmdsZS1zdGF0ZW1lbnQgY29udGFpbmVyLCB0aGVuIHdlJ3JlIGxvc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudFdpdGhFcnJvcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFNlYXJjaGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudFdpdGhFcnJvcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJJTlNFUlQgSU5UTyBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIk5BVElPTkFMIENIQVJBQ1RFUiBWQVJZSU5HIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJOQVRJT05BTCBDSEFSIFZBUllJTkcgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkJJTkFSWSBWQVJZSU5HIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBGaWd1cmUgb3V0IGhvdyB0byBoYW5kbGUgXCJDb21wb3VuZCBLZXl3b3JkIERhdGF0eXBlc1wiIHNvIHRoZXkgYXJlIHN0aWxsIGNvcnJlY3RseSBoaWdobGlnaHRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDSEFSIFZBUllJTkcgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIkNIQVJBQ1RFUiBWQVJZSU5HIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJET1VCTEUgUFJFQ0lTSU9OIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJOQVRJT05BTCBDSEFSQUNURVIgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIk5BVElPTkFMIENIQVIgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIk5BVElPTkFMIFRFWFQgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzQ29tcG91bmRLZXl3b3JkKHRva2VuTGlzdCwgc3FsVHJlZSwgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIklOU0VSVCBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQlVMSyBJTlNFUlQgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciwgcmVmIHRva2VuSUQsIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJTRUxFQ1QgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5OZXdTdGF0ZW1lbnREdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBzZWxlY3RTaG91bGRudFRyeVRvU3RhcnROZXdTdGF0ZW1lbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgZmlyc3RTdGF0ZW1lbnRDbGF1c2UgPSBzcWxUcmVlLkdldEZpcnN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgaXNQcmVjZWRlZEJ5SW5zZXJ0U3RhdGVtZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjbGF1c2UgaW4gc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb250ZW50U3RhcnRzV2l0aEtleXdvcmQoY2xhdXNlLCBcIklOU0VSVFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJlY2VkZWRCeUluc2VydFN0YXRlbWVudCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ByZWNlZGVkQnlJbnNlcnRTdGF0ZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGV4aXN0aW5nU2VsZWN0Q2xhdXNlRm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjbGF1c2UgaW4gc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKGNsYXVzZSwgXCJTRUxFQ1RcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdTZWxlY3RDbGF1c2VGb3VuZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGV4aXN0aW5nVmFsdWVzQ2xhdXNlRm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSBjbGF1c2UgaW4gc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLlBhcmVudC5DaGlsZHJlbkJ5TmFtZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKGNsYXVzZSwgXCJWQUxVRVNcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdWYWx1ZXNDbGF1c2VGb3VuZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGV4aXN0aW5nRXhlY0NsYXVzZUZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKE5vZGUgY2xhdXNlIGluIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5QYXJlbnQuQ2hpbGRyZW5CeU5hbWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChjbGF1c2UsIFwiRVhFQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IENvbnRlbnRTdGFydHNXaXRoS2V5d29yZChjbGF1c2UsIFwiRVhFQ1VURVwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0V4ZWNDbGF1c2VGb3VuZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nU2VsZWN0Q2xhdXNlRm91bmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFleGlzdGluZ1ZhbHVlc0NsYXVzZUZvdW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAhZXhpc3RpbmdFeGVjQ2xhdXNlRm91bmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFNob3VsZG50VHJ5VG9TdGFydE5ld1N0YXRlbWVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb2RlIGZpcnN0RW50cnlPZlRoaXNDbGF1c2UgPSBzcWxUcmVlLkdldEZpcnN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RFbnRyeU9mVGhpc0NsYXVzZSAhPSBudWxsICYmIGZpcnN0RW50cnlPZlRoaXNDbGF1c2UuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NFVF9PUEVSQVRPUl9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RTaG91bGRudFRyeVRvU3RhcnROZXdTdGF0ZW1lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0U2hvdWxkbnRUcnlUb1N0YXJ0TmV3U3RhdGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJVUERBVEUgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5OZXdTdGF0ZW1lbnREdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NVUlNPUl9GT1JfT1BUSU9OUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiVE8gXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfVEFSR0VUKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5ULCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JIGRvbid0IGN1cnJlbnRseSBrbm93IHdoZXRoZXIgdGhlcmUgaXMgYW55IG90aGVyIHBsYWNlIHdoZXJlIFwiVE9cIiBjYW4gYmUgdXNlZCBpbiBULVNRTC4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGxvb2sgaW50byB0aGF0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0+IGZvciBub3csIHdlJ2xsIGp1c3Qgc2F2ZSBhcyBhIHJhbmRvbSBrZXl3b3JkIHdpdGhvdXQgcmFpc2luZyBhbiBlcnJvci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiRlJPTSBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19UQVJHRVQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlN0YXJ0TmV3Q29udGFpbmVyKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19SRUNJUElFTlQsIHRva2VuLlZhbHVlLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVQsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJDQVNDQURFIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19SRUNJUElFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUk1JU1NJT05TX0JMT0NLKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCwgXCJcIiwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiU0VUIFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9kZSBmaXJzdE5vbkNvbW1lbnRTaWJsaW5nMiA9IHNxbFRyZWUuR2V0Rmlyc3ROb25XaGl0ZXNwYWNlTm9uQ29tbWVudENoaWxkRWxlbWVudChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Tm9uQ29tbWVudFNpYmxpbmcyICE9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50U2libGluZzIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZmlyc3ROb25Db21tZW50U2libGluZzIuVGV4dFZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKS5TdGFydHNXaXRoKFwiVVBEQVRFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3Q2xhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWduaWZpY2FudFRva2Vuc1N0cmluZy5TdGFydHNXaXRoKFwiQkVUV0VFTiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fQ09ORElUSU9OLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9PUEVOLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CRVRXRUVOX0xPV0VSQk9VTkQsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJBTkQgXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fTE9XRVJCT1VORCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Nb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9DT05ESVRJT04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9DTE9TRSwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fVVBQRVJCT1VORCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlCZXR3ZWVuQ29uZGl0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0FORF9PUEVSQVRPUiwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25pZmljYW50VG9rZW5zU3RyaW5nLlN0YXJ0c1dpdGgoXCJPUiBcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuRXNjYXBlQW55QmV0d2VlbkNvbmRpdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgdG9rZW4uVmFsdWUsIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09SX09QRVJBVE9SLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmlmaWNhbnRUb2tlbnNTdHJpbmcuU3RhcnRzV2l0aChcIldJVEggXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FsVHJlZS5OZXdTdGF0ZW1lbnREdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Db25zaWRlclN0YXJ0aW5nTmV3U3RhdGVtZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFzcWxUcmVlLkhhc05vbldoaXRlU3BhY2VOb25Db21tZW50Q29udGVudChzcWxUcmVlLkN1cnJlbnRDb250YWluZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lciA9IHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJLRVlXT1JELCB0b2tlbi5WYWx1ZSwgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX09QRU4sIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQUxJQVMsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfUkVDSVBJRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLk1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19CTE9DSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9PVEhFUl9CTE9DSylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TdGFydE5ld0NvbnRhaW5lcihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1dJVEhfQ0xBVVNFLCB0b2tlbi5WYWx1ZSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkNvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbkxpc3QuQ291bnQgPiB0b2tlbklEICsgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgdG9rZW5MaXN0W3Rva2VuSUQgKyAxXS5UeXBlID09IFNxbFRva2VuVHlwZS5Db2xvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgISh0b2tlbkxpc3QuQ291bnQgPiB0b2tlbklEICsgMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRva2VuTGlzdFt0b2tlbklEICsgMl0uVHlwZSA9PSBTcWxUb2tlblR5cGUuQ29sb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTEFCRUwsIHRva2VuLlZhbHVlICsgdG9rZW5MaXN0W3Rva2VuSUQgKyAxXS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbklEKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21pc2NlbGxhbmVvdXMgc2luZ2xlLXdvcmQgdG9rZW5zLCB3aGljaCBtYXkgb3IgbWF5IG5vdCBiZSBzdGF0ZW1lbnQgc3RhcnRlcnMgYW5kL29yIGNsYXVzZSBzdGFydGVyc1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgZm9yIHN0YXRlbWVudHMgc3RhcnRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChJc1N0YXRlbWVudFN0YXJ0ZXIodG9rZW4pIHx8IHNxbFRyZWUuTmV3U3RhdGVtZW50RHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld1N0YXRlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgZm9yIHN0YXRlbWVudHMgc3RhcnRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChJc0NsYXVzZVN0YXJ0ZXIodG9rZW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuQ29uc2lkZXJTdGFydGluZ05ld0NsYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBuZXdOb2RlTmFtZSA9IFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUk5PREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXl3b3JkVHlwZSBtYXRjaGVkS2V5d29yZFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoS2V5d29yZExpc3QuVHJ5R2V0VmFsdWUodG9rZW4uVmFsdWUuVG9VcHBlckludmFyaWFudCgpLCBvdXQgbWF0Y2hlZEtleXdvcmRUeXBlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1hdGNoZWRLZXl3b3JkVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZU5hbWUgPSBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQUxQSEFPUEVSQVRPUjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGVOYW1lID0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0ZVTkNUSU9OX0tFWVdPUkQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdOb2RlTmFtZSA9IFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9EQVRBVFlQRV9LRVlXT1JEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5Fc2NhcGVBbnlTZWxlY3Rpb25UYXJnZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGVOYW1lID0gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlVucmVjb2duaXplZCBLZXl3b3JkIFR5cGUhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KG5ld05vZGVOYW1lLCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlNlbWljb2xvbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VNSUNPTE9OLCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTmV3U3RhdGVtZW50RHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkNvbG9uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5MaXN0LkNvdW50ID4gdG9rZW5JRCArIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRva2VuTGlzdFt0b2tlbklEICsgMV0uVHlwZSA9PSBTcWxUb2tlblR5cGUuQ29sb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0NPUEVSRVNPTFVUSU9OT1BFUkFUT1IsIHRva2VuLlZhbHVlICsgdG9rZW5MaXN0W3Rva2VuSUQgKyAxXS5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbklEKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW5MaXN0LkNvdW50ID4gdG9rZW5JRCArIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHRva2VuTGlzdFt0b2tlbklEICsgMV0uVHlwZSA9PSBTcWxUb2tlblR5cGUuT3RoZXJOb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vVGhpcyBTSE9VTEQgbmV2ZXIgaGFwcGVuIGluIHZhbGlkIFQtU1FMLCBidXQgY2FuIGhhcHBlbiBpbiBEQjIgb3IgTmV4dXNEQiBvciBQb3N0Z3JlU1FMIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29kZSAoaG9zdCB2YXJpYWJsZXMpIC0gc28gYmUgbmljZSBhbmQgaGFuZGxlIGl0IGFueXdheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSTk9ERSwgdG9rZW4uVmFsdWUgKyB0b2tlbkxpc3RbdG9rZW5JRCArIDFdLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSUQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnRXaXRoRXJyb3IoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVST1BFUkFUT1IsIHRva2VuLlZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQ29tbWE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgaXNDVEVTcGxpdHRlciA9IChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3FsVHJlZS5QYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KEdldEVxdWl2YWxlbnRTcWxOb2RlTmFtZSh0b2tlbi5UeXBlKSwgdG9rZW4uVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ1RFU3BsaXR0ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIgPSBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVEVfQUxJQVMsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5FcXVhbHNTaWduOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FUVVBTFNTSUdOLCB0b2tlbi5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0RFQ0xBUkVfQkxPQ0spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5ULCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnRDU3R5bGU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuV2hpdGVTcGFjZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgaW4gc3RhdGVtZW50IHJhdGhlciB0aGFuIGNsYXVzZSBpZiB0aGVyZSBhcmUgbm8gc2libGluZ3MgeWV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxUcmVlLlBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHNxbFRyZWUuUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIVN5c3RlbS5MaW5xLkVudW1lcmFibGUuQW55PE5vZGU+KHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5DaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbFRyZWUuU2F2ZU5ld0VsZW1lbnRBc1ByaW9yU2libGluZyhHZXRFcXVpdmFsZW50U3FsTm9kZU5hbWUodG9rZW4uVHlwZSksIHRva2VuLlZhbHVlLCBzcWxUcmVlLkN1cnJlbnRDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KEdldEVxdWl2YWxlbnRTcWxOb2RlTmFtZSh0b2tlbi5UeXBlKSwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQnJhY2tldFF1b3RlZE5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQXN0ZXJpc2s6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuUGVyaW9kOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk90aGVyT3BlcmF0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTmF0aW9uYWxTdHJpbmc6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlF1b3RlZFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5OdW1iZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQmluYXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTW9uZXRhcnlWYWx1ZTpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5Qc2V1ZG9OYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KEdldEVxdWl2YWxlbnRTcWxOb2RlTmFtZSh0b2tlbi5UeXBlKSwgdG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiVW5yZWNvZ25pemVkIGVsZW1lbnQgZW5jb3VudGVyZWQhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRva2VuSUQrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRva2VuTGlzdC5IYXNVbmZpbmlzaGVkVG9rZW4pXHJcbiAgICAgICAgICAgICAgICBzcWxUcmVlLlNldEVycm9yKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXNxbFRyZWUuRmluZFZhbGlkQmF0Y2hFbmQoKSlcclxuICAgICAgICAgICAgICAgIHNxbFRyZWUuU2V0RXJyb3IoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzcWxUcmVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9UT0RPOiBtb3ZlIGludG8gcGFyc2UgdHJlZVxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJvb2wgQ29udGVudFN0YXJ0c1dpdGhLZXl3b3JkKE5vZGUgcHJvdmlkZWRDb250YWluZXIsIHN0cmluZyBjb250ZW50VG9NYXRjaClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgZmlyc3RFbnRyeU9mUHJvdmlkZWRDb250YWluZXIgPSAoKFBhcnNlVHJlZSlwcm92aWRlZENvbnRhaW5lci5Sb290Q29udGFpbmVyKCkpLkdldEZpcnN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQocHJvdmlkZWRDb250YWluZXIpO1xyXG4gICAgICAgICAgICBib29sIHRhcmdldEZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHN0cmluZyBrZXl3b3JkVXBwZXJWYWx1ZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlyc3RFbnRyeU9mUHJvdmlkZWRDb250YWluZXIgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgJiYgZmlyc3RFbnRyeU9mUHJvdmlkZWRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRClcclxuICAgICAgICAgICAgICAgICYmIGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyLlRleHRWYWx1ZSAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBrZXl3b3JkVXBwZXJWYWx1ZSA9IGZpcnN0RW50cnlPZlByb3ZpZGVkQ29udGFpbmVyLlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlyc3RFbnRyeU9mUHJvdmlkZWRDb250YWluZXIgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgJiYgZmlyc3RFbnRyeU9mUHJvdmlkZWRDb250YWluZXIuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTVBPVU5ES0VZV09SRClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIGtleXdvcmRVcHBlclZhbHVlID0gZmlyc3RFbnRyeU9mUHJvdmlkZWRDb250YWluZXIuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGtleXdvcmRVcHBlclZhbHVlICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldEZvdW5kID0ga2V5d29yZFVwcGVyVmFsdWUuRXF1YWxzKGNvbnRlbnRUb01hdGNoKSB8fCBrZXl3b3JkVXBwZXJWYWx1ZS5TdGFydHNXaXRoKGNvbnRlbnRUb01hdGNoICsgXCIgXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9pZiBjb250ZW50VG9NYXRjaCB3YXMgcGFzc2VkIGluIGFzIG51bGwsIG1lYW5zIHdlIHdlcmUgbG9va2luZyBmb3IgYSBOT04ta2V5d29yZC5cclxuICAgICAgICAgICAgICAgIHRhcmdldEZvdW5kID0gY29udGVudFRvTWF0Y2ggPT0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldEZvdW5kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFByb2Nlc3NDb21wb3VuZEtleXdvcmRXaXRoRXJyb3IoSVRva2VuTGlzdCB0b2tlbkxpc3QsIFBhcnNlVHJlZSBzcWxUcmVlLCBOb2RlIGN1cnJlbnRDb250YWluZXJFbGVtZW50LCByZWYgaW50IHRva2VuSUQsIExpc3Q8aW50PiBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLCBpbnQga2V5d29yZENvdW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZCh0b2tlbkxpc3QsIHNxbFRyZWUsIGN1cnJlbnRDb250YWluZXJFbGVtZW50LCByZWYgdG9rZW5JRCwgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywga2V5d29yZENvdW50KTtcclxuICAgICAgICAgICAgc3FsVHJlZS5TZXRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIFByb2Nlc3NDb21wb3VuZEtleXdvcmQoSVRva2VuTGlzdCB0b2tlbkxpc3QsIFBhcnNlVHJlZSBzcWxUcmVlLCBOb2RlIHRhcmdldENvbnRhaW5lciwgcmVmIGludCB0b2tlbklELCBMaXN0PGludD4gc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucywgaW50IGtleXdvcmRDb3VudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgY29tcG91bmRLZXl3b3JkID0gc3FsVHJlZS5TYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NUE9VTkRLRVlXT1JELCBcIlwiLCB0YXJnZXRDb250YWluZXIpO1xyXG4gICAgICAgICAgICBzdHJpbmcgdGFyZ2V0VGV4dCA9IEV4dHJhY3RUb2tlbnNTdHJpbmcodG9rZW5MaXN0LCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLkdldFJhbmdlKDAsIGtleXdvcmRDb3VudCkpLlRyaW1FbmQoKTtcclxuICAgICAgICAgICAgY29tcG91bmRLZXl3b3JkLlNldEF0dHJpYnV0ZShTcWxTdHJ1Y3R1cmVDb25zdGFudHMuQU5BTUVfU0lNUExFVEVYVCwgdGFyZ2V0VGV4dCk7XHJcbiAgICAgICAgICAgIEFwcGVuZE5vZGVzV2l0aE1hcHBpbmcoc3FsVHJlZSwgdG9rZW5MaXN0LkdldFJhbmdlQnlJbmRleChzaWduaWZpY2FudFRva2VuUG9zaXRpb25zWzBdLCBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zW2tleXdvcmRDb3VudCAtIDFdKSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRCwgY29tcG91bmRLZXl3b3JkKTtcclxuICAgICAgICAgICAgdG9rZW5JRCA9IHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnNba2V5d29yZENvdW50IC0gMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgQXBwZW5kTm9kZXNXaXRoTWFwcGluZyhQYXJzZVRyZWUgc3FsVHJlZSwgSUVudW1lcmFibGU8SVRva2VuPiB0b2tlbnMsIHN0cmluZyBvdGhlclRva2VuTWFwcGluZ05hbWUsIE5vZGUgdGFyZ2V0Q29udGFpbmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yZWFjaCAodmFyIHRva2VuIGluIHRva2VucylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nIGVsZW1lbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk90aGVyTm9kZSlcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TmFtZSA9IG90aGVyVG9rZW5NYXBwaW5nTmFtZTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TmFtZSA9IEdldEVxdWl2YWxlbnRTcWxOb2RlTmFtZSh0b2tlbi5UeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzcWxUcmVlLlNhdmVOZXdFbGVtZW50KGVsZW1lbnROYW1lLCB0b2tlbi5WYWx1ZSwgdGFyZ2V0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgRXh0cmFjdFRva2Vuc1N0cmluZyhJVG9rZW5MaXN0IHRva2VuTGlzdCwgSUxpc3Q8aW50PiBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBrZXl3b3JkU0IgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xyXG4gICAgICAgICAgICBmb3JlYWNoIChpbnQgdG9rZW5Qb3MgaW4gc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9ncnIsIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50LlxyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuTGlzdFt0b2tlblBvc10uVHlwZSA9PSBTcWxUb2tlblR5cGUuQ29tbWEpXHJcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZFNCLkFwcGVuZChcIixcIik7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZFNCLkFwcGVuZCh0b2tlbkxpc3RbdG9rZW5Qb3NdLlZhbHVlLlRvVXBwZXJJbnZhcmlhbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBrZXl3b3JkU0IuQXBwZW5kKFwiIFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ga2V5d29yZFNCLlRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0cmluZyBHZXRFcXVpdmFsZW50U3FsTm9kZU5hbWUoU3FsVG9rZW5UeXBlIHRva2VuVHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW5UeXBlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJVEVTUEFDRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9TSU5HTEVMSU5FO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnRDU3R5bGU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NRU5UX1NJTkdMRUxJTkVfQ1NUWUxFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuTXVsdGlMaW5lQ29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfTVVMVElMSU5FO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQnJhY2tldFF1b3RlZE5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9CUkFDS0VUX1FVT1RFRF9OQU1FO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQXN0ZXJpc2s6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9BU1RFUklTSztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkVxdWFsc1NpZ246XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FUVVBTFNTSUdOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuQ29tbWE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT01NQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlBlcmlvZDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BFUklPRDtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk5hdGlvbmFsU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfTlNUUklORztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NUUklORztcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLlF1b3RlZFN0cmluZzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1FVT1RFRF9TVFJJTkc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNxbFRva2VuVHlwZS5PdGhlck9wZXJhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJPUEVSQVRPUjtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk51bWJlcjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX05VTUJFUl9WQUxVRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLk1vbmV0YXJ5VmFsdWU6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NT05FVEFSWV9WQUxVRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgU3FsVG9rZW5UeXBlLkJpbmFyeVZhbHVlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQklOQVJZX1ZBTFVFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTcWxUb2tlblR5cGUuUHNldWRvTmFtZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1BTRVVET05BTUU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJNYXBwaW5nIG5vdCBmb3VuZCBmb3IgcHJvdmlkZWQgVG9rZW4gVHlwZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJpbmcgR2V0S2V5d29yZE1hdGNoUGhyYXNlKElUb2tlbkxpc3QgdG9rZW5MaXN0LCBpbnQgdG9rZW5JRCwgcmVmIExpc3Q8c3RyaW5nPiByYXdLZXl3b3JkUGFydHMsIHJlZiBMaXN0PGludD4gdG9rZW5Db3VudHMsIHJlZiBMaXN0PExpc3Q8SVRva2VuPj4gb3ZlcmZsb3dOb2RlcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN0cmluZyBwaHJhc2UgPSBcIlwiO1xyXG4gICAgICAgICAgICBpbnQgcGhyYXNlQ29tcG9uZW50c0ZvdW5kID0gMDtcclxuICAgICAgICAgICAgcmF3S2V5d29yZFBhcnRzID0gbmV3IExpc3Q8c3RyaW5nPigpO1xyXG4gICAgICAgICAgICBvdmVyZmxvd05vZGVzID0gbmV3IExpc3Q8TGlzdDxJVG9rZW4+PigpO1xyXG4gICAgICAgICAgICB0b2tlbkNvdW50cyA9IG5ldyBMaXN0PGludD4oKTtcclxuICAgICAgICAgICAgc3RyaW5nIHByZWNlZGluZ1doaXRlc3BhY2UgPSBcIlwiO1xyXG4gICAgICAgICAgICBpbnQgb3JpZ2luYWxUb2tlbklEID0gdG9rZW5JRDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbklEIDwgdG9rZW5MaXN0LkNvdW50ICYmIHBocmFzZUNvbXBvbmVudHNGb3VuZCA8IDcpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuT3RoZXJOb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLkJyYWNrZXRRdW90ZWROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLkNvbW1hXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBocmFzZSArPSB0b2tlbkxpc3RbdG9rZW5JRF0uVmFsdWUuVG9VcHBlckludmFyaWFudCgpICsgXCIgXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGhyYXNlQ29tcG9uZW50c0ZvdW5kKys7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF3S2V5d29yZFBhcnRzLkFkZChwcmVjZWRpbmdXaGl0ZXNwYWNlICsgdG9rZW5MaXN0W3Rva2VuSURdLlZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5JRCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuQ291bnRzLkFkZCh0b2tlbklEIC0gb3JpZ2luYWxUb2tlbklEKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3VuZCBhIHBvc3NpYmxlIHBocmFzZSBjb21wb25lbnQgLSBza2lwIHBhc3QgYW55IHVwY29taW5nIHdoaXRlc3BhY2Ugb3IgY29tbWVudHMsIGtlZXBpbmcgdHJhY2suXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dOb2Rlcy5BZGQobmV3IExpc3Q8SVRva2VuPigpKTtcclxuICAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdXaGl0ZXNwYWNlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG9rZW5JRCA8IHRva2VuTGlzdC5Db3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAodG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLldoaXRlU3BhY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5TaW5nbGVMaW5lQ29tbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk11bHRpTGluZUNvbW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nV2hpdGVzcGFjZSArPSB0b2tlbkxpc3RbdG9rZW5JRF0uVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93Tm9kZXNbcGhyYXNlQ29tcG9uZW50c0ZvdW5kLTFdLkFkZCh0b2tlbkxpc3RbdG9rZW5JRF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5JRCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAvL3dlJ3JlIG5vdCBpbnRlcmVzdGVkIGluIGFueSBvdGhlciBub2RlIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwaHJhc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIExpc3Q8aW50PiBHZXRTaWduaWZpY2FudFRva2VuUG9zaXRpb25zKElUb2tlbkxpc3QgdG9rZW5MaXN0LCBpbnQgdG9rZW5JRCwgaW50IHNlYXJjaERpc3RhbmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTGlzdDxpbnQ+IHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnMgPSBuZXcgTGlzdDxpbnQ+KCk7XHJcbiAgICAgICAgICAgIGludCBvcmlnaW5hbFRva2VuSUQgPSB0b2tlbklEO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKHRva2VuSUQgPCB0b2tlbkxpc3QuQ291bnQgJiYgc2lnbmlmaWNhbnRUb2tlblBvc2l0aW9ucy5Db3VudCA8IHNlYXJjaERpc3RhbmNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk90aGVyTm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5CcmFja2V0UXVvdGVkTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHRva2VuTGlzdFt0b2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5Db21tYVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzaWduaWZpY2FudFRva2VuUG9zaXRpb25zLkFkZCh0b2tlbklEKTtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbklEKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZm91bmQgYSBwb3NzaWJsZSBwaHJhc2UgY29tcG9uZW50IC0gc2tpcCBwYXN0IGFueSB1cGNvbWluZyB3aGl0ZXNwYWNlIG9yIGNvbW1lbnRzLCBrZWVwaW5nIHRyYWNrLlxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0b2tlbklEIDwgdG9rZW5MaXN0LkNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICh0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuV2hpdGVTcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdG9rZW5MaXN0W3Rva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0b2tlbkxpc3RbdG9rZW5JRF0uVHlwZSA9PSBTcWxUb2tlblR5cGUuTXVsdGlMaW5lQ29tbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbklEKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vd2UncmUgbm90IGludGVyZXN0ZWQgaW4gYW55IG90aGVyIG5vZGUgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNpZ25pZmljYW50VG9rZW5Qb3NpdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIE5vZGUgUHJvY2Vzc0NvbXBvdW5kS2V5d29yZChQYXJzZVRyZWUgc3FsVHJlZSwgc3RyaW5nIG5ld0VsZW1lbnROYW1lLCByZWYgaW50IHRva2VuSUQsIE5vZGUgY3VycmVudENvbnRhaW5lckVsZW1lbnQsIGludCBjb21wb3VuZEtleXdvcmRDb3VudCwgTGlzdDxpbnQ+IGNvbXBvdW5kS2V5d29yZFRva2VuQ291bnRzLCBMaXN0PHN0cmluZz4gY29tcG91bmRLZXl3b3JkUmF3U3RyaW5ncylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgbmV3RWxlbWVudCA9IE5vZGVGYWN0b3J5LkNyZWF0ZU5vZGUobmV3RWxlbWVudE5hbWUsIEdldENvbXBvdW5kS2V5d29yZChyZWYgdG9rZW5JRCwgY29tcG91bmRLZXl3b3JkQ291bnQsIGNvbXBvdW5kS2V5d29yZFRva2VuQ291bnRzLCBjb21wb3VuZEtleXdvcmRSYXdTdHJpbmdzKSk7XHJcbiAgICAgICAgICAgIHNxbFRyZWUuQ3VycmVudENvbnRhaW5lci5BZGRDaGlsZChuZXdFbGVtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0cmluZyBHZXRDb21wb3VuZEtleXdvcmQocmVmIGludCB0b2tlbklELCBpbnQgY29tcG91bmRLZXl3b3JkQ291bnQsIExpc3Q8aW50PiBjb21wb3VuZEtleXdvcmRUb2tlbkNvdW50cywgTGlzdDxzdHJpbmc+IGNvbXBvdW5kS2V5d29yZFJhd1N0cmluZ3MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0b2tlbklEICs9IGNvbXBvdW5kS2V5d29yZFRva2VuQ291bnRzW2NvbXBvdW5kS2V5d29yZENvdW50IC0gMV0gLSAxO1xyXG4gICAgICAgICAgICBzdHJpbmcgb3V0U3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBjb21wb3VuZEtleXdvcmRDb3VudDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgb3V0U3RyaW5nICs9IGNvbXBvdW5kS2V5d29yZFJhd1N0cmluZ3NbaV07XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRTdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzU3RhdGVtZW50U3RhcnRlcihJVG9rZW4gdG9rZW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL0xpc3QgY3JlYXRlZCBmcm9tIGV4cGVyaWVuY2UsIGFuZCBhdWdtZW50ZWQgd2l0aCBpbmRpdmlkdWFsIHNlY3Rpb25zIG9mIE1TRE46XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9mZjg0ODc5OS5hc3B4XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9mZjg0ODcyNy5hc3B4XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczE3NDI5MC5hc3B4XHJcbiAgICAgICAgICAgIC8vIGV0Yy4uLlxyXG4gICAgICAgICAgICBzdHJpbmcgdXBwZXJjYXNlVmFsdWUgPSB0b2tlbi5WYWx1ZS5Ub1VwcGVySW52YXJpYW50KCk7XHJcbiAgICAgICAgICAgIHJldHVybiAodG9rZW4uVHlwZSA9PSBTcWxUb2tlblR5cGUuT3RoZXJOb2RlXHJcbiAgICAgICAgICAgICAgICAmJiAodXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiQUxURVJcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJCQUNLVVBcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJCUkVBS1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkNMT1NFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiQ0hFQ0tQT0lOVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkNPTU1JVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkNPTlRJTlVFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiQ1JFQVRFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiREJDQ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkRFQUxMT0NBVEVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJERUxFVEVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJERUNMQVJFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiREVOWVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkRST1BcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJFWEVDXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiRVhFQ1VURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkZFVENIXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiR09UT1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkdSQU5UXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiSUZcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJJTlNFUlRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJLSUxMXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiTUVSR0VcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJPUEVOXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUFJJTlRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSQUlTRVJST1JcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSRUNPTkZJR1VSRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlJFU1RPUkVcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSRVRVUk5cIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSRVZFUlRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSRVZPS0VcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJTRUxFQ1RcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJTRVRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJTRVRVU0VSXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiU0hVVERPV05cIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJUUlVOQ0FURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlVQREFURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIlVTRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIldBSVRGT1JcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJXSElMRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzQ2xhdXNlU3RhcnRlcihJVG9rZW4gdG9rZW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL05vdGU6IHNvbWUgY2xhdXNlIHN0YXJ0ZXJzIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHk6IEpvaW5zLCBSRVRVUk5TIGNsYXVzZXMsIGV0Yy5cclxuICAgICAgICAgICAgc3RyaW5nIHVwcGVyY2FzZVZhbHVlID0gdG9rZW4uVmFsdWUuVG9VcHBlckludmFyaWFudCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gKHRva2VuLlR5cGUgPT0gU3FsVG9rZW5UeXBlLk90aGVyTm9kZVxyXG4gICAgICAgICAgICAgICAgJiYgKHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkRFTEVURVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkVYQ0VQVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkZPUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkZST01cIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJHUk9VUFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIkhBVklOR1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIklOTkVSXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiSU5URVJTRUNUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiSU5UT1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIklOU0VSVFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIk1FUkdFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiT1JERVJcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJPVVRQVVRcIikgLy90aGlzIGlzIGNvbXBsaWNhdGVkLi4uIGluIHNwcm9jcyBvdXRwdXQgbWVhbnMgc29tZXRoaW5nIGVsc2UhXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiUElWT1RcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJSRVRVUk5TXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiU0VMRUNUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiVU5JT05cIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJVTlBJVk9UXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiVVBEQVRFXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVmFsdWUuRXF1YWxzKFwiVVNJTkdcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJWQUxVRVNcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VWYWx1ZS5FcXVhbHMoXCJXSEVSRVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVZhbHVlLkVxdWFscyhcIldJVEhcIilcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBib29sIElzTGF0ZXN0VG9rZW5BRERMRGV0YWlsVmFsdWUoUGFyc2VUcmVlIHNxbFRyZWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgbGF0ZXN0Q29udGVudE5vZGUgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3RPckRlZmF1bHQ8Tm9kZT4oc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLkNoaWxkcmVuRXhjbHVkaW5nTmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5UKSk7XHJcbiAgICAgICAgICAgIGlmIChsYXRlc3RDb250ZW50Tm9kZSAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAmJiAobGF0ZXN0Q29udGVudE5vZGUuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX09USEVSS0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICB8fCBsYXRlc3RDb250ZW50Tm9kZS5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfREFUQVRZUEVfS0VZV09SRClcclxuICAgICAgICAgICAgICAgICAgICB8fCBsYXRlc3RDb250ZW50Tm9kZS5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NUE9VTkRLRVlXT1JEKVxyXG4gICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyB1cHBlcmNhc2VUZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChsYXRlc3RDb250ZW50Tm9kZS5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NUE9VTkRLRVlXT1JEKSlcclxuICAgICAgICAgICAgICAgICAgICB1cHBlcmNhc2VUZXh0ID0gbGF0ZXN0Q29udGVudE5vZGUuR2V0QXR0cmlidXRlVmFsdWUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX1NJTVBMRVRFWFQpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHVwcGVyY2FzZVRleHQgPSBsYXRlc3RDb250ZW50Tm9kZS5UZXh0VmFsdWUuVG9VcHBlckludmFyaWFudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJOVkFSQ0hBUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiVkFSQ0hBUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiREVDSU1BTFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiREVDXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJOVU1FUklDXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJWQVJCSU5BUllcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIkRFRkFVTFRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIklERU5USVRZXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJYTUxcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVuZHNXaXRoKFwiVkFSWUlOR1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRW5kc1dpdGgoXCJDSEFSXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FbmRzV2l0aChcIkNIQVJBQ1RFUlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHVwcGVyY2FzZVRleHQuRXF1YWxzKFwiRkxPQVRcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIkRBVEVUSU1FT0ZGU0VUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdXBwZXJjYXNlVGV4dC5FcXVhbHMoXCJEQVRFVElNRTJcIilcclxuICAgICAgICAgICAgICAgICAgICB8fCB1cHBlcmNhc2VUZXh0LkVxdWFscyhcIlRJTUVcIilcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgYm9vbCBJc0xhdGVzdFRva2VuQUNvbW1hKFBhcnNlVHJlZSBzcWxUcmVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGxhdGVzdENvbnRlbnQgPSBTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3RPckRlZmF1bHQ8Tm9kZT4oc3FsVHJlZS5DdXJyZW50Q29udGFpbmVyLkNoaWxkcmVuRXhjbHVkaW5nTmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5UKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBsYXRlc3RDb250ZW50ICE9IG51bGwgJiYgbGF0ZXN0Q29udGVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBib29sIElzTGF0ZXN0VG9rZW5BTWlzY05hbWUoUGFyc2VUcmVlIHNxbFRyZWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgbGF0ZXN0Q29udGVudCA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuTGFzdE9yRGVmYXVsdDxOb2RlPihzcWxUcmVlLkN1cnJlbnRDb250YWluZXIuQ2hpbGRyZW5FeGNsdWRpbmdOYW1lcyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVMSVNUX05PTkNPTlRFTlQpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsYXRlc3RDb250ZW50ICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyB0ZXN0VmFsdWUgPSBsYXRlc3RDb250ZW50LlRleHRWYWx1ZS5Ub1VwcGVySW52YXJpYW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxhdGVzdENvbnRlbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JSQUNLRVRfUVVPVEVEX05BTUUpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgobGF0ZXN0Q29udGVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfT1RIRVJOT0RFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBsYXRlc3RDb250ZW50Lk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9GVU5DVElPTl9LRVlXT1JEKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICEodGVzdFZhbHVlLkVxdWFscyhcIkFORFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIk9SXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiTk9UXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiQkVUV0VFTlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkxJS0VcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJDT05UQUlOU1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkVYSVNUU1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkZSRUVURVhUXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiSU5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJBTExcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJTT01FXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiQU5ZXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiRlJPTVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkpPSU5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FbmRzV2l0aChcIiBKT0lOXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRXF1YWxzKFwiVU5JT05cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJVTklPTiBBTExcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRlc3RWYWx1ZS5FcXVhbHMoXCJVU0lOR1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGVzdFZhbHVlLkVxdWFscyhcIkFTXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB0ZXN0VmFsdWUuRW5kc1dpdGgoXCIgQVBQTFlcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBib29sIElzTGluZUJyZWFraW5nV2hpdGVTcGFjZU9yQ29tbWVudChJVG9rZW4gdG9rZW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRva2VuLlR5cGUgPT0gU3FsVG9rZW5UeXBlLldoaXRlU3BhY2VcclxuICAgICAgICAgICAgICAgICAgICAmJiBSZWdleC5Jc01hdGNoKHRva2VuLlZhbHVlLCBAXCIoXFxyfFxcbikrXCIpKVxyXG4gICAgICAgICAgICAgICAgfHwgdG9rZW4uVHlwZSA9PSBTcWxUb2tlblR5cGUuU2luZ2xlTGluZUNvbW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGJvb2wgSXNGb2xsb3dlZEJ5TGluZUJyZWFraW5nV2hpdGVTcGFjZU9yU2luZ2xlTGluZUNvbW1lbnRPckVuZChJVG9rZW5MaXN0IHRva2VuTGlzdCwgaW50IHRva2VuSUQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbnQgY3VyclRva2VuSUQgPSB0b2tlbklEICsgMTtcclxuICAgICAgICAgICAgd2hpbGUgKHRva2VuTGlzdC5Db3VudCA+PSBjdXJyVG9rZW5JRCArIDEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbkxpc3RbY3VyclRva2VuSURdLlR5cGUgPT0gU3FsVG9rZW5UeXBlLlNpbmdsZUxpbmVDb21tZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW5MaXN0W2N1cnJUb2tlbklEXS5UeXBlID09IFNxbFRva2VuVHlwZS5XaGl0ZVNwYWNlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChSZWdleC5Jc01hdGNoKHRva2VuTGlzdFtjdXJyVG9rZW5JRF0uVmFsdWUsIEBcIihcXHJ8XFxuKStcIikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyclRva2VuSUQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB2b2lkIEluaXRpYWxpemVLZXl3b3JkTGlzdCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL0xpc3Qgb3JpZ2luYWxseSBjb3BpZWQgZnJvbSBTaWRlIGJ5IFNpZGUgU1FMIENvbXBhcmVyIHByb2plY3QgZnJvbSBDb2RlUHJvamVjdDpcclxuICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5jb2RlcHJvamVjdC5jb20vS0IvZGF0YWJhc2UvU2lkZUJ5U2lkZVNRTENvbXBhcmVyLmFzcHhcclxuICAgICAgICAgICAgLy8gQWRkZWQgc29tZSBlbnRyaWVzIHRoYXQgYXJlIG5vdCBzdHJpY3RseSBzcGVha2luZyBrZXl3b3Jkcywgc3VjaCBhcyBcclxuICAgICAgICAgICAgLy8gY3Vyc29yIG9wdGlvbnMgXCJSRUFEX09OTFlcIiwgXCJGQVNUX0ZPUldBUkRcIiwgZXRjLlxyXG4gICAgICAgICAgICAvLyBhbHNvIGFkZGVkIG51bWVyb3VzIG1pc3NpbmcgZW50cmllcywgc3VjaCBhcyBcIlhtbFwiLCBldGNcclxuICAgICAgICAgICAgLy8gQ291bGQvU2hvdWxkIGNoZWNrIGFnYWluc3QgTVNETiBSZWY6IGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczE4OTgyMi5hc3B4XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0ID0gbmV3IERpY3Rpb25hcnk8c3RyaW5nLCBLZXl3b3JkVHlwZT4oKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBDT05ORUNUSU9OU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQENQVV9CVVNZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAQ1VSU09SX1JPV1NcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBEQVRFRklSU1RcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBEQlRTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBARVJST1JcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBGRVRDSF9TVEFUVVNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBJREVOVElUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQElETEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBJT19CVVNZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBATEFOR0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBATEFOR1VBR0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBMT0NLX1RJTUVPVVRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBNQVhfQ09OTkVDVElPTlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBNQVhfUFJFQ0lTSU9OXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBATkVTVExFVkVMXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAT1BUSU9OU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJAQFBBQ0tFVF9FUlJPUlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBQQUNLX1JFQ0VJVkVEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAUEFDS19TRU5UXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAUFJPQ0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAUkVNU0VSVkVSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAUk9XQ09VTlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBTRVJWRVJOQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAU0VSVklDRU5BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBTUElEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVEVYVFNJWkVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBUSU1FVElDS1NcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBUT1RBTF9FUlJPUlNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBUT1RBTF9SRUFEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkBAVE9UQUxfV1JJVEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBUUkFOQ09VTlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQEBWRVJTSU9OXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFCU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBQ09TXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFDVElWQVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQUREXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFMTFwiLCBLZXl3b3JkVHlwZS5PcGVyYXRvcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTFRFUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTkRcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5TSV9ERUZBVUxUU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTlNJX05VTExTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFOU0lfTlVMTF9ERkxUX09GRlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTlNJX05VTExfREZMVF9PTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTlNJX1BBRERJTkdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQU5TSV9XQVJOSU5HU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBTllcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVBQX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVJJVEhBQk9SVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBUklUSElHTk9SRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBU0NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVNDSUlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVNJTlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBVEFOXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkFUTjJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQVVUSE9SSVpBVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJBVkdcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQkFDS1VQXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJFR0lOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJFVFdFRU5cIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQklHSU5UXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJJTkFSWVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJCSVRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQlJFQUtcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQlJPV1NFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkJVTEtcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQllcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0FMTEVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNBU0NBREVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0FTRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDQVNUXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNBVEFMT0dcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0VJTElOR1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEFSXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIQVJBQ1RFUlwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEFSSU5ERVhcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tBTExPQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEVDS0NBVEFMT0dcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tDT05TVFJBSU5UU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEVDS0RCXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLRklMRUdST1VQXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNIRUNLSURFTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tQT0lOVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEVDS1NVTVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDSEVDS1NVTV9BR0dcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ0hFQ0tUQUJMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDTEVBTlRBQkxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNMT1NFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNMVVNURVJFRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0FMRVNDRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0xMQVRJT05QUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0xMRUNUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTFVNTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0xVTU5QUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT0xfTEVOR1RIXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTF9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTU1JVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT01NSVRURURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09NUFVURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT05DQVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OQ0FUX05VTExfWUlFTERTX05VTExcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OQ1VSUkVOQ1lWSU9MQVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09ORklSTVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT05TVFJBSU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTlRBSU5TXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTlRBSU5TVEFCTEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OVElOVUVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09OVFJPTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT05UUk9MUk9XXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPTlZFUlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ09TXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNPVFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT1VOVFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDT1VOVF9CSUdcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ1JFQVRFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNST1NTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNVUlJFTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ1VSUkVOVF9EQVRFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNVUlJFTlRfVElNRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDVVJSRU5UX1RJTUVTVEFNUFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJDVVJSRU5UX1VTRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ1VSU09SXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkNVUlNPUl9DTE9TRV9PTl9DT01NSVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiQ1VSU09SX1NUQVRVU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRBQkFTRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRBQkFTRVBST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEFCQVNFUFJPUEVSVFlFWFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRBTEVOR1RIXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVBRERcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURURJRkZcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURUZJUlNUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRBVEVGT1JNQVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURU5BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRFUEFSVFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRFVElNRVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEQVRFVElNRTJcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFURVRJTUVPRkZTRVRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREFZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRCQ0NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREJSRUlOREVYXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRCUkVQQUlSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRCX0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRCX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVBRExPQ0tfUFJJT1JJVFlcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVBTExPQ0FURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERUNcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVDSU1BTFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERUNMQVJFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFRkFVTFRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiREVGSU5JVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERUdSRUVTXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFTEFZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFTEVURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJERU5ZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRFU0NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRElGRkVSRU5DRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJESVNBQkxFX0RFRl9DTlNUX0NIS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJESVNLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRJU1RJTkNUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRJU1RSSUJVVEVEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRPVUJMRVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEUk9QXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkRST1BDTEVBTkJVRkZFUlNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRFVNTVlcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRFVNUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJEWU5BTUlDXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVMU0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRU5DUllQVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFUlJMVkxcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVJST1JFWElUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVTQ0FQRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFWENFUFRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVhFQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFWEVDVVRFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVYSVNUU1wiLCBLZXl3b3JkVHlwZS5PcGVyYXRvcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFWElUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkVYUFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJFWFBBTkRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRVhURVJOQUxcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRkFTVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGQVNUX0ZPUldBUkRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRkFTVEZJUlNUUk9XXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZFVENIXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRklMRUdST1VQUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRklMRUdST1VQX0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTEVHUk9VUF9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTEVQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSUxFX0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZJTEVfSURFWFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSUxFX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRklMTEZBQ1RPUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGSVBTX0ZMQUdHRVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRkxPQVRcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRkxPT1JcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRkxPUFBZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZNVE9OTFlcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRk9SXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZPUkNFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZPUkNFRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGT1JDRVBMQU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRk9SRUlHTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGT1JNQVRNRVNTQUdFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZPUldBUkRfT05MWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGUkVFUFJPQ0NBQ0hFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZSRUVTRVNTSU9OQ0FDSEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRlJFRVNZU1RFTUNBQ0hFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZSRUVURVhUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZSRUVURVhUVEFCTEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiRlJPTVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJGVUxMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZVTExURVhUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZVTExURVhUQ0FUQUxPR1BST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZVTExURVhUU0VSVklDRVBST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkZVTkNUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdFT0dSQVBIWVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHRVRBTkNFU1RPUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHRVRBTlNJTlVMTFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJHRVREQVRFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdFVERFU0NFTkRBTlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR0VUTEVWRUxcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR0VUUkVQQVJFTlRFRFZBTFVFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdFVFJPT1RcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR0xPQkFMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdPXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkdPVE9cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR1JBTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR1JPVVBcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiR1JPVVBJTkdcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSEFTSFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJIQVZJTkdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSEVMUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJISUVSQVJDSFlJRFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJIT0xETE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJIT1NUX0lEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkhPU1RfTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJREVOVElUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJREVOVElUWUNPTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJREVOVElUWV9JTlNFUlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSURFTlRfQ1VSUkVOVFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJREVOVF9JTkNSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklERU5UX1NFRURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSUZcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSUdOT1JFX0NPTlNUUkFJTlRTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklHTk9SRV9UUklHR0VSU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTUFHRVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTVBMSUNJVF9UUkFOU0FDVElPTlNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5cIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5ERVhcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5ERVhERUZSQUdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5ERVhLRVlfUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5ERVhQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTkRFWF9DT0xcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5ORVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5QVVRCVUZGRVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5TRU5TSVRJVkVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSU5TRVJUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTlRFR0VSXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklOVEVSU0VDVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJTlRPXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklPXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklTREFURVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJU0RFU0NFTkRBTlRPRlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJU05VTExcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSVNOVU1FUklDXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIklTT0xBVElPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJJU19NRU1CRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiSVNfU1JWUk9MRU1FTUJFUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJKT0lOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIktFRVBcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiS0VFUERFRkFVTFRTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIktFRVBGSVhFRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJLRUVQSURFTlRJVFlcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiS0VZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIktFWVNFVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJLSUxMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxBTkdVQUdFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxFRlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTEVOXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxFVkVMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxJS0VcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTElORU5PXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxPQURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTE9DQUxcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTE9DS19USU1FT1VUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxPR1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMT0cxMFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMT0dJTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJMT09QXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxPV0VSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIkxUUklNXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1BVENIRURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTUFYXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1BWF9RVUVVRV9SRUFERVJTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1BWERPUFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJNQVhSRUNVUlNJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTUVSR0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTUlOXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1JUlJPUkVYSVRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTU9ESUZZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1PTkVZXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1PTlRIXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk1PVkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTkFNRVNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTkFUSU9OQUxcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTkNIQVJcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTkVXSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTkVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOT0NIRUNLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PQ09VTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTk9ERVNcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTk9FWEVDXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PRVhQQU5EXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PTE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOT05DTFVTVEVSRURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiTk9UXCIsIEtleXdvcmRUeXBlLk9wZXJhdG9yS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5PV0FJVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVEVYVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVElMRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVUxMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5VTExJRlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVU1FUklDXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk5VTUVSSUNfUk9VTkRBQk9SVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJOVkFSQ0hBUlwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPQkpFQ1RQUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPQkpFQ1RQUk9QRVJUWUVYXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9CSkVDVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPQkpFQ1RfSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT0JKRUNUX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT0ZcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT0ZGXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9GRlNFVFNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT05DRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPTkxZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QRU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1BFTkRBVEFTT1VSQ0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1BFTlFVRVJZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIk9QRU5ST1dTRVRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1BFTlRSQU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1BUSU1JWkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1BUSU1JU1RJQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPUFRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1JcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1JERVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1VURVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuXHRcdFx0S2V5d29yZExpc3QuQWRkKFwiT1VUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcblx0XHRcdEtleXdvcmRMaXN0LkFkZChcIk9VVFBVVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG5cdFx0XHRLZXl3b3JkTGlzdC5BZGQoXCJPVVRQVVRCVUZGRVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiT1ZFUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJPV05FUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQQUdMT0NLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBBUkFNRVRFUklaQVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEFSU0VcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEFSU0VOQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBBUlNFT05MWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQQVJUSVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEFUSU5ERVhcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUEVSQ0VOVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQRVJNXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBFUk1BTkVOVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQRVJNSVNTSU9OU1wiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQSVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQSU5UQUJMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQSVBFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBMQU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUE9XRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUFJFUEFSRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUklNQVJZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBSSU5UXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBSSVZJTEVHRVNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUFJPQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUk9DQ0FDSEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUFJPQ0VEVVJFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBST0NFRFVSRV9OQU1FXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBST0NFU1NFWElUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBST0NJRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJQUk9GSUxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlBVQkxJQ1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJRVUVSWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJRVUVSWV9HT1ZFUk5PUl9DT1NUX0xJTUlUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlFVRVVFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlFVT1RFRF9JREVOVElGSUVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlFVT1RFTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSQURJQU5TXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJBSVNFUlJPUlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSQU5EXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFQURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVBRENPTU1JVFRFRFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUFEQ09NTUlUVEVETE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUFEUEFTVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUFEVEVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRUFEVU5DT01NSVRURURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVBRF9PTkxZXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFQUxcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVDT01QSUxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFQ09ORklHVVJFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFRkVSRU5DRVNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVNT1RFX1BST0NfVFJBTlNBQ1RJT05TXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFUEVBVEFCTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVQRUFUQUJMRVJFQURcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVQTEFDRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVBMSUNBVEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVQTElDQVRJT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVTVE9SRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVNUUklDVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVRVUk5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUkVUVVJOU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVZFUlNFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJFVkVSVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJSRVZPS0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUklHSFRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUk9CVVNUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUk9MTEJBQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUk9VTkRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUk9XQ09VTlRcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUk9XR1VJRENPTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJST1dMT0NLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlJPV1ZFUlNJT05cIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUlRSSU1cIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiUlVMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTQVZFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNDSEVNQVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTQ0hFTUFfSURcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0NIRU1BX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0NPUEVfSURFTlRJVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0NST0xMXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNDUk9MTF9MT0NLU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTRUxFQ1RcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0VMRlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTRVJJQUxJWkFCTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0VSVkVSXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNFUlZFUlBST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNFU1NJT05QUk9QRVJUWVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTRVNTSU9OX1VTRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0VUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNFVFVTRVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hPV0NPTlRJR1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTSE9XUExBTl9BTExcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hPV1BMQU5fVEVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTSE9XX1NUQVRJU1RJQ1NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hSSU5LREFUQUJBU0VcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU0hSSU5LRklMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTSFVURE9XTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTSUdOXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNJTVBMRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTSU5cIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU01BTExEQVRFVElNRVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTTUFMTElOVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTTUFMTE1PTkVZXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNPTUVcIiwgS2V5d29yZFR5cGUuT3BlcmF0b3JLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU09VTkRFWFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTUEFDRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTUUxQRVJGXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNRTF9WQVJJQU5UXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNRTF9WQVJJQU5UX1BST1BFUlRZXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNRUlRcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1FVQVJFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUQVRFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUQVRJU1RJQ1NcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1RBVElDXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUQVRTX0RBVEVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1RBVFVTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUREVWXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNUREVWUFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVE9QTElTVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVFJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1RVRkZcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1VCU1RSSU5HXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNVTVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVVNFUl9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVVNFUl9OQU1FXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNVU0VSX1NJRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTVVNFUl9TTkFNRVwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJTWU5PTllNXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlNZU05BTUVcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiU1lTVEVNX1VTRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEFCTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEFCTE9DS1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUQUJMT0NLWFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUQU5cIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEFQRVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJURU1QXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRFTVBPUkFSWVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJURVhUXCIsIEtleXdvcmRUeXBlLkRhdGFUeXBlS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRFWFRQVFJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEVYVFNJWkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVEVYVFZBTElEXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRIRU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVElNRVwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpOyAvL25vdCBzdHJpY3RseS1zcGVha2luZyB0cnVlLCBjYW4gYWxzbyBiZSBrZXl3b3JkIGluIFdBSVRGT1IgVElNRVxyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUSU1FU1RBTVBcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVElOWUlOVFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUT1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUT1BcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVE9TVFJJTkdcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFJBQ0VPRkZcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFJBQ0VPTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUUkFDRVNUQVRVU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUUkFOXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRSQU5TQUNUSU9OXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlRSSUdHRVJcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFJVTkNBVEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFNFUVVBTFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUWVBFUFJPUEVSVFlcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFlQRV9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJUWVBFX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVFlQRV9XQVJOSU5HXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVOQ09NTUlUVEVEXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVOSUNPREVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVU5JT05cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVU5JUVVFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVOSVFVRUlERU5USUZJRVJcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVU5LTk9XTlwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVTlBJTlRBQkxFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVQREFURVwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVUERBVEVURVhUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVQREFURVVTQUdFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVQRExPQ0tcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVBQRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVNFXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlVTRVJcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVNFUk9QVElPTlNcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVNFUl9JRFwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJVU0VSX05BTUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVVNJTkdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVkFMVUVcIiwgS2V5d29yZFR5cGUuRnVuY3Rpb25LZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVkFMVUVTXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlZBUlwiLCBLZXl3b3JkVHlwZS5GdW5jdGlvbktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJWQVJCSU5BUllcIiwgS2V5d29yZFR5cGUuRGF0YVR5cGVLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVkFSQ0hBUlwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJWQVJQXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlZBUllJTkdcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiVklFV1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJWSUVXU1wiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJXQUlURk9SXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIldIRU5cIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiV0hFUkVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiV0hJTEVcIiwgS2V5d29yZFR5cGUuT3RoZXJLZXl3b3JkKTtcclxuICAgICAgICAgICAgS2V5d29yZExpc3QuQWRkKFwiV0lUSFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJXT1JLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIldSSVRFXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIldSSVRFVEVYVFwiLCBLZXl3b3JkVHlwZS5PdGhlcktleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJYQUNUX0FCT1JUXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlhMT0NLXCIsIEtleXdvcmRUeXBlLk90aGVyS2V5d29yZCk7XHJcbiAgICAgICAgICAgIEtleXdvcmRMaXN0LkFkZChcIlhNTFwiLCBLZXl3b3JkVHlwZS5EYXRhVHlwZUtleXdvcmQpO1xyXG4gICAgICAgICAgICBLZXl3b3JkTGlzdC5BZGQoXCJZRUFSXCIsIEtleXdvcmRUeXBlLkZ1bmN0aW9uS2V5d29yZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZW51bSBLZXl3b3JkVHlwZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgT3BlcmF0b3JLZXl3b3JkLFxyXG4gICAgICAgICAgICBGdW5jdGlvbktleXdvcmQsXHJcbiAgICAgICAgICAgIERhdGFUeXBlS2V5d29yZCxcclxuICAgICAgICAgICAgT3RoZXJLZXl3b3JkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcblBvb3IgTWFuJ3MgVC1TUUwgRm9ybWF0dGVyIC0gYSBzbWFsbCBmcmVlIFRyYW5zYWN0LVNRTCBmb3JtYXR0aW5nIFxyXG5saWJyYXJ5IGZvciAuTmV0IDIuMCBhbmQgSlMsIHdyaXR0ZW4gaW4gQyMuIFxyXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNyBUYW8gS2xlcmtzXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxyXG5pdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcclxudGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxyXG5idXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxyXG5NRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbkdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG5cclxuWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXHJcbmFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG5cclxuKi9cclxuXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7XHJcbnVzaW5nIFN5c3RlbS5MaW5xO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZVxyXG57XHJcbiAgICBpbnRlcm5hbCBjbGFzcyBOb2RlSW1wbCA6IE5vZGVcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgTm9kZUltcGwoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQXR0cmlidXRlcyA9IG5ldyBEaWN0aW9uYXJ5PHN0cmluZywgc3RyaW5nPigpO1xyXG4gICAgICAgICAgICBDaGlsZHJlbiA9IG5ldyBMaXN0PE5vZGU+KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RyaW5nIE5hbWUgeyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgVGV4dFZhbHVlIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgTm9kZSBQYXJlbnQgeyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgSURpY3Rpb25hcnk8c3RyaW5nLCBzdHJpbmc+IEF0dHJpYnV0ZXMgeyBnZXQ7IHByaXZhdGUgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIElFbnVtZXJhYmxlPE5vZGU+IENoaWxkcmVuIHsgZ2V0OyBwcml2YXRlIHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBBZGRDaGlsZChOb2RlIGNoaWxkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU2V0UGFyZW50T25DaGlsZChjaGlsZCk7XHJcbiAgICAgICAgICAgICgoSUxpc3Q8Tm9kZT4pQ2hpbGRyZW4pLkFkZChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBJbnNlcnRDaGlsZEJlZm9yZShOb2RlIG5ld0NoaWxkLCBOb2RlIGV4aXN0aW5nQ2hpbGQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTZXRQYXJlbnRPbkNoaWxkKG5ld0NoaWxkKTtcclxuICAgICAgICAgICAgdmFyIGNoaWxkTGlzdCA9IENoaWxkcmVuIGFzIElMaXN0PE5vZGU+O1xyXG4gICAgICAgICAgICBjaGlsZExpc3QuSW5zZXJ0KGNoaWxkTGlzdC5JbmRleE9mKGV4aXN0aW5nQ2hpbGQpLCBuZXdDaGlsZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgU2V0UGFyZW50T25DaGlsZChOb2RlIGNoaWxkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9UT0RPOiBOT1QgVEhSRUFELVNBRkUgQVQgQUxMIVxyXG4gICAgICAgICAgICBpZiAoY2hpbGQuUGFyZW50ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRpb24oXCJDaGlsZCBjYW5ub3QgYWxyZWFkeSBoYXZlIGEgcGFyZW50IVwiKTtcclxuICAgICAgICAgICAgKChOb2RlSW1wbCljaGlsZCkuUGFyZW50ID0gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2b2lkIFJlbW92ZUNoaWxkKE5vZGUgY2hpbGQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL1RPRE86IE5PVCBUSFJFQUQtU0FGRSBBVCBBTEwhXHJcbiAgICAgICAgICAgICgoSUxpc3Q8Tm9kZT4pQ2hpbGRyZW4pLlJlbW92ZShjaGlsZCk7XHJcbiAgICAgICAgICAgICgoTm9kZUltcGwpY2hpbGQpLlBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHN0cmluZyBHZXRBdHRyaWJ1dGVWYWx1ZShzdHJpbmcgYU5hbWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdHJpbmcgb3V0VmFsID0gbnVsbDtcclxuICAgICAgICAgICAgQXR0cmlidXRlcy5UcnlHZXRWYWx1ZShhTmFtZSwgb3V0IG91dFZhbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRWYWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdm9pZCBTZXRBdHRyaWJ1dGUoc3RyaW5nIG5hbWUsIHN0cmluZyB2YWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEF0dHJpYnV0ZXNbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB2b2lkIFJlbW92ZUF0dHJpYnV0ZShzdHJpbmcgbmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEF0dHJpYnV0ZXMuUmVtb3ZlKG5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxuXHJcbiNpZiAhU0lNUExJRklFREZXXHJcbnVzaW5nIFN5c3RlbTtcclxudXNpbmcgU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzO1xyXG4jZW5kaWZcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcbnVzaW5nIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYi5QYXJzZVN0cnVjdHVyZTtcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJcclxue1xyXG4jaWYgIVNJTVBMSUZJRURGV1xyXG4gICAgLy9UaGVzZSBDT00tcmVsYXRlZCBhdHRyaWJ1dGVzIGV4aXN0IEpVU1Qgc28gdGhhdCB3ZSBjYW4gdXNlIHRoaXMgY2xhc3MgZnJvbSBWQjYgLSB0aGVyZSBpcyBubyBuZWVkIHRvXHJcbiAgICAvLyBleHBvc2UgdGhlc2UgY2xhc3NlcyB0byBDT00gaW4gb3JkZXIgZm9yIHRoaXMgbGlicmFyeSB0byBiZSB1c2VkIGluIGEgLk5ldCBwcm9qZWN0LlxyXG4gICAgW0d1aWQoXCJBN0ZEMTQwQS1DM0MzLTQyMzMtOTVEQi1BNjRCNTBDOERGMkJcIildXHJcbiAgICBbQ2xhc3NJbnRlcmZhY2UoQ2xhc3NJbnRlcmZhY2VUeXBlLk5vbmUpXVxyXG4gICAgW0NvbVZpc2libGUodHJ1ZSldXHJcbiAgICBbUHJvZ0lkKFwiUG9vck1hbnNUU3FsRm9ybWF0dGVyLlNxbEZvcm1hdHRpbmdNYW5hZ2VyXCIpXVxyXG4jZW5kaWZcclxuICAgIHB1YmxpYyBjbGFzcyBTcWxGb3JtYXR0aW5nTWFuYWdlciA6IF9TcWxGb3JtYXR0aW5nTWFuYWdlclxyXG4gICAge1xyXG4gICAgICAgIC8vZGVmYXVsdCB0byBidWlsdC1pblxyXG4gICAgICAgIHB1YmxpYyBTcWxGb3JtYXR0aW5nTWFuYWdlcigpIDogdGhpcyhuZXcgVG9rZW5pemVycy5UU3FsU3RhbmRhcmRUb2tlbml6ZXIoKSwgbmV3IFBhcnNlcnMuVFNxbFN0YW5kYXJkUGFyc2VyKCksIG5ldyBGb3JtYXR0ZXJzLlRTcWxTdGFuZGFyZEZvcm1hdHRlcigpKSB7IH1cclxuXHJcbiAgICAgICAgLy9tb3N0IGNvbW1vbiB1c2UtY2FzZSwgZGVmaW5lIG9ubHkgZm9ybWF0dGVyXHJcbiAgICAgICAgcHVibGljIFNxbEZvcm1hdHRpbmdNYW5hZ2VyKElTcWxUcmVlRm9ybWF0dGVyIGZvcm1hdHRlcikgOiB0aGlzKG5ldyBUb2tlbml6ZXJzLlRTcWxTdGFuZGFyZFRva2VuaXplcigpLCBuZXcgUGFyc2Vycy5UU3FsU3RhbmRhcmRQYXJzZXIoKSwgZm9ybWF0dGVyKSB7IH1cclxuXHJcbiAgICAgICAgcHVibGljIFNxbEZvcm1hdHRpbmdNYW5hZ2VyKElTcWxUb2tlbml6ZXIgdG9rZW5pemVyLCBJU3FsVG9rZW5QYXJzZXIgcGFyc2VyLCBJU3FsVHJlZUZvcm1hdHRlciBmb3JtYXR0ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBUb2tlbml6ZXIgPSB0b2tlbml6ZXI7XHJcbiAgICAgICAgICAgIFBhcnNlciA9IHBhcnNlcjtcclxuICAgICAgICAgICAgRm9ybWF0dGVyID0gZm9ybWF0dGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIElTcWxUb2tlbml6ZXIgVG9rZW5pemVyIHsgZ2V0OyBzZXQ7IH1cclxuICAgICAgICBwdWJsaWMgSVNxbFRva2VuUGFyc2VyIFBhcnNlciB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIElTcWxUcmVlRm9ybWF0dGVyIEZvcm1hdHRlciB7IGdldDsgc2V0OyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRm9ybWF0KHN0cmluZyBpbnB1dFNRTClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJvb2wgZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIEZvcm1hdChpbnB1dFNRTCwgcmVmIGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgRm9ybWF0KHN0cmluZyBpbnB1dFNRTCwgcmVmIGJvb2wgZXJyb3JFbmNvdW50ZXJlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgc3FsVHJlZSA9IFBhcnNlci5QYXJzZVNRTChUb2tlbml6ZXIuVG9rZW5pemVTUUwoaW5wdXRTUUwpKTtcclxuICAgICAgICAgICAgZXJyb3JFbmNvdW50ZXJlZCA9IChzcWxUcmVlLkdldEF0dHJpYnV0ZVZhbHVlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9FUlJPUkZPVU5EKSA9PSBcIjFcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBGb3JtYXR0ZXIuRm9ybWF0U1FMVHJlZShzcWxUcmVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nIERlZmF1bHRGb3JtYXQoc3RyaW5nIGlucHV0U1FMKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTcWxGb3JtYXR0aW5nTWFuYWdlcigpLkZvcm1hdChpbnB1dFNRTCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHN0cmluZyBEZWZhdWx0Rm9ybWF0KHN0cmluZyBpbnB1dFNRTCwgcmVmIGJvb2wgZXJyb3JzRW5jb3VudGVyZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNxbEZvcm1hdHRpbmdNYW5hZ2VyKCkuRm9ybWF0KGlucHV0U1FMLCByZWYgZXJyb3JzRW5jb3VudGVyZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1RoaXMgQ09NIGludGVyZmFjZSBleGlzdHMgSlVTVCBzbyB0aGF0IHdlIGNhbiB1c2UgdGhpcyBjbGFzcyBmcm9tIFZCNiAtIHRoZXJlIGlzIG5vIG5lZWQgdG8gZXhwb3NlIFxyXG4gICAgLy8gdGhlc2UgY2xhc3NlcyB0byBDT00gaW4gb3JkZXIgZm9yIHRoaXMgbGlicmFyeSB0byBiZSB1c2VkIGluIGEgLk5ldCBwcm9qZWN0LlxyXG4jaWYgIVNJTVBMSUZJRURGV1xyXG4gICAgW0d1aWQoXCJBN0ZEMTQwQS1DM0MzLTQyMzMtOTVEQi1BNjRCNTBDOERGMkFcIildXHJcbiAgICBbQ0xTQ29tcGxpYW50KGZhbHNlKSwgQ29tVmlzaWJsZSh0cnVlKV1cclxuICAgIFtJbnRlcmZhY2VUeXBlKENvbUludGVyZmFjZVR5cGUuSW50ZXJmYWNlSXNEdWFsKV1cclxuI2VuZGlmXHJcbiAgICBwdWJsaWMgaW50ZXJmYWNlIF9TcWxGb3JtYXR0aW5nTWFuYWdlclxyXG4gICAge1xyXG4gICAgICAgIHN0cmluZyBGb3JtYXQoc3RyaW5nIGlucHV0U1FMKTtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuSW50ZXJmYWNlcztcclxuXHJcbm5hbWVzcGFjZSBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWJcclxue1xyXG4gICAgcHVibGljIGNsYXNzIFRva2VuIDogSVRva2VuXHJcbiAgICB7XHJcbiAgICAgICAgcHVibGljIFRva2VuKFNxbFRva2VuVHlwZSB0eXBlLCBzdHJpbmcgdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBUeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBTcWxUb2tlblR5cGUgVHlwZSB7IGdldDsgc2V0OyB9XHJcbiAgICAgICAgcHVibGljIHN0cmluZyBWYWx1ZSB7IGdldDsgc2V0OyB9XHJcbiAgICB9XHJcbn1cclxuIiwiLypcclxuUG9vciBNYW4ncyBULVNRTCBGb3JtYXR0ZXIgLSBhIHNtYWxsIGZyZWUgVHJhbnNhY3QtU1FMIGZvcm1hdHRpbmcgXHJcbmxpYnJhcnkgZm9yIC5OZXQgMi4wIGFuZCBKUywgd3JpdHRlbiBpbiBDIy4gXHJcbkNvcHlyaWdodCAoQykgMjAxMS0yMDE3IFRhbyBLbGVya3NcclxuXHJcblRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG50aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxyXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXHJcbmJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbk1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcclxuR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXHJcblxyXG5Zb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXHJcblxyXG4qL1xyXG5cclxudXNpbmcgU3lzdGVtO1xyXG51c2luZyBTeXN0ZW0uTGlucTtcclxudXNpbmcgU3lzdGVtLlRleHQuUmVndWxhckV4cHJlc3Npb25zO1xyXG51c2luZyBQb29yTWFuc1RTcWxGb3JtYXR0ZXJMaWIuSW50ZXJmYWNlcztcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLlBhcnNlU3RydWN0dXJlO1xyXG5cclxubmFtZXNwYWNlIFBvb3JNYW5zVFNxbEZvcm1hdHRlckxpYlxyXG57XHJcbiAgICBpbnRlcm5hbCBjbGFzcyBQYXJzZVRyZWUgOiBOb2RlSW1wbCwgTm9kZVxyXG4gICAge1xyXG4gICAgICAgIHB1YmxpYyBQYXJzZVRyZWUoc3RyaW5nIHJvb3ROYW1lKSA6IGJhc2UoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTmFtZSA9IHJvb3ROYW1lO1xyXG4gICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgTm9kZSBfY3VycmVudENvbnRhaW5lcjtcclxuICAgICAgICBpbnRlcm5hbCBOb2RlIEN1cnJlbnRDb250YWluZXJcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2N1cnJlbnRDb250YWluZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE51bGxFeGNlcHRpb24oXCJDdXJyZW50Q29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUuUm9vdENvbnRhaW5lcigpLkVxdWFscyh0aGlzKSlcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiQ3VycmVudCBDb250YWluZXIgbm9kZSBjYW4gb25seSBiZSBzZXQgdG8gYW4gZWxlbWVudCBpbiB0aGUgY3VycmVudCBkb2N1bWVudC5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRDb250YWluZXIgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBib29sIF9uZXdTdGF0ZW1lbnREdWU7XHJcbiAgICAgICAgaW50ZXJuYWwgYm9vbCBOZXdTdGF0ZW1lbnREdWVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX25ld1N0YXRlbWVudER1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgX25ld1N0YXRlbWVudER1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBib29sIEVycm9yRm91bmRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX25ld1N0YXRlbWVudER1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcml2YXRlIHNldFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXRBdHRyaWJ1dGUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0VSUk9SRk9VTkQsIFwiMVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5SZW1vdmVBdHRyaWJ1dGUoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkFOQU1FX0VSUk9SRk9VTkQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIFNldEVycm9yKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIuU2V0QXR0cmlidXRlKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5BTkFNRV9IQVNFUlJPUiwgXCIxXCIpO1xyXG4gICAgICAgICAgICBFcnJvckZvdW5kID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIE5vZGUgU2F2ZU5ld0VsZW1lbnQoc3RyaW5nIG5ld0VsZW1lbnROYW1lLCBzdHJpbmcgbmV3RWxlbWVudFZhbHVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFNhdmVOZXdFbGVtZW50KG5ld0VsZW1lbnROYW1lLCBuZXdFbGVtZW50VmFsdWUsIEN1cnJlbnRDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcm5hbCBOb2RlIFNhdmVOZXdFbGVtZW50KHN0cmluZyBuZXdFbGVtZW50TmFtZSwgc3RyaW5nIG5ld0VsZW1lbnRWYWx1ZSwgTm9kZSB0YXJnZXROb2RlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTm9kZSBuZXdFbGVtZW50ID0gTm9kZUZhY3RvcnkuQ3JlYXRlTm9kZShuZXdFbGVtZW50TmFtZSwgbmV3RWxlbWVudFZhbHVlKTtcclxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5BZGRDaGlsZChuZXdFbGVtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBOb2RlIFNhdmVOZXdFbGVtZW50V2l0aEVycm9yKHN0cmluZyBuZXdFbGVtZW50TmFtZSwgc3RyaW5nIG5ld0VsZW1lbnRWYWx1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgbmV3RWxlbWVudCA9IFNhdmVOZXdFbGVtZW50KG5ld0VsZW1lbnROYW1lLCBuZXdFbGVtZW50VmFsdWUpO1xyXG4gICAgICAgICAgICBTZXRFcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIE5vZGUgU2F2ZU5ld0VsZW1lbnRBc1ByaW9yU2libGluZyhzdHJpbmcgbmV3RWxlbWVudE5hbWUsIHN0cmluZyBuZXdFbGVtZW50VmFsdWUsIE5vZGUgbm9kZVRvU2F2ZUJlZm9yZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgbmV3RWxlbWVudCA9IE5vZGVGYWN0b3J5LkNyZWF0ZU5vZGUobmV3RWxlbWVudE5hbWUsIG5ld0VsZW1lbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5vZGVUb1NhdmVCZWZvcmUuUGFyZW50Lkluc2VydENoaWxkQmVmb3JlKG5ld0VsZW1lbnQsIG5vZGVUb1NhdmVCZWZvcmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgU3RhcnROZXdDb250YWluZXIoc3RyaW5nIG5ld0VsZW1lbnROYW1lLCBzdHJpbmcgY29udGFpbmVyT3BlblZhbHVlLCBzdHJpbmcgY29udGFpbmVyVHlwZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIgPSBTYXZlTmV3RWxlbWVudChuZXdFbGVtZW50TmFtZSwgXCJcIik7XHJcbiAgICAgICAgICAgIE5vZGUgY29udGFpbmVyT3BlbiA9IFNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfT1BFTiwgXCJcIik7XHJcbiAgICAgICAgICAgIFNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9PVEhFUktFWVdPUkQsIGNvbnRhaW5lck9wZW5WYWx1ZSwgY29udGFpbmVyT3Blbik7XHJcbiAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIgPSBTYXZlTmV3RWxlbWVudChjb250YWluZXJUeXBlLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIHZvaWQgU3RhcnROZXdTdGF0ZW1lbnQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU3RhcnROZXdTdGF0ZW1lbnQoQ3VycmVudENvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVybmFsIHZvaWQgU3RhcnROZXdTdGF0ZW1lbnQoTm9kZSB0YXJnZXROb2RlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTmV3U3RhdGVtZW50RHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIE5vZGUgbmV3U3RhdGVtZW50ID0gU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9TVEFURU1FTlQsIFwiXCIsIHRhcmdldE5vZGUpO1xyXG4gICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UsIFwiXCIsIG5ld1N0YXRlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIEVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JFVFdFRU5fVVBQRVJCT1VORClcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQkVUV0VFTl9DT05ESVRJT04pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vd2UganVzdCBlbmRlZCB0aGUgdXBwZXIgYm91bmQgb2YgYSBcIkJFVFdFRU5cIiBjb25kaXRpb24sIG5lZWQgdG8gcG9wIGJhY2sgdG8gdGhlIGVuY2xvc2luZyBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBFc2NhcGVNZXJnZUFjdGlvbigpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX01FUkdFX0FDVElPTilcclxuICAgICAgICAgICAgICAgICAgICAmJiBIYXNOb25XaGl0ZVNwYWNlTm9uQ29tbWVudENvbnRlbnQoQ3VycmVudENvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBFc2NhcGVQYXJ0aWFsU3RhdGVtZW50Q29udGFpbmVycygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfUFJPQ0VEVVJBTF9CTE9DSylcclxuICAgICAgICAgICAgICAgIHx8IFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgfHwgUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfREVDTEFSRV9CTE9DSylcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDEpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ1VSU09SX0ZPUl9PUFRJT05TKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMyk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9QRVJNSVNTSU9OU19SRUNJUElFTlQpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigzKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfR0VORVJBTENPTlRFTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9ERExfV0lUSF9DTEFVU0UpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKFBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfUEVSTUlTU0lPTlNfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IFBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX1BST0NFRFVSQUxfQkxPQ0spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IFBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX09USEVSX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9ERUNMQVJFX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcigzKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9NRVJHRV9XSEVOKSlcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICYmIChQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NURV9XSVRIX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICB8fCBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0RETF9ERUNMQVJFX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBFc2NhcGVBbnlTaW5nbGVPclBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKCk7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueVNlbGVjdGlvblRhcmdldCgpO1xyXG4gICAgICAgICAgICBFc2NhcGVKb2luQ29uZGl0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoSGFzTm9uV2hpdGVTcGFjZU5vbkNvbW1lbnRDb250ZW50KEN1cnJlbnRDb250YWluZXIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFc2NhcGVDdXJzb3JGb3JCbG9jaygpO1xyXG4gICAgICAgICAgICAgICAgRXNjYXBlTWVyZ2VBY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIEVzY2FwZVBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBQYXRoTmFtZU1hdGNoZXMoMiwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9TSU5HTEVTVEFURU1FTlQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgY3VycmVudFNpbmdsZUNvbnRhaW5lciA9IEN1cnJlbnRDb250YWluZXIuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGhOYW1lTWF0Y2hlcyhjdXJyZW50U2luZ2xlQ29udGFpbmVyLCAxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRUxTRV9DTEFVU0UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGp1c3QgZW5kZWQgdGhlIG9uZSBhbmQgb25seSBzdGF0ZW1lbnQgaW4gYW4gZWxzZSBjbGF1c2UsIGFuZCBuZWVkIHRvIHBvcCBvdXQgdG8gdGhlIHNhbWUgbGV2ZWwgYXMgaXRzIHBhcmVudCBpZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlQ29udGFpbmVyLmVsc2UuaWYuQ0FORElEQVRFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gY3VycmVudFNpbmdsZUNvbnRhaW5lci5QYXJlbnQuUGFyZW50LlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vd2UganVzdCBlbmRlZCB0aGUgb25lIHN0YXRlbWVudCBvZiBhbiBpZiBvciB3aGlsZSwgYW5kIG5lZWQgdG8gcG9wIG91dCB0aGUgc2FtZSBsZXZlbCBhcyB0aGF0IGlmIG9yIHdoaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGVDb250YWluZXIuKGlmIG9yIHdoaWxlKS5DQU5ESURBVEVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIgPSBjdXJyZW50U2luZ2xlQ29udGFpbmVyLlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHZvaWQgRXNjYXBlQ3Vyc29yRm9yQmxvY2soKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFBhdGhOYW1lTWF0Y2hlcygwLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSlcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygyLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDMsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DVVJTT1JfRk9SX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgJiYgSGFzTm9uV2hpdGVTcGFjZU5vbkNvbW1lbnRDb250ZW50KEN1cnJlbnRDb250YWluZXIpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAvL3dlIGp1c3QgZW5kZWQgdGhlIG9uZSBzZWxlY3Qgc3RhdGVtZW50IGluIGEgY3Vyc29yIGRlY2xhcmF0aW9uLCBhbmQgbmVlZCB0byBwb3Agb3V0IHRvIHRoZSBzYW1lIGxldmVsIGFzIHRoZSBjdXJzb3JcclxuICAgICAgICAgICAgICAgIE1vdmVUb0FuY2VzdG9yQ29udGFpbmVyKDUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBOb2RlIEVzY2FwZUFuZExvY2F0ZU5leHRTdGF0ZW1lbnRDb250YWluZXIoYm9vbCBlc2NhcGVFbXB0eUNvbnRhaW5lcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueVNpbmdsZU9yUGFydGlhbFN0YXRlbWVudENvbnRhaW5lcnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0JPT0xFQU5fRVhQUkVTU0lPTilcclxuICAgICAgICAgICAgICAgICYmIChQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0lGX1NUQVRFTUVOVClcclxuICAgICAgICAgICAgICAgICAgICB8fCBQYXRoTmFtZU1hdGNoZXMoMSwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISUxFX0xPT1ApXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL3dlIGp1c3QgZW5kZWQgdGhlIGJvb2xlYW4gY2xhdXNlIG9mIGFuIGlmIG9yIHdoaWxlLCBhbmQgbmVlZCB0byBwb3AgdG8gdGhlIHNpbmdsZS1zdGF0ZW1lbnQgY29udGFpbmVyLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNhdmVOZXdFbGVtZW50KFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9DT05UQUlORVJfU0lOR0xFU1RBVEVNRU5ULCBcIlwiLCBDdXJyZW50Q29udGFpbmVyLlBhcmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgJiYgUGF0aE5hbWVNYXRjaGVzKDEsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG4gICAgICAgICAgICAgICAgJiYgKGVzY2FwZUVtcHR5Q29udGFpbmVyIHx8IEhhc05vbldoaXRlU3BhY2VOb25TaW5nbGVDb21tZW50Q29udGVudChDdXJyZW50Q29udGFpbmVyKSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHJldHVybiBDdXJyZW50Q29udGFpbmVyLlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2b2lkIE1pZ3JhdGVBcHBsaWNhYmxlQ29tbWVudHNGcm9tQ29udGFpbmVyKE5vZGUgcHJldmlvdXNDb250YWluZXJFbGVtZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgTm9kZSBtaWdyYXRpb25Db250ZXh0ID0gcHJldmlvdXNDb250YWluZXJFbGVtZW50O1xyXG4gICAgICAgICAgICBOb2RlIG1pZ3JhdGlvbkNhbmRpZGF0ZSA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuTGFzdDxOb2RlPihwcmV2aW91c0NvbnRhaW5lckVsZW1lbnQuQ2hpbGRyZW4pO1xyXG5cclxuICAgICAgICAgICAgLy9rZWVwIHRyYWNrIG9mIHdoZXJlIHdlJ3JlIGdvaW5nIHRvIGJlIHByZXBlbmRpbmcgLSB0aGlzIHdpbGwgY2hhbmdlIGFzIHdlIGdvIG1vdmluZyBzdHVmZi5cclxuICAgICAgICAgICAgTm9kZSBpbnNlcnRCZWZvcmVOb2RlID0gQ3VycmVudENvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChtaWdyYXRpb25DYW5kaWRhdGUgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pZ3JhdGlvbkNhbmRpZGF0ZS5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJVEVTUEFDRSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uQ2FuZGlkYXRlID0gbWlncmF0aW9uQ2FuZGlkYXRlLlByZXZpb3VzU2libGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWlncmF0aW9uQ2FuZGlkYXRlLlByZXZpb3VzU2libGluZygpICE9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAmJiBTeXN0ZW0uQXJyYXlFeHRlbnNpb25zLkNvbnRhaW5zPHN0cmluZz4oU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9DT01NRU5ULG1pZ3JhdGlvbkNhbmRpZGF0ZS5OYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIFN5c3RlbS5BcnJheUV4dGVuc2lvbnMuQ29udGFpbnM8c3RyaW5nPihTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVMSVNUX05PTkNPTlRFTlQsbWlncmF0aW9uQ2FuZGlkYXRlLlByZXZpb3VzU2libGluZygpLk5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtaWdyYXRpb25DYW5kaWRhdGUuUHJldmlvdXNTaWJsaW5nKCkuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1dISVRFU1BBQ0UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIFJlZ2V4LklzTWF0Y2gobWlncmF0aW9uQ2FuZGlkYXRlLlByZXZpb3VzU2libGluZygpLlRleHRWYWx1ZSwgQFwiKFxccnxcXG4pK1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3dlIGhhdmUgYSBtYXRjaCwgc28gbWlncmF0ZSBldmVyeXRoaW5nIGNvbnNpZGVyZWQgc28gZmFyIChiYWNrd2FyZHMgZnJvbSB0aGUgZW5kKS4gbmVlZCB0byBrZWVwIHRyYWNrIG9mIHdoZXJlIHdlJ3JlIGluc2VydGluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCFTeXN0ZW0uTGlucS5FbnVtZXJhYmxlLkxhc3Q8Tm9kZT4obWlncmF0aW9uQ29udGV4dC5DaGlsZHJlbikuRXF1YWxzKG1pZ3JhdGlvbkNhbmRpZGF0ZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vZGUgbW92aW5nTm9kZSA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuTGFzdDxOb2RlPihtaWdyYXRpb25Db250ZXh0LkNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmluZ05vZGUuUGFyZW50LlJlbW92ZUNoaWxkKG1vdmluZ05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudENvbnRhaW5lci5QYXJlbnQuSW5zZXJ0Q2hpbGRCZWZvcmUobW92aW5nTm9kZSwgaW5zZXJ0QmVmb3JlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVOb2RlID0gbW92aW5nTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWdyYXRpb25DYW5kaWRhdGUuUGFyZW50LlJlbW92ZUNoaWxkKG1pZ3JhdGlvbkNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIuUGFyZW50Lkluc2VydENoaWxkQmVmb3JlKG1pZ3JhdGlvbkNhbmRpZGF0ZSwgaW5zZXJ0QmVmb3JlTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZU5vZGUgPSBtaWdyYXRpb25DYW5kaWRhdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21vdmUgb24gdG8gdGhlIG5leHQgY2FuZGlkYXRlIGVsZW1lbnQgZm9yIGNvbnNpZGVyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZ3JhdGlvbkNhbmRpZGF0ZSA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuTGFzdDxOb2RlPihtaWdyYXRpb25Db250ZXh0LkNoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIG9uZSB3YXNuJ3QgcHJvcGVybHkgc2VwYXJhdGVkIGZyb20gdGhlIHByZXZpb3VzIG5vZGUvZW50cnksIGtlZXAgZ29pbmcgaW4gY2FzZSB0aGVyZSdzIGEgbGluZWJyZWFrIGZ1cnRoZXIgdXAuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZ3JhdGlvbkNhbmRpZGF0ZSA9IG1pZ3JhdGlvbkNhbmRpZGF0ZS5QcmV2aW91c1NpYmxpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc3RyaW5nLklzTnVsbE9yRW1wdHkobWlncmF0aW9uQ2FuZGlkYXRlLlRleHRWYWx1ZSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy93ZSBmb3VuZCBhIG5vbi13aGl0ZXNwYWNlIG5vbi1jb21tZW50IG5vZGUgd2l0aCB0ZXh0IGNvbnRlbnQuIFN0b3AgdHJ5aW5nIHRvIG1pZ3JhdGUgY29tbWVudHMuXHJcbiAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uQ2FuZGlkYXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3dhbGsgdXAgdGhlIGxhc3QgZm91bmQgbm9kZSwgaW4gY2FzZSB0aGUgY29tbWVudCBnb3QgdHJhcHBlZCBpbiBzb21lIHN1YnN0cnVjdHVyZS5cclxuICAgICAgICAgICAgICAgICAgICBtaWdyYXRpb25Db250ZXh0ID0gbWlncmF0aW9uQ2FuZGlkYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pZ3JhdGlvbkNhbmRpZGF0ZSA9IFN5c3RlbS5MaW5xLkVudW1lcmFibGUuTGFzdE9yRGVmYXVsdDxOb2RlPihtaWdyYXRpb25DYW5kaWRhdGUuQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIENvbnNpZGVyU3RhcnRpbmdOZXdTdGF0ZW1lbnQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRXNjYXBlQW55QmV0d2VlbkNvbmRpdGlvbnMoKTtcclxuICAgICAgICAgICAgRXNjYXBlQW55U2VsZWN0aW9uVGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIEVzY2FwZUpvaW5Db25kaXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIC8vYmVmb3JlIHNpbmdsZS1zdGF0ZW1lbnQtZXNjYXBpbmdcclxuICAgICAgICAgICAgTm9kZSBwcmV2aW91c0NvbnRhaW5lckVsZW1lbnQgPSBDdXJyZW50Q29udGFpbmVyO1xyXG5cclxuICAgICAgICAgICAgLy9jb250ZXh0IG1pZ2h0IGNoYW5nZSBBTkQgc3VpdGFibGUgYW5jZXN0b3Igc2VsZWN0ZWRcclxuICAgICAgICAgICAgTm9kZSBuZXh0U3RhdGVtZW50Q29udGFpbmVyID0gRXNjYXBlQW5kTG9jYXRlTmV4dFN0YXRlbWVudENvbnRhaW5lcihmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIHN1aXRhYmxlIGFuY2VzdG9yIGZvdW5kLCBzdGFydCBzdGF0ZW1lbnQgYW5kIG1pZ3JhdGUgaW4tYmV0d2VlbiBjb21tZW50cyB0byB0aGUgbmV3IHN0YXRlbWVudFxyXG4gICAgICAgICAgICBpZiAobmV4dFN0YXRlbWVudENvbnRhaW5lciAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBOb2RlIGluQmV0d2VlbkNvbnRhaW5lckVsZW1lbnQgPSBDdXJyZW50Q29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgU3RhcnROZXdTdGF0ZW1lbnQobmV4dFN0YXRlbWVudENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluQmV0d2VlbkNvbnRhaW5lckVsZW1lbnQuRXF1YWxzKHByZXZpb3VzQ29udGFpbmVyRWxlbWVudCkpXHJcbiAgICAgICAgICAgICAgICAgICAgTWlncmF0ZUFwcGxpY2FibGVDb21tZW50c0Zyb21Db250YWluZXIoaW5CZXR3ZWVuQ29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBNaWdyYXRlQXBwbGljYWJsZUNvbW1lbnRzRnJvbUNvbnRhaW5lcihwcmV2aW91c0NvbnRhaW5lckVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIENvbnNpZGVyU3RhcnRpbmdOZXdDbGF1c2UoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRXNjYXBlQW55U2VsZWN0aW9uVGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIEVzY2FwZUFueUJldHdlZW5Db25kaXRpb25zKCk7XHJcbiAgICAgICAgICAgIEVzY2FwZVBhcnRpYWxTdGF0ZW1lbnRDb250YWluZXJzKCk7XHJcbiAgICAgICAgICAgIEVzY2FwZUpvaW5Db25kaXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChDdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfQ0xBVVNFKVxyXG4gICAgICAgICAgICAgICAgJiYgSGFzTm9uV2hpdGVTcGFjZU5vblNpbmdsZUNvbW1lbnRDb250ZW50KEN1cnJlbnRDb250YWluZXIpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vY29tcGxldGUgY3VycmVudCBjbGF1c2UsIHN0YXJ0IGEgbmV3IG9uZSBpbiB0aGUgc2FtZSBjb250YWluZXJcclxuICAgICAgICAgICAgICAgIE5vZGUgcHJldmlvdXNDb250YWluZXJFbGVtZW50ID0gQ3VycmVudENvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIgPSBTYXZlTmV3RWxlbWVudChTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU1FMX0NMQVVTRSwgXCJcIiwgQ3VycmVudENvbnRhaW5lci5QYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgTWlncmF0ZUFwcGxpY2FibGVDb21tZW50c0Zyb21Db250YWluZXIocHJldmlvdXNDb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChDdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9FWFBSRVNTSU9OX1BBUkVOUylcclxuXHRcdFx0XHR8fCBDdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9JTl9QQVJFTlMpXHJcblx0XHRcdFx0fHwgQ3VycmVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfU0VMRUNUSU9OVEFSR0VUX1BBUkVOUylcclxuXHRcdFx0XHR8fCBDdXJyZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfU1RBVEVNRU5UKVxyXG5cdFx0XHRcdClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUgbmV3IGNsYXVzZSBhbmQgc2V0IGNvbnRleHQgdG8gaXQuXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50Q29udGFpbmVyID0gU2F2ZU5ld0VsZW1lbnQoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX1NRTF9DTEFVU0UsIFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCB2b2lkIEVzY2FwZUFueVNlbGVjdGlvblRhcmdldCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoUGF0aE5hbWVNYXRjaGVzKDAsIFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TRUxFQ1RJT05UQVJHRVQpKVxyXG4gICAgICAgICAgICAgICAgQ3VycmVudENvbnRhaW5lciA9IEN1cnJlbnRDb250YWluZXIuUGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBFc2NhcGVKb2luQ29uZGl0aW9uKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChQYXRoTmFtZU1hdGNoZXMoMCwgU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTlRBSU5FUl9HRU5FUkFMQ09OVEVOVClcclxuICAgICAgICAgICAgICAgICYmIFBhdGhOYW1lTWF0Y2hlcygxLCBTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfSk9JTl9PTl9TRUNUSU9OKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoMik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBib29sIEZpbmRWYWxpZEJhdGNoRW5kKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgbmV4dFN0YXRlbWVudENvbnRhaW5lciA9IEVzY2FwZUFuZExvY2F0ZU5leHRTdGF0ZW1lbnRDb250YWluZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGVtZW50Q29udGFpbmVyICE9IG51bGxcclxuICAgICAgICAgICAgICAgICYmIChuZXh0U3RhdGVtZW50Q29udGFpbmVyLk5hbWUuRXF1YWxzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRV9TUUxfUk9PVClcclxuICAgICAgICAgICAgICAgICAgICB8fCAobmV4dFN0YXRlbWVudENvbnRhaW5lci5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09OVEFJTkVSX0dFTkVSQUxDT05URU5UKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBuZXh0U3RhdGVtZW50Q29udGFpbmVyLlBhcmVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfRERMX0FTX0JMT0NLKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludGVybmFsIGJvb2wgUGF0aE5hbWVNYXRjaGVzKGludCBsZXZlbHNVcCwgc3RyaW5nIG5hbWVUb01hdGNoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhdGhOYW1lTWF0Y2hlcyhDdXJyZW50Q29udGFpbmVyLCBsZXZlbHNVcCwgbmFtZVRvTWF0Y2gpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgYm9vbCBQYXRoTmFtZU1hdGNoZXMoTm9kZSB0YXJnZXROb2RlLCBpbnQgbGV2ZWxzVXAsIHN0cmluZyBuYW1lVG9NYXRjaClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xyXG4gICAgICAgICAgICB3aGlsZSAobGV2ZWxzVXAgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLlBhcmVudDtcclxuICAgICAgICAgICAgICAgIGxldmVsc1VwLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnROb2RlICE9IG51bGwgJiYgY3VycmVudE5vZGUuTmFtZS5FcXVhbHMobmFtZVRvTWF0Y2gpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgYm9vbCBIYXNOb25XaGl0ZVNwYWNlTm9uU2luZ2xlQ29tbWVudENvbnRlbnQoTm9kZSBjb250YWluZXJOb2RlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yZWFjaCAoTm9kZSB0ZXN0RWxlbWVudCBpbiBjb250YWluZXJOb2RlLkNoaWxkcmVuKVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0RWxlbWVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfV0hJVEVTUEFDRSlcclxuICAgICAgICAgICAgICAgICAgICAmJiAhdGVzdEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORSlcclxuICAgICAgICAgICAgICAgICAgICAmJiAhdGVzdEVsZW1lbnQuTmFtZS5FcXVhbHMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FX0NPTU1FTlRfU0lOR0xFTElORV9DU1RZTEUpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKCF0ZXN0RWxlbWVudC5OYW1lLkVxdWFscyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVfQ09NTUVOVF9NVUxUSUxJTkUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IFJlZ2V4LklzTWF0Y2godGVzdEVsZW1lbnQuVGV4dFZhbHVlLCBAXCIoXFxyfFxcbikrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcm5hbCBib29sIEhhc05vbldoaXRlU3BhY2VOb25Db21tZW50Q29udGVudChOb2RlIGNvbnRhaW5lck5vZGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5Bbnk8Tm9kZT4oY29udGFpbmVyTm9kZS5DaGlsZHJlbkV4Y2x1ZGluZ05hbWVzKFNxbFN0cnVjdHVyZUNvbnN0YW50cy5FTkFNRUxJU1RfTk9OQ09OVEVOVCkpO1xyXG4gICAgICAgIH1cclxuXHJcblx0XHRpbnRlcm5hbCBOb2RlIEdldEZpcnN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoTm9kZSB0YXJnZXRFbGVtZW50KVxyXG5cdFx0e1xyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5GaXJzdE9yRGVmYXVsdDxOb2RlPih0YXJnZXRFbGVtZW50LkNoaWxkcmVuRXhjbHVkaW5nTmFtZXMoU3FsU3RydWN0dXJlQ29uc3RhbnRzLkVOQU1FTElTVF9OT05DT05URU5UKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aW50ZXJuYWwgTm9kZSBHZXRMYXN0Tm9uV2hpdGVzcGFjZU5vbkNvbW1lbnRDaGlsZEVsZW1lbnQoTm9kZSB0YXJnZXRFbGVtZW50KVxyXG5cdFx0e1xyXG4gICAgICAgICAgICByZXR1cm4gU3lzdGVtLkxpbnEuRW51bWVyYWJsZS5MYXN0T3JEZWZhdWx0PE5vZGU+KHRhcmdldEVsZW1lbnQuQ2hpbGRyZW5FeGNsdWRpbmdOYW1lcyhTcWxTdHJ1Y3R1cmVDb25zdGFudHMuRU5BTUVMSVNUX05PTkNPTlRFTlQpKTtcclxuXHRcdH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWwgdm9pZCBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcihpbnQgbGV2ZWxzVXApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBNb3ZlVG9BbmNlc3RvckNvbnRhaW5lcihsZXZlbHNVcCwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVybmFsIHZvaWQgTW92ZVRvQW5jZXN0b3JDb250YWluZXIoaW50IGxldmVsc1VwLCBzdHJpbmcgdGFyZ2V0Q29udGFpbmVyTmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE5vZGUgY2FuZGlkYXRlQ29udGFpbmVyID0gQ3VycmVudENvbnRhaW5lcjtcclxuICAgICAgICAgICAgd2hpbGUgKGxldmVsc1VwID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlQ29udGFpbmVyID0gY2FuZGlkYXRlQ29udGFpbmVyLlBhcmVudDtcclxuICAgICAgICAgICAgICAgIGxldmVsc1VwLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0cmluZy5Jc051bGxPckVtcHR5KHRhcmdldENvbnRhaW5lck5hbWUpIHx8IGNhbmRpZGF0ZUNvbnRhaW5lci5OYW1lLkVxdWFscyh0YXJnZXRDb250YWluZXJOYW1lKSlcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRDb250YWluZXIgPSBjYW5kaWRhdGVDb250YWluZXI7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJBbmNlc3RvciBub2RlIGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkIG5hbWUhXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG5Qb29yIE1hbidzIFQtU1FMIEZvcm1hdHRlciAtIGEgc21hbGwgZnJlZSBUcmFuc2FjdC1TUUwgZm9ybWF0dGluZyBcclxubGlicmFyeSBmb3IgLk5ldCAyLjAgYW5kIEpTLCB3cml0dGVuIGluIEMjLiBcclxuQ29weXJpZ2h0IChDKSAyMDExLTIwMTcgVGFvIEtsZXJrc1xyXG5cclxuVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcclxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XHJcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXHJcbihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcblxyXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcclxuTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxyXG5HTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cclxuXHJcbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxyXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cclxuXHJcbiovXHJcblxyXG51c2luZyBTeXN0ZW07XHJcbnVzaW5nIFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljO1xyXG51c2luZyBTeXN0ZW0uVGV4dDtcclxudXNpbmcgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliLkludGVyZmFjZXM7XHJcblxyXG5uYW1lc3BhY2UgUG9vck1hbnNUU3FsRm9ybWF0dGVyTGliXHJcbntcclxuICAgIHB1YmxpYyBjbGFzcyBUb2tlbkxpc3QgOiBMaXN0PElUb2tlbj4sIElUb2tlbkxpc3RcclxuICAgIHtcclxuICAgICAgICBwdWJsaWMgYm9vbCBIYXNVbmZpbmlzaGVkVG9rZW4geyBnZXQ7IHNldDsgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHB1YmxpYyBzdHJpbmcgUHJldHR5UHJpbnQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU3RyaW5nQnVpbGRlciBvdXRTdHJpbmcgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xyXG4gICAgICAgICAgICBmb3JlYWNoKElUb2tlbiBjb250ZW50VG9rZW4gaW4gdGhpcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nIHRva2VuVHlwZSA9IGNvbnRlbnRUb2tlbi5UeXBlLlRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKHRva2VuVHlwZS5QYWRSaWdodCgyMCkpO1xyXG4gICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIjogXCIpO1xyXG4gICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChjb250ZW50VG9rZW4uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUb2tlbi5FcXVhbHModGhpcy5NYXJrZXJUb2tlbikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIiAoTUFSS0VSIC0gcG9zIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kKHRoaXMuTWFya2VyUG9zaXRpb24uVG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0U3RyaW5nLkFwcGVuZChcIilcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvdXRTdHJpbmcuQXBwZW5kTGluZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRTdHJpbmcuVG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBuZXcgSUxpc3Q8SVRva2VuPiBHZXRSYW5nZShpbnQgaW5kZXgsIGludCBjb3VudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXNlLkdldFJhbmdlKGluZGV4LCBjb3VudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgSUxpc3Q8SVRva2VuPiBHZXRSYW5nZUJ5SW5kZXgoaW50IGZyb21JbmRleCwgaW50IHRvSW5kZXgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5HZXRSYW5nZShmcm9tSW5kZXgsIHRvSW5kZXggLSBmcm9tSW5kZXggKyAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBJVG9rZW4gTWFya2VyVG9rZW4geyBnZXQ7IHNldDsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgbG9uZz8gTWFya2VyUG9zaXRpb24geyBnZXQ7IHNldDsgfVxyXG4gICAgfVxyXG59XHJcbiJdCn0K
